<html lang="en"><head>
    <meta charset="utf-8">
    <title>HTML Images</title>
    <script src="https://www.w3.org/Tools/respec/respec-w3c-common" class="remove"></script>
    <script class="remove">
      var respecConfig = {
              specStatus:     "ED"
          ,   shortName:      "html-images"
          ,   editors:      [{ name: "Up for the taking" }]
          ,   wg:             "HTML Working Group"
          ,   wgURI:          "http://www.w3.org/html/wg/"
          ,   wgPublicList:   "public-html"
          ,   wgPatentURI:    "http://www.w3.org/2004/01/pp-impl/40318/status"
          ,   license:        "cc-by"
          ,   processVersion: "2014"
        };
    </script>
  </head>
  <body>
    <section id="abstract">
      <p>
        Pretty pictures.
      </p>
    </section>
    <section id="sotd">
      <p>
        This specification is an experimental breakup of the
        <a href="http://www.w3.org/TR/html51/">HTML specification</a>. You can see the full list on
        <a href="https://darobin.github.io/breakup/specs/">the index page</a> and take part in the
        discussion in <a href="https://github.com/darobin/breakup/">the repository</a>.
      </p>
    </section>
  

<section><h2>Introduction</h2>

  <p><i>This section is non-normative.</i></p>

  <p>To embed an image in HTML, when there is only a single image resource,
  use the <code id="introduction-3:the-img-element"><a href="/breakup/specs/html-images/#the-img-element">img</a></code> element and its <code id="introduction-3:attr-img-src"><a href="/breakup/specs/html-images/#attr-img-src">src</a></code> attribute.</p>

  <div class="example">

<pre>&lt;h2&gt;From today's featured article&lt;/h2&gt;
<strong>&lt;img src="/uploads/100-marie-lloyd.jpg" alt="" width="100" height="150"&gt;</strong>
&lt;p&gt;&lt;b&gt;&lt;a href="/wiki/Marie_Lloyd"&gt;Marie Lloyd&lt;/a&gt;&lt;/b&gt; (1870–1922)
was an English &lt;a href="/wiki/Music_hall"&gt;music hall&lt;/a&gt; singer, ...</pre>

  </div>

  <p>However, there are a number of situations for which the author might wish
  to use multiple image resources that the user agent can choose from:</p>

  <ul><li>

    <p>Different users might have different environmental characteristics:</p>

    <ul><li>

      <p>The users' physical screen size might be different from one another.</p>

      <p class="example">A mobile phone's screen might be 4 inches diagonally, while a laptop's screen might be 14 inches diagonally.</p>

      <p class="note">This is only relevant when an image's rendered size depends on the viewport size.</p>

     </li><li>

      <p>The users' screen pixel density might be different from one another.</p>

      <p class="example">A mobile phone's screen might have three times as many physical pixels per inch
      compared to another mobile phone's screen, regardless of their physical screen size.</p>

     </li><li>

      <p>The users' zoom level might be different from one another, or might change for a single user over time.</p>

      <p class="example">A user might zoom in to a particular image to be able to get a more detailed look.</p>

      <p>The zoom level and the screen pixel density (the previous point) can both affect the number of physical screen pixels per CSS pixel.
      This ratio is usually referred to as <dfn id="device-pixel-ratio">device-pixel-ratio</dfn>.</p>

     </li><li>

      <p>The users' screen orientation might be different from one another, or might change for a single user over time.</p>

      <p class="example">A tablet can be held upright or rotated 90 degrees, so that the screen is either "portrait" or "landscape".</p>

     </li><li>

      <p>The users' network speed, network latency and bandwidth cost might be different from one another, or might change for a single user over time.</p>

      <p class="example">A user might be on a fast, low-latency and constant-cost connection while at work,
      on a slow, low-latency and constant-cost connection while at home,
      and on a variable-speed, high-latency and variable-cost connection anywhere else.</p>

     </li></ul>

   </li><li>

    <p>Authors might want to show the same image content but with different rendered size depending on, usually, the width of the viewport.
    This is usually referred to as <dfn id="viewport-based-selection">viewport-based selection</dfn>.</p>

    <p class="example">A Web page might have a banner at the top that always spans the entire viewport width.
    In this case, the rendered size of the image depends on the physical size of the screen (assuming a maximised browser window).</p>

    <p class="example">Another Web page might have images in columns,
    with a single column for screens with a small physical size,
    two columns for screens with medium physical size,
    and three columns for screens with big physical size,
    with the images varying in rendered size in each case to fill up the viewport.
    In this case, the rendered size of an image might be <em>bigger</em> in the one-column layout compared to the two-column layout,
    despite the screen being smaller.</p>

   </li><li>

    <p>Authors might want to show different image content depending on the rendered size of the image.
    This is usually referred to as <dfn id="art-direction">art direction</dfn>.</p>

    <p class="example">When a Web page is viewed on a screen with a large physical size (assuming a maximised browser window),
    the author might wish to include some less relevant parts surrounding the critical part of the image.
    When the same Web page is viewed on a screen with a small physical size,
    the author might wish to show only the critical part of the image.</p>

   </li><li>

    <p>Authors might want to show the same image content but using different image formats, depending on which image formats the user agent supports.
    This is usually referred to as <dfn id="image-format-based-selection">image format-based selection</dfn>.</p>

    <p class="example">A Web page might have some images in the JPEG, WebP and JPEG XR image formats,
    with the latter two having better compression abilities compared to JPEG.
    Since different user agents can support different image formats,
    with some formats offering better compression ratios,
    the author would like to serve the better formats to user agents that support them,
    while providing JPEG fallback for user agents that don't.</p>

   </li></ul>

  <p>The above situations are not mutually exclusive.
  For example, it is reasonable to combine different resources for different <a href="/breakup/specs/html-images/#device-pixel-ratio" id="introduction-3:device-pixel-ratio">device-pixel-ratio</a>
  with different resources for <a href="/breakup/specs/html-images/#art-direction" id="introduction-3:art-direction">art direction</a>.</p>

  <p>While it is possible to solve these problems using scripting, doing so introduces some other problems:</p>

  <ul><li><p>Some user agents aggressively download images specified in the HTML markup,
   before scripts have had a chance to run,
   so that Web pages complete loading sooner.
   If a script changes which image to download,
   the user agent will potentially start two separate downloads,
   which can instead cause worse page loading performance.</p></li><li><p>If the author avoids specifying any image in the HTML markup
   and instead instantiates a single download from script,
   that avoids the double download problem above
   but then no image will be downloaded at all for users with scripting disabled
   and the aggressive image downloading optimisation will also be disabled.</p></li></ul>

  <p>With this in mind, this specification introduces a number of features to address the above problems in a declarative manner.</p>

  <dl><dt><a href="/breakup/specs/html-images/#device-pixel-ratio" id="introduction-3:device-pixel-ratio-2">Device-pixel-ratio</a>-based selection when the rendered size of the image is fixed</dt><dd>

    <p>The <code id="introduction-3:attr-img-src-2"><a href="/breakup/specs/html-images/#attr-img-src">src</a></code> and <code id="introduction-3:attr-img-srcset"><a href="/breakup/specs/html-images/#attr-img-srcset">srcset</a></code>
    attributes on the <code id="introduction-3:the-img-element-2"><a href="/breakup/specs/html-images/#the-img-element">img</a></code> element can be used,
    using the <code>x</code> descriptor,
    to provide multiple images that only vary in their size
    (the smaller image is a scaled-down version of the bigger image).</p>

    <p class="note">The <code>x</code> descriptor is not appropriate when the
    rendered size of the image depends on the viewport width (<a href="/breakup/specs/html-images/#viewport-based-selection" id="introduction-3:viewport-based-selection">viewport-based selection</a>),
    but can be used together with <a href="/breakup/specs/html-images/#art-direction" id="introduction-3:art-direction-2">art direction</a>.</p>

    <div class="example">

<pre>&lt;h2&gt;From today's featured article&lt;/h2&gt;
&lt;img <strong>src="/uploads/100-marie-lloyd.jpg"</strong>
     <strong>srcset="/uploads/150-marie-lloyd.jpg 1.5x, /uploads/200-marie-lloyd.jpg 2x"</strong>
     alt="" width="100" height="150"&gt;
&lt;p&gt;&lt;b&gt;&lt;a href="/wiki/Marie_Lloyd"&gt;Marie Lloyd&lt;/a&gt;&lt;/b&gt; (1870–1922)
was an English &lt;a href="/wiki/Music_hall"&gt;music hall&lt;/a&gt; singer, ...</pre>

     <p>The user agent can choose any of the given resources depending on
     the user's screen's pixel density, zoom level, and possibly other factors such as the user's network conditions.</p>

     <p>For backwards compatibility with older user agents that
     don't yet understand the <code id="introduction-3:attr-img-srcset-2"><a href="/breakup/specs/html-images/#attr-img-srcset">srcset</a></code> attribute,
     one of the URLs is specified in the <code id="introduction-3:the-img-element-3"><a href="/breakup/specs/html-images/#the-img-element">img</a></code> element's <code id="introduction-3:attr-img-src-3"><a href="/breakup/specs/html-images/#attr-img-src">src</a></code> attribute.
     This will result in something useful (though perhaps lower-resolution than the user would like)
     being displayed even in older user agents.
     For new user agents, the <code id="introduction-3:attr-img-src-4"><a href="/breakup/specs/html-images/#attr-img-src">src</a></code> attribute participates in the resource selection,
     as if it was specified in <code id="introduction-3:attr-img-srcset-3"><a href="/breakup/specs/html-images/#attr-img-srcset">srcset</a></code> with a <code>1x</code> descriptor.</p>

     <p>The image's rendered size is given in the
     <code id="introduction-3:attr-dim-width"><a href="#attr-dim-width">width</a></code> and <code id="introduction-3:attr-dim-height"><a href="#attr-dim-height">height</a></code> attributes,
     which allows the user agent to allocate space for the image before it is downloaded.</p>

    </div>

   </dd><dt><a href="/breakup/specs/html-images/#viewport-based-selection" id="introduction-3:viewport-based-selection-2">Viewport-based selection</a></dt><dd>

    <p>The <code id="introduction-3:attr-img-srcset-4"><a href="/breakup/specs/html-images/#attr-img-srcset">srcset</a></code> and <code id="introduction-3:attr-img-sizes"><a href="/breakup/specs/html-images/#attr-img-sizes">sizes</a></code> attributes can be used,
    using the <code>w</code> descriptor,
    to provide multiple images that only vary in their size
    (the smaller image is a scaled-down version of the bigger image).</p>

    <div class="example">

     <p>In this example, a banner image takes up the entire viewport width
     (using appropriate CSS).</p>

<pre>&lt;h1&gt;&lt;img <strong>sizes="100vw" srcset="wolf-400.jpg 400w, wolf-800.jpg 800w, wolf-1600.jpg 1600w"</strong>
     src="wolf-400.jpg" alt="The rad wolf"&gt;&lt;/h1&gt;</pre>

     <p>The user agent will calculate the effective pixel density of each image
     from the specified <code>w</code> descriptors and the specified rendered size in the <code id="introduction-3:attr-img-sizes-2"><a href="/breakup/specs/html-images/#attr-img-sizes">sizes</a></code> attribute.
     It can then choose any of the given resources depending on
     the user's screen's pixel density, zoom level, and possibly other factors such as the user's network conditions.</p>

     <p>If the user's screen is 320 CSS pixels wide, this is equivalent to specifying
     <code>wolf-400.jpg 1.25x, wolf-800.jpg 2.5x, wolf-1600.jpg 5x</code>.
     On the other hand, if the user's screen is 1200 CSS pixels wide,
     this is equivalent to specifying
     <code>wolf-400.jpg 0.33x, wolf-800.jpg 0.67x, wolf-1600.jpg 1.33x</code>.
     By using the <code>w</code> descriptors and the <code id="introduction-3:attr-img-sizes-3"><a href="/breakup/specs/html-images/#attr-img-sizes">sizes</a></code> attribute,
     the user agent can choose the correct image source to download regardless of how large the user's device is.</p>

     <p>For backwards compatibility,
     one of the URLs is specified in the <code id="introduction-3:the-img-element-4"><a href="/breakup/specs/html-images/#the-img-element">img</a></code> element's <code id="introduction-3:attr-img-src-5"><a href="/breakup/specs/html-images/#attr-img-src">src</a></code> attribute.
     In new user agents, the <code id="introduction-3:attr-img-src-6"><a href="/breakup/specs/html-images/#attr-img-src">src</a></code> attribute is ignored
     when the <code id="introduction-3:attr-img-srcset-5"><a href="/breakup/specs/html-images/#attr-img-srcset">srcset</a></code> attribute uses <code>w</code> descriptors.</p>

    </div>

    <div class="example">

     <p>In this example, the Web page has three layouts depending on the width of the viewport.
     The narrow layout has one column of images (the width of each image is about 100%),
     the middle layout has two columns of images (the width of each image is about 50%),
     and the widest layout has three columns of images, and some page margin (the width of each image is about 33%).
     It breaks between these layouts when the viewport is <code>30em</code> wide and <code>50em</code> wide, respectively.</p>

<pre>&lt;img <strong>sizes="(max-width: 30em) 100vw, (max-width: 50em) 50vw, calc(33vw - 100px)"</strong>
     <strong>srcset="swing-200.jpg 200w, swing-400.jpg 400w, swing-800.jpg 800w, swing-1600.jpg 1600w"</strong>
     src="swing-400.jpg" alt="Kettlebell Swing"&gt;</pre>

     <p>The <code id="introduction-3:attr-img-sizes-4"><a href="/breakup/specs/html-images/#attr-img-sizes">sizes</a></code> attribute sets up the
     layout breakpoints at <code>30em</code> and <code>50em</code>,
     and declares the image sizes between these breakpoints to be
     <code>100vw</code>, <code>50vw</code>, or <code>calc(33vw - 100px)</code>.
     These sizes do not necessarily have to match up exactly with the actual image width as specified in the CSS.</p>

     <p>The user agent will pick a width from the <code id="introduction-3:attr-img-sizes-5"><a href="/breakup/specs/html-images/#attr-img-sizes">sizes</a></code> attribute,
     using the first item with a <a href="/breakup/specs/html-images/#media-condition" id="introduction-3:media-condition">&lt;media-condition&gt;</a> (the part in parentheses) that evaluates to true,
     or using the last item (<code>calc(33vw - 100px)</code>) if they all evaluate to false.</p>

     <p>For example, if the viewport width is <code>29em</code>,
     then <code>(max-width: 30em)</code> evaluates to true and <code>100vw</code> is used,
     so the image size, for the purpose of resource selection, is <code>29em</code>.
     If the viewport width is instead <code>32em</code>,
     then <code>(max-width: 30em)</code> evaluates to false,
     but <code>(max-width: 50em)</code> evaluates to true and <code>50vw</code> is used,
     so the image size, for the purpose of resource selection, is <code>16em</code> (half the viewport width).
     Notice that the slightly wider viewport results in a smaller image because of the different layout.</p>

     <p>The user agent can then calculate the effective pixel density and choose an appropriate resource
     similarly to the previous example.</p>

    </div>

   </dd><dt><a href="/breakup/specs/html-images/#art-direction" id="introduction-3:art-direction-3">Art direction</a>-based selection</dt><dd>

    <p>The <code id="introduction-3:the-picture-element"><a href="/breakup/specs/html-images/#the-picture-element">picture</a></code> element and the <code id="introduction-3:the-source-element-when-used-with-the-picture-element"><a href="/breakup/specs/html-images/#the-source-element-when-used-with-the-picture-element">source</a></code> element,
    together with the <code id="introduction-3:attr-picture-source-media"><a href="/breakup/specs/html-images/#attr-picture-source-media">media</a></code> attribute,
    can be used, to provide multiple images that vary the image content
    (for instance the smaller image might be a cropped version of the bigger image).</p>

    <div class="example">

<pre>&lt;picture&gt;
  &lt;source <strong>media="(min-width: 45em)"</strong> srcset="large.jpg"&gt;
  &lt;source <strong>media="(min-width: 32em)"</strong> srcset="med.jpg"&gt;
  &lt;img src="small.jpg" alt="The president giving an award."&gt;
&lt;/picture&gt;</pre>

     <p>The user agent will choose the first <code id="introduction-3:the-source-element-when-used-with-the-picture-element-2"><a href="/breakup/specs/html-images/#the-source-element-when-used-with-the-picture-element">source</a></code> element
     for which the media query in the <code id="introduction-3:attr-picture-source-media-2"><a href="/breakup/specs/html-images/#attr-picture-source-media">media</a></code> attribute matches,
     and then choose an appropriate URL from its <code id="introduction-3:attr-picture-source-srcset"><a href="/breakup/specs/html-images/#attr-picture-source-srcset">srcset</a></code> attribute.</p>

     <p>The rendered size of the image varies depending on which resource is chosen.
     To specify dimensions that the user agent can use before having downloaded the image,
     CSS can be used.</p>

<pre class="css">img { width: 300px; height: 300px }
@media (min-width: 32em) { img { width: 500px; height:300px } }
@media (min-width: 45em) { img { width: 700px; height:400px } }</pre>

    </div>

    <div class="example">

     <p>This example combines <a href="/breakup/specs/html-images/#art-direction" id="introduction-3:art-direction-4">art direction</a>- and <a href="/breakup/specs/html-images/#device-pixel-ratio" id="introduction-3:device-pixel-ratio-3">device-pixel-ratio</a>-based selection.
     A banner that takes half the viewport is provided in two versions,
     one for wide screens and one for narrow screens.</p>

<pre>&lt;h1&gt;
 &lt;picture&gt;
  &lt;source media="(max-width: 500px)" srcset="banner-phone.jpeg, banner-phone-HD.jpeg 2x"&gt;
  &lt;img src="banner.jpeg" srcset="banner-HD.jpeg 2x" alt="The Breakfast Combo"&gt;
 &lt;/picture&gt;
&lt;/h1&gt;</pre>

    </div>

   </dd><dt><a href="/breakup/specs/html-images/#image-format-based-selection" id="introduction-3:image-format-based-selection">Image format-based selection</a></dt><dd>

    <p>The <code id="introduction-3:attr-picture-source-type"><a href="/breakup/specs/html-images/#attr-picture-source-type">type</a></code> attribute
    on the <code id="introduction-3:the-source-element-when-used-with-the-picture-element-3"><a href="/breakup/specs/html-images/#the-source-element-when-used-with-the-picture-element">source</a></code> element can be used,
    to provide multiple images in different formats.</p>

    <div class="example">

<pre>&lt;h2&gt;From today's featured article&lt;/h2&gt;
&lt;picture&gt;
 &lt;source srcset="/uploads/100-marie-lloyd.webp" <strong>type="image/webp"</strong>&gt;
 &lt;source srcset="/uploads/100-marie-lloyd.jxr" <strong>type="image/vnd.ms-photo"</strong>&gt;
 &lt;img src="/uploads/100-marie-lloyd.jpg" alt="" width="100" height="150"&gt;
&lt;/picture&gt;
&lt;p&gt;&lt;b&gt;&lt;a href="/wiki/Marie_Lloyd"&gt;Marie Lloyd&lt;/a&gt;&lt;/b&gt; (1870–1922)
was an English &lt;a href="/wiki/Music_hall"&gt;music hall&lt;/a&gt; singer, ...</pre>

     <p>In this example, the user agent will choose the first source that has
     a <code id="introduction-3:attr-picture-source-type-2"><a href="/breakup/specs/html-images/#attr-picture-source-type">type</a></code> attribute with a supported MIME type.
     If the user agent supports WebP images,
     the first <code id="introduction-3:the-source-element-when-used-with-the-picture-element-4"><a href="/breakup/specs/html-images/#the-source-element-when-used-with-the-picture-element">source</a></code> element will be chosen.
     If not, but the user agent does support JPEG XR images,
     the second <code id="introduction-3:the-source-element-when-used-with-the-picture-element-5"><a href="/breakup/specs/html-images/#the-source-element-when-used-with-the-picture-element">source</a></code> element will be chosen.
     If neither of those formats are supported,
     the <code id="introduction-3:the-img-element-5"><a href="/breakup/specs/html-images/#the-img-element">img</a></code> element will be chosen.</p>

    </div>

   </dd></dl>


  <section><h2>Adaptive images</h2>

  <p><i>This section is non-normative.</i></p>

  <p>CSS and media queries can be used to construct graphical page layouts that adapt dynamically to
  the user's environment, in particular to different viewport dimensions and pixel densities. For
  content, however, CSS does not help; instead, we have the <code id="adaptive-images:the-img-element"><a href="/breakup/specs/html-images/#the-img-element">img</a></code> element's <code id="adaptive-images:attr-img-srcset"><a href="/breakup/specs/html-images/#attr-img-srcset">srcset</a></code> attribute and the <code id="adaptive-images:the-picture-element"><a href="/breakup/specs/html-images/#the-picture-element">picture</a></code> element.
  This section walks through a sample case showing how to use these features.</p>

  <p>Consider a situation where on wide screens (wider than 600 CSS pixels) a 300×150 image
  named <code>a-rectangle.png</code> is to be used, but on smaller screens (600 CSS pixels
  and less), a smaller 100×100 image called <code>a-square.png</code> is to be used.
  The markup for this would look like this:</p>

  <pre>&lt;figure&gt;
 &lt;picture&gt;
  &lt;source srcset="a-square.png" media="(max-width: 600px)"&gt;
  &lt;img src="a-rectangle.png" alt="Barney Frank wears a suit and glasses."&gt;
 &lt;/picture&gt;
 &lt;figcaption&gt;Barney Frank, 2011&lt;/figcaption&gt;
&lt;/figure&gt;</pre>

  <p class="note">For details on what to put in the <code id="adaptive-images:attr-img-alt"><a href="/breakup/specs/html-images/#attr-img-alt">alt</a></code> attribute,
  see the <a href="/breakup/specs/html-images/#alt">Requirements for providing text to act as an alternative for images</a> section.</p>

  <p>The problem with this is that the user agent does not necessarily know what dimensions to use
  for the image when the image is loading. To avoid the layout having to be reflowed multiple times
  as the page is loading, CSS and CSS media queries can be used to provide the dimensions:</p>

  <pre>&lt;figure&gt;
 &lt;style scoped&gt;
  #a { width: 300px; height: 150px; }
  @media (max-width: 600px) { #a { width: 100px; height: 100px; } }
 &lt;/style&gt;
 &lt;picture&gt;
  &lt;source srcset="a-square.png" media="(max-width: 600px)"&gt;
  &lt;img src="a-rectangle.png" alt="Barney Frank wears a suit and glasses." id="a"&gt;
 &lt;/picture&gt;
 &lt;figcaption&gt;Barney Frank, 2011&lt;/figcaption&gt;
&lt;/figure&gt;</pre>

  <p>Alternatively, the <code id="adaptive-images:attr-dim-width"><a href="#attr-dim-width">width</a></code> and <code id="adaptive-images:attr-dim-height"><a href="#attr-dim-height">height</a></code> attributes can be used to provide the width for legacy user
  agents, using CSS just for the user agents that support <code id="adaptive-images:the-picture-element-2"><a href="/breakup/specs/html-images/#the-picture-element">picture</a></code>:</p>

  <pre>&lt;figure&gt;
 &lt;style scoped media="(max-width: 600px)"&gt;
  #a { width: 100px; height: 100px; }
 &lt;/style&gt;
 &lt;picture&gt;
  &lt;source srcset="a-square.png" media="(max-width: 600px)"&gt;
  &lt;img src="a-rectangle.png" width="300" height="150"
  alt="Barney Frank wears a suit and glasses." id="a"&gt;
 &lt;/picture&gt;
 &lt;figcaption&gt;Barney Frank, 2011&lt;/figcaption&gt;
&lt;/figure&gt;</pre>

  <hr>

  <p>The <code id="adaptive-images:the-img-element-2"><a href="/breakup/specs/html-images/#the-img-element">img</a></code> element is used with the <code id="adaptive-images:attr-img-src"><a href="/breakup/specs/html-images/#attr-img-src">src</a></code> attribute, which gives the URL of the image to use for legacy user
  agents that do not support the <code id="adaptive-images:the-picture-element-3"><a href="/breakup/specs/html-images/#the-picture-element">picture</a></code> element. This leads
  to a question of which image to provide in the <code id="adaptive-images:attr-img-src-2"><a href="/breakup/specs/html-images/#attr-img-src">src</a></code>
  attribute.</p>

  <p>If the author wants the biggest image in legacy user agents, the markup could be as follows:</p>

  <pre>&lt;picture&gt;
 &lt;source srcset="pear-mobile.jpeg" media="(max-width: 720px)"&gt;
 &lt;source srcset="pear-tablet.jpeg" media="(max-width: 1280px)"&gt;
 &lt;img src="pear-desktop.jpeg" alt="The pear is juicy."&gt;
&lt;/picture&gt;</pre>

  <p>However, if legacy mobile user agents are more important, one can list all three images in the
  <code id="adaptive-images:the-source-element-when-used-with-the-picture-element"><a href="/breakup/specs/html-images/#the-source-element-when-used-with-the-picture-element">source</a></code> elements, overriding the <code id="adaptive-images:attr-img-src-3"><a href="/breakup/specs/html-images/#attr-img-src">src</a></code> attribute entirely.</p>

  <pre>&lt;picture&gt;
 &lt;source srcset="pear-mobile.jpeg" media="(max-width: 720px)"&gt;
 &lt;source srcset="pear-tablet.jpeg" media="(max-width: 1280px)"&gt;
 &lt;source srcset="pear-desktop.jpeg"&gt;
 &lt;img src="pear-mobile.jpeg" alt="The pear is juicy."&gt;
&lt;/picture&gt;</pre>

  <p>Since at this point the <code id="adaptive-images:attr-img-src-4"><a href="/breakup/specs/html-images/#attr-img-src">src</a></code> attribute is actually being
  ignored entirely by <code id="adaptive-images:the-picture-element-4"><a href="/breakup/specs/html-images/#the-picture-element">picture</a></code>-supporting user agents, the <code id="adaptive-images:attr-img-src-5"><a href="/breakup/specs/html-images/#attr-img-src">src</a></code> attribute can default to any image, including one that is neither
  the smallest nor biggest:</p>

  <pre>&lt;picture&gt;
 &lt;source srcset="pear-mobile.jpeg" media="(max-width: 720px)"&gt;
 &lt;source srcset="pear-tablet.jpeg" media="(max-width: 1280px)"&gt;
 &lt;source srcset="pear-desktop.jpeg"&gt;
 &lt;img src="pear-tablet.jpeg" alt="The pear is juicy."&gt;
&lt;/picture&gt;</pre>

  <hr>

  <p>Above the <code>max-width</code> media feature is used, giving the maximum
  (viewport) dimensions that an image is intended for.
  It is also possible to use <code>min-width</code> instead.</p>

  <pre>&lt;picture&gt;
 &lt;source srcset="pear-desktop.jpeg" media="(min-width: 1281px)"&gt;
 &lt;source srcset="pear-tablet.jpeg" media="(min-width: 721px)"&gt;
 &lt;img src="pear-mobile.jpeg" alt="The pear is juicy."&gt;
&lt;/picture&gt;</pre></section></section><section><h2>Dependencies</h2>

  <dl><dt>Media Queries [[!MQ]]</dt><dd><dfn id="media-condition">&lt;media-condition&gt;</dfn></dd><dt>CSS Values and Units [[!CSSVALUES]]</dt><dd><dfn id="length">&lt;length&gt;</dfn></dd><dt>CSS Syntax [[!CSSSYNTAX]]</dt><dd><dfn id="parse-a-comma-separated-list-of-component-values">Parse a comma-separated list of component values</dfn></dd><dd><dfn id="component-value">component value</dfn></dd><dd><dfn id="whitespace-token">&lt;whitespace-token&gt;</dfn></dd><dt>Fetch [[!FETCH]]</dt><dd><dfn id="concept-request-context">context</dfn></dd></dl></section><section><h2>The <dfn><code>picture</code></dfn> element</h2>

  <dl class="element"><dt><a href="#concept-element-categories" id="the-picture-element:concept-element-categories">Categories</a>:</dt><dd><a href="#flow-content-2" id="the-picture-element:flow-content-2">Flow content</a>.</dd><dd><a href="#phrasing-content-2" id="the-picture-element:phrasing-content-2">Phrasing content</a>.</dd><dd><a href="#embedded-content-category" id="the-picture-element:embedded-content-category">Embedded content</a>.</dd><dt><a href="#concept-element-contexts" id="the-picture-element:concept-element-contexts">Contexts in which this element can be used</a>:</dt><dd>Where <a href="#embedded-content-category" id="the-picture-element:embedded-content-category-2">embedded content</a> is expected.</dd><dt><a href="#concept-element-content-model" id="the-picture-element:concept-element-content-model">Content model</a>:</dt><dd>Zero or more <code id="the-picture-element:the-source-element-when-used-with-the-picture-element"><a href="/breakup/specs/html-images/#the-source-element-when-used-with-the-picture-element">source</a></code> elements, followed by one <code id="the-picture-element:the-img-element"><a href="/breakup/specs/html-images/#the-img-element">img</a></code> element, optionally intermixed with <a href="#script-supporting-elements-2" id="the-picture-element:script-supporting-elements-2">script-supporting elements</a>.</dd><dt><a href="#concept-element-tag-omission" id="the-picture-element:concept-element-tag-omission">Tag omission in text/html</a>:</dt><dd>Neither tag is omissible.</dd><dt><a href="#concept-element-attributes" id="the-picture-element:concept-element-attributes">Content attributes</a>:</dt><dd><a href="/breakup/specs/html-attributes/#global-attributes" id="the-picture-element:global-attributes">Global attributes</a></dd><dt>Allowed <a href="#aria-role-attribute">ARIA role attribute</a> values:</dt><dd>None</dd><dt>Allowed <a href="#state-and-property-attributes">ARIA State and Property Attributes</a>:</dt><dd><a href="#index-aria-global">Global aria-* attributes</a></dd><dt><a href="#concept-element-dom" id="the-picture-element:concept-element-dom">DOM interface</a>:</dt><dd>
<pre class="idl">interface <dfn id="htmlpictureelement">HTMLPictureElement</dfn> : <a href="#htmlelement" id="the-picture-element:htmlelement">HTMLElement</a> {};</pre>
   </dd></dl>

  <p>The <code id="the-picture-element:the-picture-element"><a href="/breakup/specs/html-images/#the-picture-element">picture</a></code> element is a container
  which provides multiple sources to its contained <code id="the-picture-element:the-img-element-2"><a href="/breakup/specs/html-images/#the-img-element">img</a></code> element
  to allow authors to declaratively control or give hints to the user agent about which image resource to use,
  based on the screen pixel density, viewport size, image format, and other factors. It <a href="#represents" id="the-picture-element:represents">represents</a> its children.</p>

  <p class="note">The <code id="the-picture-element:the-picture-element-2"><a href="/breakup/specs/html-images/#the-picture-element">picture</a></code> element is somewhat different
  from the similar-looking <code id="the-picture-element:the-video-element"><a href="/breakup/specs/html-media/#the-video-element">video</a></code> and <code id="the-picture-element:the-audio-element"><a href="/breakup/specs/html-media/#the-audio-element">audio</a></code> elements.
  While all of them contain <code id="the-picture-element:the-source-element-when-used-with-the-picture-element-2"><a href="/breakup/specs/html-images/#the-source-element-when-used-with-the-picture-element">source</a></code> elements,
  the <code id="the-picture-element:the-source-element-when-used-with-the-picture-element-3"><a href="/breakup/specs/html-images/#the-source-element-when-used-with-the-picture-element">source</a></code> element's <code id="the-picture-element:attr-source-src"><a href="/breakup/specs/html-media/#attr-source-src">src</a></code> attribute has no meaning
  when the element is nested within a <code id="the-picture-element:the-picture-element-3"><a href="/breakup/specs/html-images/#the-picture-element">picture</a></code> element,
  and the resource selection algorithm is different.
  As well, the <code id="the-picture-element:the-picture-element-4"><a href="/breakup/specs/html-images/#the-picture-element">picture</a></code> element itself does not display anything;
  it merely provides a context for its contained <code id="the-picture-element:the-img-element-3"><a href="/breakup/specs/html-images/#the-img-element">img</a></code> element
  that enables it to choose from multiple <a href="/breakup/specs/core-algorithms/#url" id="the-picture-element:url">URLs</a>.</p></section><section><h2>The <dfn><code>source</code></dfn> element when used with the <code id="the-source-element-when-used-with-the-picture-element:the-picture-element"><a href="/breakup/specs/html-images/#the-picture-element">picture</a></code> element</h2>

  <dl class="element"><dt><a href="#concept-element-categories" id="the-source-element-when-used-with-the-picture-element:concept-element-categories">Categories</a>:</dt><dd>Same as for the <code id="the-source-element-when-used-with-the-picture-element:the-source-element"><a href="/breakup/specs/html-media/#the-source-element">source</a></code> element.</dd><dt><a href="#concept-element-contexts" id="the-source-element-when-used-with-the-picture-element:concept-element-contexts">Contexts in which this element can be used</a>:</dt><dd>As a child of a <code id="the-source-element-when-used-with-the-picture-element:the-picture-element-2"><a href="/breakup/specs/html-images/#the-picture-element">picture</a></code> element, before the <code id="the-source-element-when-used-with-the-picture-element:the-img-element"><a href="/breakup/specs/html-images/#the-img-element">img</a></code> element.</dd><dt><a href="#concept-element-content-model" id="the-source-element-when-used-with-the-picture-element:concept-element-content-model">Content model</a>:</dt><dd>Same as for the <code id="the-source-element-when-used-with-the-picture-element:the-source-element-2"><a href="/breakup/specs/html-media/#the-source-element">source</a></code> element.</dd><dt><a href="#concept-element-attributes" id="the-source-element-when-used-with-the-picture-element:concept-element-attributes">Content attributes</a>:</dt><dd><a href="/breakup/specs/html-attributes/#global-attributes" id="the-source-element-when-used-with-the-picture-element:global-attributes">Global attributes</a></dd><dd><code id="the-source-element-when-used-with-the-picture-element:attr-picture-source-srcset"><a href="/breakup/specs/html-images/#attr-picture-source-srcset">srcset</a></code></dd><dd><code id="the-source-element-when-used-with-the-picture-element:attr-picture-source-sizes"><a href="/breakup/specs/html-images/#attr-picture-source-sizes">sizes</a></code></dd><dd><code id="the-source-element-when-used-with-the-picture-element:attr-picture-source-media"><a href="/breakup/specs/html-images/#attr-picture-source-media">media</a></code></dd><dd><code id="the-source-element-when-used-with-the-picture-element:attr-picture-source-type"><a href="/breakup/specs/html-images/#attr-picture-source-type">type</a></code></dd><dt>Allowed <a href="#aria-role-attribute">ARIA role attribute</a> values:</dt><dd>None</dd><dt>Allowed <a href="#state-and-property-attributes">ARIA State and Property Attributes</a>:</dt><dd><a href="#index-aria-global">Global aria-* attributes</a></dd><dt><a href="#concept-element-dom" id="the-source-element-when-used-with-the-picture-element:concept-element-dom">DOM interface</a>:</dt><dd>
<pre class="idl">partial interface <a href="/breakup/specs/html-media/#htmlsourceelement" id="the-source-element-when-used-with-the-picture-element:htmlsourceelement">HTMLSourceElement</a> {
           attribute DOMString <a href="/breakup/specs/html-images/#dom-picture-source-srcset" id="the-source-element-when-used-with-the-picture-element:dom-picture-source-srcset">srcset</a>;
           attribute DOMString <a href="/breakup/specs/html-images/#dom-picture-source-sizes" id="the-source-element-when-used-with-the-picture-element:dom-picture-source-sizes">sizes</a>;
           attribute DOMString <a href="/breakup/specs/html-images/#dom-picture-source-media" id="the-source-element-when-used-with-the-picture-element:dom-picture-source-media">media</a>;
};</pre>
   </dd></dl>

  <p>The authoring requirements in this section only apply if the <code id="the-source-element-when-used-with-the-picture-element:the-source-element-when-used-with-the-picture-element"><a href="/breakup/specs/html-images/#the-source-element-when-used-with-the-picture-element">source</a></code> element has
  a parent that is a <code id="the-source-element-when-used-with-the-picture-element:the-picture-element-3"><a href="/breakup/specs/html-images/#the-picture-element">picture</a></code> element.</p>

  <p>The <code id="the-source-element-when-used-with-the-picture-element:the-source-element-when-used-with-the-picture-element-2"><a href="/breakup/specs/html-images/#the-source-element-when-used-with-the-picture-element">source</a></code> element allows authors to specify multiple alternative
  <a href="/breakup/specs/html-images/#source-set" id="the-source-element-when-used-with-the-picture-element:source-set">source sets</a> for <code id="the-source-element-when-used-with-the-picture-element:the-img-element-2"><a href="/breakup/specs/html-images/#the-img-element">img</a></code> elements.
  It does not <a href="#represents" id="the-source-element-when-used-with-the-picture-element:represents">represent</a> anything on its own.</p>

  <p>The <dfn id="attr-picture-source-srcset"><code>srcset</code></dfn> attribute must be present,
  and must consist of one or more <a href="/breakup/specs/html-images/#image-candidate-string" id="the-source-element-when-used-with-the-picture-element:image-candidate-string">image candidate strings</a>,
  each separated from the next by a U+002C COMMA character (,).
  If an <a href="/breakup/specs/html-images/#image-candidate-string" id="the-source-element-when-used-with-the-picture-element:image-candidate-string-2">image candidate string</a> contains no descriptors
  and no <a href="/breakup/specs/core-algorithms/#space-character" id="the-source-element-when-used-with-the-picture-element:space-character">space characters</a> after the URL,
  the following <a href="/breakup/specs/html-images/#image-candidate-string" id="the-source-element-when-used-with-the-picture-element:image-candidate-string-3">image candidate string</a>, if there is one,
  must begin with one or more <a href="/breakup/specs/core-algorithms/#space-character" id="the-source-element-when-used-with-the-picture-element:space-character-2">space characters</a>.</p>

  <p>If the <code id="the-source-element-when-used-with-the-picture-element:attr-picture-source-srcset-2"><a href="/breakup/specs/html-images/#attr-picture-source-srcset">srcset</a></code> attribute has any
  <a href="/breakup/specs/html-images/#image-candidate-string" id="the-source-element-when-used-with-the-picture-element:image-candidate-string-4">image candidate strings</a> using a <i>width descriptor</i>,
  the <dfn id="attr-picture-source-sizes"><code>sizes</code></dfn> attribute must also be present,
  and the value must be a <a href="/breakup/specs/html-images/#valid-source-size-list" id="the-source-element-when-used-with-the-picture-element:valid-source-size-list">valid source size list</a>.</p>

  <p>The <dfn id="attr-picture-source-media"><code>media</code></dfn> attributes may also be present.
  If present, the value must contain a <a href="/breakup/specs/core-algorithms/#valid-media-query-list" id="the-source-element-when-used-with-the-picture-element:valid-media-query-list">valid media query list</a>.</p>

  <p>The <dfn id="attr-picture-source-type"><code>type</code></dfn> attribute may also be present.
  If present, the value must be a <a href="/breakup/specs/core-algorithms/#valid-mime-type" id="the-source-element-when-used-with-the-picture-element:valid-mime-type">valid MIME type</a>.
  It gives the type of the images in the <a href="/breakup/specs/html-images/#source-set" id="the-source-element-when-used-with-the-picture-element:source-set-2">source set</a>,
  to allow the user agent to skip to the next <code id="the-source-element-when-used-with-the-picture-element:the-source-element-when-used-with-the-picture-element-3"><a href="/breakup/specs/html-images/#the-source-element-when-used-with-the-picture-element">source</a></code> element
  if it does not support the given type.</p>

  <p class="note">If the <code id="the-source-element-when-used-with-the-picture-element:attr-picture-source-type-2"><a href="/breakup/specs/html-images/#attr-picture-source-type">type</a></code> attribute
  is <em>not</em> specified, the user agent will not select a different
  <code id="the-source-element-when-used-with-the-picture-element:the-source-element-when-used-with-the-picture-element-4"><a href="/breakup/specs/html-images/#the-source-element-when-used-with-the-picture-element">source</a></code> element if it finds that it does not support
  the image format after fetching it.</p>

  <p>When a <code id="the-source-element-when-used-with-the-picture-element:the-source-element-when-used-with-the-picture-element-5"><a href="/breakup/specs/html-images/#the-source-element-when-used-with-the-picture-element">source</a></code> element has a following sibling
  <code id="the-source-element-when-used-with-the-picture-element:the-source-element-when-used-with-the-picture-element-6"><a href="/breakup/specs/html-images/#the-source-element-when-used-with-the-picture-element">source</a></code> element or <code id="the-source-element-when-used-with-the-picture-element:the-img-element-3"><a href="/breakup/specs/html-images/#the-img-element">img</a></code> element with a
  <code id="the-source-element-when-used-with-the-picture-element:attr-img-srcset"><a href="/breakup/specs/html-images/#attr-img-srcset">srcset</a></code> attribute specified, it must have
  at least one of the following:</p>

  <ul><li><p>A <code id="the-source-element-when-used-with-the-picture-element:attr-picture-source-media-2"><a href="/breakup/specs/html-images/#attr-picture-source-media">media</a></code> attribute specified with a value that,
   after <a href="/breakup/specs/core-algorithms/#strip-leading-and-trailing-whitespace" id="the-source-element-when-used-with-the-picture-element:strip-leading-and-trailing-whitespace">stripping leading and trailing whitespace</a>,
   is not the empty string and is not an <a href="/breakup/specs/core-algorithms/#ascii-case-insensitive" id="the-source-element-when-used-with-the-picture-element:ascii-case-insensitive">ASCII case-insensitive</a> match for the string "<code>all</code>".</p></li><li><p>A <code id="the-source-element-when-used-with-the-picture-element:attr-picture-source-type-3"><a href="/breakup/specs/html-images/#attr-picture-source-type">type</a></code> attribute specified.</p></li></ul>

  <p>The <code id="the-source-element-when-used-with-the-picture-element:attr-source-src"><a href="/breakup/specs/html-media/#attr-source-src">src</a></code> attribute must not be present.</p>

  

  <p>The IDL attributes <dfn id="dom-picture-source-srcset"><code>srcset</code></dfn>,
  <dfn id="dom-picture-source-sizes"><code>sizes</code></dfn> and
  <dfn id="dom-picture-source-media"><code>media</code></dfn> must <a href="/breakup/specs/core-algorithms/#reflect" id="the-source-element-when-used-with-the-picture-element:reflect">reflect</a> the
  respective content attributes of the same name.</p></section><section><h2>The <dfn><code>img</code></dfn> element</h2>

  <dl class="element"><dt><a href="#concept-element-categories" id="the-img-element:concept-element-categories">Categories</a>:</dt><dd><a href="#flow-content-2" id="the-img-element:flow-content-2">Flow content</a>.</dd><dd><a href="#phrasing-content-2" id="the-img-element:phrasing-content-2">Phrasing content</a>.</dd><dd><a href="#embedded-content-category" id="the-img-element:embedded-content-category">Embedded content</a>.</dd><dd><a href="/breakup/specs/html-forms/#form-associated-element" id="the-img-element:form-associated-element">Form-associated element</a>.</dd><dd>If the element has a <code id="the-img-element:attr-hyperlink-usemap"><a href="/breakup/specs/html-linking/#attr-hyperlink-usemap">usemap</a></code> attribute: <a href="#interactive-content-2" id="the-img-element:interactive-content-2">Interactive content</a>.</dd><dd><a href="#palpable-content-2" id="the-img-element:palpable-content-2">Palpable content</a>.</dd><dt><a href="#concept-element-contexts" id="the-img-element:concept-element-contexts">Contexts in which this element can be used</a>:</dt><dd>Where <a href="#embedded-content-category" id="the-img-element:embedded-content-category-2">embedded content</a> is expected.</dd><dt><a href="#concept-element-content-model" id="the-img-element:concept-element-content-model">Content model</a>:</dt><dd>Empty.</dd><dt><a href="#concept-element-tag-omission" id="the-img-element:concept-element-tag-omission">Tag omission in text/html</a>:</dt><dd>No <a href="/breakup/specs/html-syntax/#syntax-end-tag" id="the-img-element:syntax-end-tag">end tag</a>.</dd><dt><a href="#concept-element-attributes" id="the-img-element:concept-element-attributes">Content attributes</a>:</dt><dd><a href="/breakup/specs/html-attributes/#global-attributes" id="the-img-element:global-attributes">Global attributes</a></dd><dd><code id="the-img-element:attr-img-alt"><a href="/breakup/specs/html-images/#attr-img-alt">alt</a></code> — Replacement text for use when images are not available</dd><dd><code id="the-img-element:attr-img-src"><a href="/breakup/specs/html-images/#attr-img-src">src</a></code> — Address of the resource</dd><dd><code id="the-img-element:attr-img-srcset"><a href="/breakup/specs/html-images/#attr-img-srcset">srcset</a></code> — Images to use in different situations (e.g. high-resolution displays, small monitors, etc)</dd><dd><code id="the-img-element:attr-img-sizes"><a href="/breakup/specs/html-images/#attr-img-sizes">sizes</a></code></dd><dd><code id="the-img-element:attr-img-crossorigin"><a href="/breakup/specs/html-images/#attr-img-crossorigin">crossorigin</a></code> — How the element handles crossorigin requests</dd><dd><code id="the-img-element:attr-hyperlink-usemap-2"><a href="/breakup/specs/html-linking/#attr-hyperlink-usemap">usemap</a></code> — Name of <a href="/breakup/specs/html-linking/#image-map" id="the-img-element:image-map">image map</a> to use</dd><dd><code id="the-img-element:attr-img-ismap"><a href="/breakup/specs/html-images/#attr-img-ismap">ismap</a></code> — Whether the image is a server-side image map</dd><dd><code id="the-img-element:attr-dim-width"><a href="#attr-dim-width">width</a></code> — Horizontal dimension</dd><dd><code id="the-img-element:attr-dim-height"><a href="#attr-dim-height">height</a></code> — Vertical dimension</dd><dt>Allowed <a href="#aria-role-attribute">ARIA role attribute</a> values:</dt><dd><a href="#index-aria-presentation"><code title="">presentation</code></a> role only, for an 
   <code><a href="/breakup/specs/html-images/#the-img-element">img</a></code> element whose <code>alt</code> attribute's value is empty (<code title="">alt=""</code>), otherwise 
   <a href="#allowed-aria-roles,-states-and-properties">any role value</a>.</dd><dt>Allowed <a href="#state-and-property-attributes">ARIA State and Property Attributes</a>:</dt><dd><a href="#index-aria-global">Global aria-* attributes</a></dd><dd>Any <code title="">aria-*</code> attributes 
   <a href="#allowed-aria-roles,-states-and-properties">applicable to the allowed roles</a>.</dd><dt><a href="#concept-element-dom" id="the-img-element:concept-element-dom">DOM interface</a>:</dt><dd>
<pre class="idl">[NamedConstructor=<a href="/breakup/specs/html-images/#dom-image" id="the-img-element:dom-image">Image</a>(optional unsigned long width, optional unsigned long height)]
interface <dfn id="htmlimageelement">HTMLImageElement</dfn> : <a href="#htmlelement" id="the-img-element:htmlelement">HTMLElement</a> {
           attribute DOMString <a href="/breakup/specs/html-images/#dom-img-alt" id="the-img-element:dom-img-alt">alt</a>;
           attribute DOMString <a href="/breakup/specs/html-images/#dom-img-src" id="the-img-element:dom-img-src">src</a>;
           attribute DOMString <a href="/breakup/specs/html-images/#dom-img-srcset" id="the-img-element:dom-img-srcset">srcset</a>;
           attribute DOMString <a href="/breakup/specs/html-images/#dom-img-sizes" id="the-img-element:dom-img-sizes">sizes</a>;
           attribute DOMString? <a href="/breakup/specs/html-images/#dom-img-crossorigin" id="the-img-element:dom-img-crossorigin">crossOrigin</a>;
           attribute DOMString <a href="/breakup/specs/html-images/#dom-img-usemap" id="the-img-element:dom-img-usemap">useMap</a>;
           attribute boolean <a href="/breakup/specs/html-images/#dom-img-ismap" id="the-img-element:dom-img-ismap">isMap</a>;
           attribute unsigned long <a href="/breakup/specs/html-images/#dom-img-width" id="the-img-element:dom-img-width">width</a>;
           attribute unsigned long <a href="/breakup/specs/html-images/#dom-img-height" id="the-img-element:dom-img-height">height</a>;
  readonly attribute unsigned long <a href="/breakup/specs/html-images/#dom-img-naturalwidth" id="the-img-element:dom-img-naturalwidth">naturalWidth</a>;
  readonly attribute unsigned long <a href="/breakup/specs/html-images/#dom-img-naturalheight" id="the-img-element:dom-img-naturalheight">naturalHeight</a>;
  readonly attribute boolean <a href="/breakup/specs/html-images/#dom-img-complete" id="the-img-element:dom-img-complete">complete</a>;
  readonly attribute DOMString <a href="/breakup/specs/html-images/#dom-img-currentsrc" id="the-img-element:dom-img-currentsrc">currentSrc</a>;

  // <a href="#HTMLImageElement-partial">also has obsolete members</a>
};</pre>
   </dd></dl>

  <p>An <code id="the-img-element:the-img-element"><a href="/breakup/specs/html-images/#the-img-element">img</a></code> element represents an image.</p>

  

  <p>The image given by the <dfn id="attr-img-src"><code>src</code></dfn> and <dfn id="attr-img-srcset"><code>srcset</code></dfn> attributes,
  and any previous sibling <code id="the-img-element:the-source-element-when-used-with-the-picture-element"><a href="/breakup/specs/html-images/#the-source-element-when-used-with-the-picture-element">source</a></code> elements'
  <code id="the-img-element:attr-picture-source-srcset"><a href="/breakup/specs/html-images/#attr-picture-source-srcset">srcset</a></code> attributes if the parent is a <code id="the-img-element:the-picture-element"><a href="/breakup/specs/html-images/#the-picture-element">picture</a></code> element,
  is the embedded content; the value of
  the <dfn id="attr-img-alt"><code>alt</code></dfn> attribute provides equivalent content for
  those who cannot process images or who have image loading disabled (i.e. it is the
  <code id="the-img-element:the-img-element-2"><a href="/breakup/specs/html-images/#the-img-element">img</a></code> element's <a href="#fallback-content" id="the-img-element:fallback-content">fallback content</a>).</p>

  <p>The requirements on the <code id="the-img-element:attr-img-alt-2"><a href="/breakup/specs/html-images/#attr-img-alt">alt</a></code> attribute's value are described
  <a href="/breakup/specs/html-images/#alt">in the next section</a>.</p>

  <p>The <code id="the-img-element:attr-img-src-2"><a href="/breakup/specs/html-images/#attr-img-src">src</a></code> attribute must be present, and must contain a
  <a href="/breakup/specs/core-algorithms/#valid-non-empty-url-potentially-surrounded-by-spaces" id="the-img-element:valid-non-empty-url-potentially-surrounded-by-spaces">valid non-empty URL potentially surrounded by spaces</a> referencing a non-interactive,
  optionally animated, image resource that is neither paged nor scripted.</p>

  <p>The <code id="the-img-element:attr-img-srcset-2"><a href="/breakup/specs/html-images/#attr-img-srcset">srcset</a></code> attribute may also be present.
  If present, its value must consist of one or more
  <a href="/breakup/specs/html-images/#image-candidate-string" id="the-img-element:image-candidate-string">image candidate strings</a>,
  each separated from the next by a U+002C COMMA character (,).
  If an <a href="/breakup/specs/html-images/#image-candidate-string" id="the-img-element:image-candidate-string-2">image candidate string</a> contains no descriptors
  and no <a href="/breakup/specs/core-algorithms/#space-character" id="the-img-element:space-character">space characters</a> after the URL,
  the following <a href="/breakup/specs/html-images/#image-candidate-string" id="the-img-element:image-candidate-string-3">image candidate string</a>, if there is one,
  must begin with one or more <a href="/breakup/specs/core-algorithms/#space-character" id="the-img-element:space-character-2">space characters</a>.</p>

  

  <p>An <dfn id="image-candidate-string">image candidate string</dfn> consists of the following components, in order, with the
  further restrictions described below this list:</p>

  <ol><li><p>Zero or more <a href="/breakup/specs/core-algorithms/#space-character" id="the-img-element:space-character-3">space characters</a>.</p></li><li><p>A <a href="/breakup/specs/core-algorithms/#valid-non-empty-url" id="the-img-element:valid-non-empty-url">valid non-empty URL</a> that does not start or end with a U+002C COMMA character (,),
   referencing a non-interactive, optionally animated, image resource
   that is neither paged nor scripted.</p></li><li><p>Zero or more <a href="/breakup/specs/core-algorithms/#space-character" id="the-img-element:space-character-4">space characters</a>.</p></li><li>

    <p>Zero or one of the following:</p>

    <ul><li><p>A <i>width descriptor</i>, consisting of:
     a <a href="/breakup/specs/core-algorithms/#space-character" id="the-img-element:space-character-5">space character</a>,
     a <a href="/breakup/specs/core-algorithms/#valid-non-negative-integer" id="the-img-element:valid-non-negative-integer">valid non-negative integer</a> giving a number greater than zero
     representing the <i>width descriptor</i> value,
     and a U+0077 LATIN SMALL LETTER W character.</p></li><li><p>A <i>pixel density descriptor</i>, consisting of:
     a <a href="/breakup/specs/core-algorithms/#space-character" id="the-img-element:space-character-6">space character</a>,
     a <a href="/breakup/specs/core-algorithms/#valid-floating-point-number" id="the-img-element:valid-floating-point-number">valid floating-point number</a> giving a number greater than zero
     representing the <i>pixel density descriptor</i> value,
     and a U+0078 LATIN SMALL LETTER X character.</p></li></ul>

   </li><li><p>Zero or more <a href="/breakup/specs/core-algorithms/#space-character" id="the-img-element:space-character-7">space characters</a>.</p></li></ol>

  <p>There must not be an <a href="/breakup/specs/html-images/#image-candidate-string" id="the-img-element:image-candidate-string-4">image candidate string</a> for an element that
  has the same <i>width descriptor</i> value as another
  <a href="/breakup/specs/html-images/#image-candidate-string" id="the-img-element:image-candidate-string-5">image candidate string</a>'s <i>width descriptor</i> value for the same element.</p>

  <p>There must not be an <a href="/breakup/specs/html-images/#image-candidate-string" id="the-img-element:image-candidate-string-6">image candidate string</a> for an element that
  has the same <i>pixel density descriptor</i> value as another
  <a href="/breakup/specs/html-images/#image-candidate-string" id="the-img-element:image-candidate-string-7">image candidate string</a>'s <i>pixel density descriptor</i> value for the same element.
  For the purpose of this requirement,
  an <a href="/breakup/specs/html-images/#image-candidate-string" id="the-img-element:image-candidate-string-8">image candidate string</a> with no descriptors is equivalent to
  an <a href="/breakup/specs/html-images/#image-candidate-string" id="the-img-element:image-candidate-string-9">image candidate string</a> with a <code>1x</code> descriptor.</p>

  <p>If a <code id="the-img-element:the-source-element-when-used-with-the-picture-element-2"><a href="/breakup/specs/html-images/#the-source-element-when-used-with-the-picture-element">source</a></code> element has a <code id="the-img-element:attr-picture-source-sizes"><a href="/breakup/specs/html-images/#attr-picture-source-sizes">sizes</a></code> attribute present
  or an <code id="the-img-element:the-img-element-3"><a href="/breakup/specs/html-images/#the-img-element">img</a></code> element has a <code id="the-img-element:attr-img-sizes-2"><a href="/breakup/specs/html-images/#attr-img-sizes">sizes</a></code> attribute present,
  all <a href="/breakup/specs/html-images/#image-candidate-string" id="the-img-element:image-candidate-string-10">image candidate strings</a> for that
  element must have the <i>width descriptor</i> specified.</p>

  <p>If an <a href="/breakup/specs/html-images/#image-candidate-string" id="the-img-element:image-candidate-string-11">image candidate string</a> for an <code id="the-img-element:the-source-element-when-used-with-the-picture-element-3"><a href="/breakup/specs/html-images/#the-source-element-when-used-with-the-picture-element">source</a></code> or <code id="the-img-element:the-img-element-4"><a href="/breakup/specs/html-images/#the-img-element">img</a></code> element
  has the <i>width descriptor</i> specified,
  all other <a href="/breakup/specs/html-images/#image-candidate-string" id="the-img-element:image-candidate-string-12">image candidate strings</a> for that element
  must also have the <i>width descriptor</i> specified.</p>

  <p>The specified width in an <a href="/breakup/specs/html-images/#image-candidate-string" id="the-img-element:image-candidate-string-13">image candidate string</a>'s <i>width descriptor</i>
  must match the intrinsic width in the resource given by the <a href="/breakup/specs/html-images/#image-candidate-string" id="the-img-element:image-candidate-string-14">image candidate string</a>'s URL,
  if it has an intrinsic width.</p>

  <p class="note">The requirements above imply that images can be static bitmaps (e.g. PNGs, GIFs,
  JPEGs), single-page vector documents (single-page PDFs, XML files with an SVG root element),
  animated bitmaps (APNGs, animated GIFs), animated vector graphics (XML files with an SVG root
  element that use declarative SMIL animation), and so forth. However, these definitions preclude
  SVG files with script, multipage PDF files, interactive MNG files, HTML documents, plain text
  documents, and so forth. [[!PNG]] [[GIF]] [[!JPEG]] [[PDF]]
  [[!XML]] [[APNG]]  [[!SVG]] [[!MNG]] </p>

  <p>If the <code id="the-img-element:attr-img-srcset-3"><a href="/breakup/specs/html-images/#attr-img-srcset">srcset</a></code> attribute is present and has any
  <a href="/breakup/specs/html-images/#image-candidate-string" id="the-img-element:image-candidate-string-15">image candidate strings</a> using a <i>width descriptor</i>,
  the <dfn id="attr-img-sizes"><code>sizes</code></dfn> attribute must also be present,
  and the value must be a <a href="/breakup/specs/html-images/#valid-source-size-list" id="the-img-element:valid-source-size-list">valid source size list</a>.</p>

  <p>A <dfn id="valid-source-size-list">valid source size list</dfn> is a string that matches the following grammar:
  [[!CSSVALUES]] [[!MQ]]</p>

<pre><dfn id="source-size-list">&lt;source-size-list&gt;</dfn> = [ <a href="/breakup/specs/html-images/#source-size" id="the-img-element:source-size">&lt;source-size&gt;</a># , ]? <a href="/breakup/specs/html-images/#source-size-value" id="the-img-element:source-size-value">&lt;source-size-value&gt;</a>
<dfn id="source-size">&lt;source-size&gt;</dfn> = <a href="/breakup/specs/html-images/#media-condition" id="the-img-element:media-condition">&lt;media-condition&gt;</a> <a href="/breakup/specs/html-images/#source-size-value" id="the-img-element:source-size-value-2">&lt;source-size-value&gt;</a>
<dfn id="source-size-value">&lt;source-size-value&gt;</dfn> = <a href="/breakup/specs/html-images/#length" id="the-img-element:length">&lt;length&gt;</a></pre>

  <p>A <a href="/breakup/specs/html-images/#source-size-value" id="the-img-element:source-size-value-3">&lt;source-size-value&gt;</a> must not be negative.</p>

  <p class="note">Percentages are not allowed in a <a href="/breakup/specs/html-images/#source-size-value" id="the-img-element:source-size-value-4">&lt;source-size-value&gt;</a>,
  to avoid confusion about what it would be relative to.
  The <code>vw</code> unit can be used for sizes relative to the viewport width.</p>

  <p>The <code id="the-img-element:the-img-element-5"><a href="/breakup/specs/html-images/#the-img-element">img</a></code> element must not be used as a layout tool. In particular, <code id="the-img-element:the-img-element-6"><a href="/breakup/specs/html-images/#the-img-element">img</a></code>
  elements should not be used to display transparent images, as such images rarely convey meaning and
  rarely add anything useful to the document.</p>

  <hr>

  <p>The <dfn id="attr-img-crossorigin"><code>crossorigin</code></dfn> attribute is a <a href="/breakup/specs/core-algorithms/#cors-settings-attribute" id="the-img-element:cors-settings-attribute">CORS
  settings attribute</a>. Its purpose is to allow images from third-party sites that allow
  cross-origin access to be used with <code id="the-img-element:the-canvas-element"><a href="/breakup/specs/html-canvas/#the-canvas-element">canvas</a></code>.</p>

  

  <hr>

  <p>An <code id="the-img-element:the-img-element-7"><a href="/breakup/specs/html-images/#the-img-element">img</a></code> element has a <dfn id="current-request">current request</dfn> and a <dfn id="pending-request">pending request</dfn>.
  The <a href="/breakup/specs/html-images/#current-request" id="the-img-element:current-request">current request</a> is initially set to a new <a href="/breakup/specs/html-images/#image-request" id="the-img-element:image-request">image request</a>.
  The <a href="/breakup/specs/html-images/#pending-request" id="the-img-element:pending-request">pending request</a> is initially set to null.
  The <a href="/breakup/specs/html-images/#current-request" id="the-img-element:current-request-2">current request</a> is usually referred to as the <code id="the-img-element:the-img-element-8"><a href="/breakup/specs/html-images/#the-img-element">img</a></code> element itself.</p>

  <p>An <dfn id="image-request">image request</dfn> has a <dfn id="img-req-state">state</dfn>, <dfn id="img-req-url">current URL</dfn> and <dfn id="img-req-data">image data</dfn>.</p>

  <p>An <a href="/breakup/specs/html-images/#image-request" id="the-img-element:image-request-2">image request</a>'s <a href="/breakup/specs/html-images/#img-req-state" id="the-img-element:img-req-state">state</a> is one of the following:</p>

  <dl><dt><dfn id="img-none">Unavailable</dfn></dt><dd>The user agent hasn't obtained any image data,
   or has obtained some or all of the image data but
   hasn't yet decoded enough of the image to get the image dimensions.</dd><dt><dfn id="img-inc">Partially available</dfn></dt><dd>The user agent has obtained some of the image data and at least the image dimensions are
   available.</dd><dt><dfn id="img-all">Completely available</dfn></dt><dd>The user agent has obtained all of the image data and at least the image dimensions are
   available.</dd><dt><dfn id="img-error">Broken</dfn></dt><dd>The user agent has obtained all of the image data that it can, but it cannot even decode the
   image enough to get the image dimensions (e.g. the image is corrupted, or the format is not
   supported, or no data could be obtained).</dd></dl>

  <p>An <a href="/breakup/specs/html-images/#image-request" id="the-img-element:image-request-3">image request</a>'s <a href="/breakup/specs/html-images/#img-req-url" id="the-img-element:img-req-url">current URL</a> is initially the empty string.</p>

  <p>An <a href="/breakup/specs/html-images/#image-request" id="the-img-element:image-request-4">image request</a>'s <a href="/breakup/specs/html-images/#img-req-data" id="the-img-element:img-req-data">image data</a> is the decoded image data.</p>

  <p>When an <a href="/breakup/specs/html-images/#image-request" id="the-img-element:image-request-5">image request</a> is either in the <a href="/breakup/specs/html-images/#img-inc" id="the-img-element:img-inc">partially
  available</a> state or in the <a href="/breakup/specs/html-images/#img-all" id="the-img-element:img-all">completely available</a> state, it is
  said to be <dfn id="img-available">available</dfn>.</p>

  <p>An <a href="/breakup/specs/html-images/#image-request" id="the-img-element:image-request-6">image request</a> is initially <a href="/breakup/specs/html-images/#img-none" id="the-img-element:img-none">unavailable</a>.</p>

  <p>When an <code id="the-img-element:the-img-element-9"><a href="/breakup/specs/html-images/#the-img-element">img</a></code> element is <a href="/breakup/specs/html-images/#img-available" id="the-img-element:img-available">available</a>,
  it <a href="/breakup/specs/core-algorithms/#provides-a-paint-source" id="the-img-element:provides-a-paint-source">provides a paint source</a>
  whose width is the image's <a href="/breakup/specs/html-images/#density-corrected-intrinsic-width-and-height" id="the-img-element:density-corrected-intrinsic-width-and-height">density-corrected intrinsic width</a> (if any),
  whose height is the image's <a href="/breakup/specs/html-images/#density-corrected-intrinsic-width-and-height" id="the-img-element:density-corrected-intrinsic-width-and-height-2">density-corrected intrinsic height</a> (if any),
  and whose appearance is the intrinsic appearance of the image.</p>

  <p>In a <a href="/breakup/specs/browser-dom/#browsing-context" id="the-img-element:browsing-context">browsing context</a> where <a href="/breakup/specs/browser-dom/#concept-bc-noscript" id="the-img-element:concept-bc-noscript">scripting is
  disabled</a>, user agents may obtain images immediately or on demand. In a <a href="/breakup/specs/browser-dom/#browsing-context" id="the-img-element:browsing-context-2">browsing
  context</a> where <a href="/breakup/specs/browser-dom/#concept-bc-noscript" id="the-img-element:concept-bc-noscript-2">scripting is enabled</a>, user agents
  must obtain images immediately.</p>

  <p>A user agent that obtains images immediately must synchronously
  <a href="/breakup/specs/html-images/#update-the-image-data" id="the-img-element:update-the-image-data">update the image data</a> of an <code id="the-img-element:the-img-element-10"><a href="/breakup/specs/html-images/#the-img-element">img</a></code> element,
  with the <i>restart animation</i> flag set if so stated,
  whenever that element is created or has experienced <a href="/breakup/specs/html-images/#relevant-mutations" id="the-img-element:relevant-mutations">relevant mutations</a>.</p>

  <p>A user agent that obtains images on demand must <a href="/breakup/specs/html-images/#update-the-image-data" id="the-img-element:update-the-image-data-2">update the image data</a> of an
  <code id="the-img-element:the-img-element-11"><a href="/breakup/specs/html-images/#the-img-element">img</a></code> element whenever it needs the image data (i.e. on demand),
  but only if the <code id="the-img-element:the-img-element-12"><a href="/breakup/specs/html-images/#the-img-element">img</a></code> element is in the
  <a href="/breakup/specs/html-images/#img-none" id="the-img-element:img-none-2">unavailable</a> state. When an <code id="the-img-element:the-img-element-13"><a href="/breakup/specs/html-images/#the-img-element">img</a></code> element
  has experienced <a href="/breakup/specs/html-images/#relevant-mutations" id="the-img-element:relevant-mutations-2">relevant mutations</a>, if the user
  agent only obtains images on demand, the <code id="the-img-element:the-img-element-14"><a href="/breakup/specs/html-images/#the-img-element">img</a></code> element must return to the <a href="/breakup/specs/html-images/#img-none" id="the-img-element:img-none-3">unavailable</a> state.</p>

  <p>The <dfn id="relevant-mutations">relevant mutations</dfn> for an <code id="the-img-element:the-img-element-15"><a href="/breakup/specs/html-images/#the-img-element">img</a></code> element are as follows:</p>

  <ul><li><p>The element's <code id="the-img-element:attr-img-src-3"><a href="/breakup/specs/html-images/#attr-img-src">src</a></code>,
   <code id="the-img-element:attr-img-srcset-4"><a href="/breakup/specs/html-images/#attr-img-srcset">srcset</a></code>
   or <code id="the-img-element:attr-img-sizes-3"><a href="/breakup/specs/html-images/#attr-img-sizes">sizes</a></code> attributes are set, changed, or removed.</p></li><li><p>The element's <code id="the-img-element:attr-img-src-4"><a href="/breakup/specs/html-images/#attr-img-src">src</a></code> attribute is set to the same value as the previous value.
   This must set the <i>restart animation</i> flag for the <a href="/breakup/specs/html-images/#update-the-image-data" id="the-img-element:update-the-image-data-3">update the image data</a> algorithm.</p></li><li><p>The element's <code id="the-img-element:attr-img-crossorigin-2"><a href="/breakup/specs/html-images/#attr-img-crossorigin">crossorigin</a></code> attribute's state is changed.</p></li><li><p>The <a href="/breakup/specs/core-algorithms/#nodes-are-inserted" id="the-img-element:nodes-are-inserted">element is inserted</a> into or
   <a href="/breakup/specs/core-algorithms/#nodes-are-removed" id="the-img-element:nodes-are-removed">removed</a> from a <code id="the-img-element:the-picture-element-2"><a href="/breakup/specs/html-images/#the-picture-element">picture</a></code> parent element.</p></li><li><p>The element's parent is a <code id="the-img-element:the-picture-element-3"><a href="/breakup/specs/html-images/#the-picture-element">picture</a></code> element and a
   <code id="the-img-element:the-source-element-when-used-with-the-picture-element-4"><a href="/breakup/specs/html-images/#the-source-element-when-used-with-the-picture-element">source</a></code> <a href="/breakup/specs/core-algorithms/#nodes-are-inserted" id="the-img-element:nodes-are-inserted-2">element is inserted</a> as a previous sibling.</p></li><li><p>The element's parent is a <code id="the-img-element:the-picture-element-4"><a href="/breakup/specs/html-images/#the-picture-element">picture</a></code> element and a
   <code id="the-img-element:the-source-element-when-used-with-the-picture-element-5"><a href="/breakup/specs/html-images/#the-source-element-when-used-with-the-picture-element">source</a></code> element that was a previous sibling is <a href="/breakup/specs/core-algorithms/#nodes-are-removed" id="the-img-element:nodes-are-removed-2">removed</a>.</p></li><li><p>The element's parent is a <code id="the-img-element:the-picture-element-5"><a href="/breakup/specs/html-images/#the-picture-element">picture</a></code> element and a
   <code id="the-img-element:the-source-element-when-used-with-the-picture-element-6"><a href="/breakup/specs/html-images/#the-source-element-when-used-with-the-picture-element">source</a></code> element that is a previous sibling has its
   <code id="the-img-element:attr-picture-source-srcset-2"><a href="/breakup/specs/html-images/#attr-picture-source-srcset">srcset</a></code>,
   <code id="the-img-element:attr-picture-source-sizes-2"><a href="/breakup/specs/html-images/#attr-picture-source-sizes">sizes</a></code>,
   <code id="the-img-element:attr-picture-source-media"><a href="/breakup/specs/html-images/#attr-picture-source-media">media</a></code>
   or <code id="the-img-element:attr-picture-source-type"><a href="/breakup/specs/html-images/#attr-picture-source-type">type</a></code> attributes set, changed, or removed.</p></li><li><p>The element's <a href="https://dom.spec.whatwg.org/#concept-node-adopt-ext" id="the-img-element:concept-node-adopt-ext" data-x-internal="concept-node-adopt-ext">adopting steps</a> are run.</p></li></ul>

  <p>Each <code id="the-img-element:the-img-element-16"><a href="/breakup/specs/html-images/#the-img-element">img</a></code> element has a <dfn id="last-selected-source">last selected source</dfn>, which must initially be
  null.</p>

  <p>Each <a href="/breakup/specs/html-images/#image-request" id="the-img-element:image-request-7">image request</a> has a <dfn id="current-pixel-density">current pixel density</dfn>, which must initially be undefined.</p>

  <p>When an <code id="the-img-element:the-img-element-17"><a href="/breakup/specs/html-images/#the-img-element">img</a></code> element has a <a href="/breakup/specs/html-images/#current-pixel-density" id="the-img-element:current-pixel-density">current pixel density</a> that is not 1.0, the
  element's image data must be treated as if its resolution, in device pixels per CSS pixels, was
  the <a href="/breakup/specs/html-images/#current-pixel-density" id="the-img-element:current-pixel-density-2">current pixel density</a>.
  The image's <dfn id="density-corrected-intrinsic-width-and-height">density-corrected intrinsic width and height</dfn> are the intrinsic width and height
  after taking into account the <a href="/breakup/specs/html-images/#current-pixel-density" id="the-img-element:current-pixel-density-3">current pixel density</a>.</p>

  <p class="example">For example, if the <a href="/breakup/specs/html-images/#current-pixel-density" id="the-img-element:current-pixel-density-4">current pixel density</a> is 3.125, that means
  that there are 300 device pixels per CSS inch, and thus if the image data is 300x600, it has an
  intrinsic dimension of 96 CSS pixels by 192 CSS pixels.</p>

  <p>Each <code id="the-img-element:document"><a href="/breakup/specs/browser-dom/#document">Document</a></code> object must have a <dfn id="list-of-available-images">list of available images</dfn>. Each image
  in this list is identified by a tuple consisting of an <a href="/breakup/specs/core-algorithms/#absolute-url" id="the-img-element:absolute-url">absolute URL</a>, a <a href="/breakup/specs/core-algorithms/#cors-settings-attribute" id="the-img-element:cors-settings-attribute-2">CORS
  settings attribute</a> mode, and, if the mode is not <a href="/breakup/specs/core-algorithms/#attr-crossorigin-none" id="the-img-element:attr-crossorigin-none">No
  CORS</a>, an <a href="/breakup/specs/browser-dom/#origin-2" id="the-img-element:origin-2">origin</a>.
  Each image furthermore has an <dfn id="ignore-higher-layer-caching">ignore higher-layer caching</dfn> flag.
  User agents may copy entries from one <code id="the-img-element:document-2"><a href="/breakup/specs/browser-dom/#document">Document</a></code>
  object's <a href="/breakup/specs/html-images/#list-of-available-images" id="the-img-element:list-of-available-images">list of available images</a> to another at any time (e.g. when the
  <code id="the-img-element:document-3"><a href="/breakup/specs/browser-dom/#document">Document</a></code> is created, user agents can add to it all the images that are loaded in
  other <code id="the-img-element:document-4"><a href="/breakup/specs/browser-dom/#document">Document</a></code>s), but must not change the keys of entries copied in this way when
  doing so, and must unset the <a href="/breakup/specs/html-images/#ignore-higher-layer-caching" id="the-img-element:ignore-higher-layer-caching">ignore higher-layer caching</a> flag for the copied entry.
  User agents may also remove images from such lists at any time (e.g. to save
  memory).
  User agents must remove entries in the <a href="/breakup/specs/html-images/#list-of-available-images" id="the-img-element:list-of-available-images-2">list of available images</a> as appropriate
  given higher-layer caching semantics for the resource (e.g. the HTTP <code>Cache-Control</code>
  response header) when the <a href="/breakup/specs/html-images/#ignore-higher-layer-caching" id="the-img-element:ignore-higher-layer-caching-2">ignore higher-layer caching</a> is unset.</p>

  <p class="note">The <a href="/breakup/specs/html-images/#list-of-available-images" id="the-img-element:list-of-available-images-3">list of available images</a> is intended to enable synchronous switching
  when changing the <code id="the-img-element:attr-img-src-5"><a href="/breakup/specs/html-images/#attr-img-src">src</a></code> attribute to a URL that has previously been loaded,
  and to avoid re-downloading images in the same document even when they don't allow caching per HTTP.
  It is not used to avoid re-downloading the same image while the previous image is still loading,
  but the <a href="/breakup/specs/core-algorithms/#fetch" id="the-img-element:fetch">fetch</a> algorithm allows the download to be reused in that case.</p>

  <p class="note">The user agent can also store the image data separately from the <a href="/breakup/specs/html-images/#list-of-available-images" id="the-img-element:list-of-available-images-4">list of available images</a>.</p>

  <p class="example">For example, if a resource has the HTTP response header <code>Cache-Control: must-revalidate</code>,
  the user agent would remove it from the <a href="/breakup/specs/html-images/#list-of-available-images" id="the-img-element:list-of-available-images-5">list of available images</a> but could keep the image data separately,
  and use that if the server responds with a <code>304 Not Modified</code> status.</p>

  <p>When the user agent is to <dfn id="update-the-image-data">update the image data</dfn> of an <code id="the-img-element:the-img-element-18"><a href="/breakup/specs/html-images/#the-img-element">img</a></code> element,
  optionally with the <i>restart animations</i> flag set,
  it must run the following steps:</p>

  <ol><li>

    <p>If the element's <a id="the-img-element:node-document" href="https://dom.spec.whatwg.org/#concept-node-document" data-x-internal="node-document">node document</a> is not the <a href="/breakup/specs/browser-dom/#active-document" id="the-img-element:active-document">active document</a>,
    then run these substeps:</p>

    <ol><li><p>Continue running this algorithm <a href="/breakup/specs/core-algorithms/#in-parallel" id="the-img-element:in-parallel">in parallel</a>.</p></li><li><p>Wait until the element's <a id="the-img-element:node-document-2" href="https://dom.spec.whatwg.org/#concept-node-document" data-x-internal="node-document">node document</a> is the <a href="/breakup/specs/browser-dom/#active-document" id="the-img-element:active-document-2">active document</a>.</p></li><li><p>If another instance of this algorithm for this <code id="the-img-element:the-img-element-19"><a href="/breakup/specs/html-images/#the-img-element">img</a></code> element was started after this instance
     (even if it aborted and is no longer running), then abort these steps.</p></li><li><p><a href="/breakup/specs/browser-dom/#queue-a-microtask" id="the-img-element:queue-a-microtask">Queue a microtask</a> to continue this algorithm.</p></li></ol>

   </li><li><p>If the user agent cannot support images, or its support for images has been disabled, then
   <a href="/breakup/specs/html-images/#abort-the-image-request" id="the-img-element:abort-the-image-request">abort the image request</a> for the <a href="/breakup/specs/html-images/#current-request" id="the-img-element:current-request-3">current request</a> and the <a href="/breakup/specs/html-images/#pending-request" id="the-img-element:pending-request-2">pending request</a>,
   set <a href="/breakup/specs/html-images/#current-request" id="the-img-element:current-request-4">current request</a> to the <a href="/breakup/specs/html-images/#img-none" id="the-img-element:img-none-4">unavailable</a> state,
   let <a href="/breakup/specs/html-images/#pending-request" id="the-img-element:pending-request-3">pending request</a> be null,
   and abort these steps.</p></li><li>

    <p>If the element does not have a <code id="the-img-element:attr-img-srcset-5"><a href="/breakup/specs/html-images/#attr-img-srcset">srcset</a></code> attribute specified and
    it does not have a parent or it has a parent but it is not a <code id="the-img-element:the-picture-element-6"><a href="/breakup/specs/html-images/#the-picture-element">picture</a></code> element,
    and it has a <code id="the-img-element:attr-img-src-6"><a href="/breakup/specs/html-images/#attr-img-src">src</a></code> attribute specified and
    its value is not the empty string, let <var>selected source</var> be the value of the
    element's <code id="the-img-element:attr-img-src-7"><a href="/breakup/specs/html-images/#attr-img-src">src</a></code> attribute, and <var>selected pixel
    density</var> be 1.0. Otherwise, let <var>selected source</var> be null and <var>selected pixel density</var> be undefined.</p>

   </li><li><p>Let the <code id="the-img-element:the-img-element-20"><a href="/breakup/specs/html-images/#the-img-element">img</a></code> element's <a href="/breakup/specs/html-images/#last-selected-source" id="the-img-element:last-selected-source">last selected source</a> be <var>selected source</var>.</p></li><li>

    <p>If <var>selected source</var> is not null, run these substeps:</p>

    <ol><li><p><a href="/breakup/specs/core-algorithms/#resolve-a-url" id="the-img-element:resolve-a-url">Resolve</a> <var>selected source</var>, relative
     to the element, and let the result be <var>absolute URL</var>. If that is not successful, then
     abort these inner set of steps.</p></li><li><p>Let <var>key</var> be a tuple consisting of the resulting <a href="/breakup/specs/core-algorithms/#absolute-url" id="the-img-element:absolute-url-2">absolute
     URL</a>, the <code id="the-img-element:the-img-element-21"><a href="/breakup/specs/html-images/#the-img-element">img</a></code> element's <code id="the-img-element:attr-img-crossorigin-3"><a href="/breakup/specs/html-images/#attr-img-crossorigin">crossorigin</a></code>
     attribute's mode, and, if that mode is not <a href="/breakup/specs/core-algorithms/#attr-crossorigin-none" id="the-img-element:attr-crossorigin-none-2">No CORS</a>,
     the <a id="the-img-element:node-document-3" href="https://dom.spec.whatwg.org/#concept-node-document" data-x-internal="node-document">node document</a>'s <a href="/breakup/specs/browser-dom/#origin-2" id="the-img-element:origin-2-2">origin</a>.</p></li><li><p>If the <a href="/breakup/specs/html-images/#list-of-available-images" id="the-img-element:list-of-available-images-6">list of available images</a> contains an entry for <var>key</var>, then
     set the <a href="/breakup/specs/html-images/#ignore-higher-layer-caching" id="the-img-element:ignore-higher-layer-caching-3">ignore higher-layer caching</a> flag for that entry,
     <a href="/breakup/specs/html-images/#abort-the-image-request" id="the-img-element:abort-the-image-request-2">abort the image request</a> for the <a href="/breakup/specs/html-images/#current-request" id="the-img-element:current-request-5">current request</a> and the <a href="/breakup/specs/html-images/#pending-request" id="the-img-element:pending-request-4">pending request</a>,
     let <a href="/breakup/specs/html-images/#pending-request" id="the-img-element:pending-request-5">pending request</a> be null,
     let <a href="/breakup/specs/html-images/#current-request" id="the-img-element:current-request-6">current request</a> be a new <a href="/breakup/specs/html-images/#image-request" id="the-img-element:image-request-8">image request</a> whose <a href="/breakup/specs/html-images/#img-req-data" id="the-img-element:img-req-data-2">image data</a> is that of the entry
     and whose state is set to the <a href="/breakup/specs/html-images/#img-all" id="the-img-element:img-all-2">completely available</a> state,
     update the presentation of the image appropriately,
     let the <a href="/breakup/specs/html-images/#current-request" id="the-img-element:current-request-7">current request</a>'s <a href="/breakup/specs/html-images/#current-pixel-density" id="the-img-element:current-pixel-density-5">current pixel density</a> be <var>selected pixel density</var>,
     <a href="/breakup/specs/browser-dom/#queue-a-task" id="the-img-element:queue-a-task">queue a task</a> to <a href="/breakup/specs/rendering-html/#restart-the-animation" id="the-img-element:restart-the-animation">restart the animation</a> if <i>restart animation</i> is set,
     change <a href="/breakup/specs/html-images/#current-request" id="the-img-element:current-request-8">current request</a>'s <a href="/breakup/specs/html-images/#img-req-url" id="the-img-element:img-req-url-2">current URL</a> to <var>absolute URL</var>,
     and then <a href="/breakup/specs/browser-dom/#fire-a-simple-event" id="the-img-element:fire-a-simple-event">fire a simple event</a> named <code id="the-img-element:event-load"><a href="/breakup/specs/html/#event-load">load</a></code> at the <code id="the-img-element:the-img-element-22"><a href="/breakup/specs/html-images/#the-img-element">img</a></code> element,
     and abort these steps.</p></li></ol>

   </li><li><p><a href="/breakup/specs/browser-dom/#await-a-stable-state" id="the-img-element:await-a-stable-state">Await a stable state</a>, allowing the <a href="/breakup/specs/browser-dom/#concept-task" id="the-img-element:concept-task">task</a> that invoked this algorithm to continue.
   The <a href="/breakup/specs/browser-dom/#synchronous-section" id="the-img-element:synchronous-section">synchronous
   section</a> consists of all the remaining steps of this algorithm until the algorithm says the
   <a href="/breakup/specs/browser-dom/#synchronous-section" id="the-img-element:synchronous-section-2">synchronous section</a> has ended. (Steps in <a href="/breakup/specs/browser-dom/#synchronous-section" id="the-img-element:synchronous-section-3">synchronous sections</a> are marked with ⌛.)</p></li><li>

    <p>⌛ If another instance of this algorithm for this <code id="the-img-element:the-img-element-23"><a href="/breakup/specs/html-images/#the-img-element">img</a></code> element was started
    after this instance (even if it aborted and is no longer running), then abort these steps.</p>

    <p class="note">Only the last instance takes effect, to avoid multiple requests when, for
    example, the <code id="the-img-element:attr-img-src-8"><a href="/breakup/specs/html-images/#attr-img-src">src</a></code>, <code id="the-img-element:attr-img-srcset-6"><a href="/breakup/specs/html-images/#attr-img-srcset">srcset</a></code>,
    and <code id="the-img-element:attr-img-crossorigin-4"><a href="/breakup/specs/html-images/#attr-img-crossorigin">crossorigin</a></code> attributes are all set in
    succession.</p>

   </li><li>

    <p>⌛ Let <var>selected source</var> and <var>selected pixel density</var> be the
    URL and pixel density that results from <a href="/breakup/specs/html-images/#select-an-image-source" id="the-img-element:select-an-image-source">selecting an image source</a>,
    respectively.</p>

   </li><li>

    <p>⌛ If <var>selected source</var> is null, run these substeps:</p>

    <ol><li><p>⌛ Set the <a href="/breakup/specs/html-images/#current-request" id="the-img-element:current-request-9">current request</a> to the <a href="/breakup/specs/html-images/#img-error" id="the-img-element:img-error">broken</a> state,
     <a href="/breakup/specs/html-images/#abort-the-image-request" id="the-img-element:abort-the-image-request-3">abort the image request</a> for the <a href="/breakup/specs/html-images/#current-request" id="the-img-element:current-request-10">current request</a> and the <a href="/breakup/specs/html-images/#pending-request" id="the-img-element:pending-request-6">pending request</a>,
     and let <a href="/breakup/specs/html-images/#pending-request" id="the-img-element:pending-request-7">pending request</a> be null.</p></li><li><p>⌛ <a href="/breakup/specs/browser-dom/#queue-a-task" id="the-img-element:queue-a-task-2">Queue a task</a> to change the <a href="/breakup/specs/html-images/#current-request" id="the-img-element:current-request-11">current request</a>'s <a href="/breakup/specs/html-images/#img-req-url" id="the-img-element:img-req-url-3">current URL</a> to the empty string,
     and then, if the element has a <code id="the-img-element:attr-img-src-9"><a href="/breakup/specs/html-images/#attr-img-src">src</a></code> attribute
     or a <code id="the-img-element:attr-img-srcset-7"><a href="/breakup/specs/html-images/#attr-img-srcset">srcset</a></code> attribute
     or a parent that is a <code id="the-img-element:the-picture-element-7"><a href="/breakup/specs/html-images/#the-picture-element">picture</a></code> element,
     <a href="/breakup/specs/browser-dom/#fire-a-simple-event" id="the-img-element:fire-a-simple-event-2">fire a simple event</a> named <code id="the-img-element:event-error"><a href="/breakup/specs/html/#event-error">error</a></code> at the <code id="the-img-element:the-img-element-24"><a href="/breakup/specs/html-images/#the-img-element">img</a></code> element.</p></li><li><p>⌛ Abort this algorithm.</p></li></ol>

   </li><li>

    <p>⌛ <a href="/breakup/specs/browser-dom/#queue-a-task" id="the-img-element:queue-a-task-3">Queue a task</a> to <a href="/breakup/specs/core-algorithms/#fire-a-progress-event" id="the-img-element:fire-a-progress-event">fire a progress event</a> named <code id="the-img-element:event-loadstart"><a href="/breakup/specs/html/#event-loadstart">loadstart</a></code> at
    the <code id="the-img-element:the-img-element-25"><a href="/breakup/specs/html-images/#the-img-element">img</a></code> element.</p>

   </li><li><p>⌛ <a href="/breakup/specs/core-algorithms/#resolve-a-url" id="the-img-element:resolve-a-url-2">Resolve</a> <var>selected source</var>, relative
   to the element, and let the result be <var>absolute URL</var>. If that is not successful, then
   <a href="/breakup/specs/html-images/#abort-the-image-request" id="the-img-element:abort-the-image-request-4">abort the image request</a> for the <a href="/breakup/specs/html-images/#current-request" id="the-img-element:current-request-12">current request</a> and the <a href="/breakup/specs/html-images/#pending-request" id="the-img-element:pending-request-8">pending request</a>,
   set the <a href="/breakup/specs/html-images/#current-request" id="the-img-element:current-request-13">current request</a> to the <a href="/breakup/specs/html-images/#img-error" id="the-img-element:img-error-2">broken</a> state,
   let <a href="/breakup/specs/html-images/#pending-request" id="the-img-element:pending-request-9">pending request</a> be null,
   <a href="/breakup/specs/browser-dom/#queue-a-task" id="the-img-element:queue-a-task-4">queue a task</a> to
   change the <a href="/breakup/specs/html-images/#current-request" id="the-img-element:current-request-14">current request</a>'s <a href="/breakup/specs/html-images/#img-req-url" id="the-img-element:img-req-url-4">current URL</a> to <var>absolute URL</var>,
   <a href="/breakup/specs/browser-dom/#fire-a-simple-event" id="the-img-element:fire-a-simple-event-3">fire a simple event</a> named <code id="the-img-element:event-error-2"><a href="/breakup/specs/html/#event-error">error</a></code> at the <code id="the-img-element:the-img-element-26"><a href="/breakup/specs/html-images/#the-img-element">img</a></code> element
   and then <a href="/breakup/specs/browser-dom/#fire-a-simple-event" id="the-img-element:fire-a-simple-event-4">fire a simple event</a> named <code id="the-img-element:event-loadend"><a href="/breakup/specs/html/#event-loadend">loadend</a></code> at the <code id="the-img-element:the-img-element-27"><a href="/breakup/specs/html-images/#the-img-element">img</a></code> element,
   and abort these steps.</p></li><li>

    <p>⌛ If the <a href="/breakup/specs/html-images/#pending-request" id="the-img-element:pending-request-10">pending request</a> is not null,
    and <var>absolute URL</var> is the same as the <a href="/breakup/specs/html-images/#pending-request" id="the-img-element:pending-request-11">pending request</a>'s <a href="/breakup/specs/html-images/#img-req-url" id="the-img-element:img-req-url-5">current URL</a>,
    then abort these steps.</p>

    <p>⌛ If <var>absolute URL</var> is the same as the <a href="/breakup/specs/html-images/#current-request" id="the-img-element:current-request-15">current request</a>'s <a href="/breakup/specs/html-images/#img-req-url" id="the-img-element:img-req-url-6">current URL</a>,
    and <a href="/breakup/specs/html-images/#current-request" id="the-img-element:current-request-16">current request</a> is in the <a href="/breakup/specs/html-images/#img-inc" id="the-img-element:img-inc-2">partially available</a> state,
    then <a href="/breakup/specs/html-images/#abort-the-image-request" id="the-img-element:abort-the-image-request-5">abort the image request</a> for the <a href="/breakup/specs/html-images/#pending-request" id="the-img-element:pending-request-12">pending request</a>,
    <a href="/breakup/specs/browser-dom/#queue-a-task" id="the-img-element:queue-a-task-5">queue a task</a> to <a href="/breakup/specs/rendering-html/#restart-the-animation" id="the-img-element:restart-the-animation-2">restart the animation</a> if <i>restart animation</i> is set,
    and abort these steps.</p>

    <p>⌛ If the <a href="/breakup/specs/html-images/#pending-request" id="the-img-element:pending-request-13">pending request</a> is not null,
    <a href="/breakup/specs/html-images/#abort-the-image-request" id="the-img-element:abort-the-image-request-6">abort the image request</a> for the <a href="/breakup/specs/html-images/#pending-request" id="the-img-element:pending-request-14">pending request</a>.</p>

    <p>⌛ Let <var>image request</var> be a new <a href="/breakup/specs/html-images/#image-request" id="the-img-element:image-request-9">image request</a>
    whose <a href="/breakup/specs/html-images/#img-req-url" id="the-img-element:img-req-url-7">current URL</a> is <var>absolute URL</var>.</p>

    <p>⌛ If <a href="/breakup/specs/html-images/#current-request" id="the-img-element:current-request-17">current request</a> is in the <a href="/breakup/specs/html-images/#img-none" id="the-img-element:img-none-5">unavailable</a> state
    or the <a href="/breakup/specs/html-images/#img-error" id="the-img-element:img-error-3">broken</a> state,
    let the <a href="/breakup/specs/html-images/#current-request" id="the-img-element:current-request-18">current request</a> be <var>image request</var>.
    Otherwise, let the <a href="/breakup/specs/html-images/#pending-request" id="the-img-element:pending-request-15">pending request</a> be <var>image request</var>.</p>

    <p>⌛ Do a <a href="/breakup/specs/core-algorithms/#potentially-cors-enabled-fetch" id="the-img-element:potentially-cors-enabled-fetch">potentially CORS-enabled fetch</a> of <var>absolute URL</var>,
    with the <i>mode</i> being the current state of
    the element's <code id="the-img-element:attr-img-crossorigin-5"><a href="/breakup/specs/html-images/#attr-img-crossorigin">crossorigin</a></code> content attribute,
    the <i>origin</i> being the <a href="/breakup/specs/browser-dom/#origin-2" id="the-img-element:origin-2-3">origin</a> of the <code id="the-img-element:the-img-element-28"><a href="/breakup/specs/html-images/#the-img-element">img</a></code> element's
    <a id="the-img-element:node-document-4" href="https://dom.spec.whatwg.org/#concept-node-document" data-x-internal="node-document">node document</a>, and the <i>default origin behaviour</i> set to <i>taint</i>.
    Let this instance of the <a href="/breakup/specs/core-algorithms/#fetch" id="the-img-element:fetch-2">fetching</a> algorithm be associated with <var>image request</var>.</p>

    <p>If the element has a <code id="the-img-element:attr-img-srcset-8"><a href="/breakup/specs/html-images/#attr-img-srcset">srcset</a></code> attribute
    or a parent that is a <code id="the-img-element:the-picture-element-8"><a href="/breakup/specs/html-images/#the-picture-element">picture</a></code> element,
    the fetching request's <a href="/breakup/specs/html-images/#concept-request-context" id="the-img-element:concept-request-context">context</a> must be set to <i>imageset</i>.
    Otherwise it must be set to <i>image</i>. [[!FETCH]]</p>

    <p class="critical">This specification does not yet use the "fetch" algorithm from the WHATWG Fetch specification.
    It will be updated to do so in due course.</p>

    <p>The resource obtained in this fashion, if any, is <var>image request</var>'s <a href="/breakup/specs/html-images/#img-req-data" id="the-img-element:img-req-data-3">image data</a>.
    It can be either <a href="/breakup/specs/core-algorithms/#cors-same-origin" id="the-img-element:cors-same-origin">CORS-same-origin</a> or <a href="/breakup/specs/core-algorithms/#cors-cross-origin" id="the-img-element:cors-cross-origin">CORS-cross-origin</a>; this affects
    the <a href="/breakup/specs/browser-dom/#origin-2" id="the-img-element:origin-2-4">origin</a> of the image itself (e.g. when used on a <code id="the-img-element:the-canvas-element-2"><a href="/breakup/specs/html-canvas/#the-canvas-element">canvas</a></code>).</p>

    
    <p>Fetching the image must <a href="/breakup/specs/html-syntax/#delay-the-load-event" id="the-img-element:delay-the-load-event">delay the load event</a> of the element's <a id="the-img-element:node-document-5" href="https://dom.spec.whatwg.org/#concept-node-document" data-x-internal="node-document">node document</a> until the
    <a href="/breakup/specs/browser-dom/#concept-task" id="the-img-element:concept-task-2">task</a> that is <a href="/breakup/specs/browser-dom/#queue-a-task" id="the-img-element:queue-a-task-6">queued</a> by the
    <a href="/breakup/specs/browser-dom/#networking-task-source" id="the-img-element:networking-task-source">networking task source</a> once the resource has been <a href="/breakup/specs/core-algorithms/#fetch" id="the-img-element:fetch-3">fetched</a> (<a href="/breakup/specs/html-images/#img-load">defined below</a>) has been run.
    </p>

    <p class="warning">This, unfortunately, can be used to perform a rudimentary port scan of the
    user's local network (especially in conjunction with scripting, though scripting isn't actually
    necessary to carry out such an attack). User agents may implement <a href="/breakup/specs/browser-dom/#origin-2" id="the-img-element:origin-2-5">cross-origin</a> access control policies that are stricter than those
    described above to mitigate this attack, but unfortunately such policies are typically not
    compatible with existing Web content.</p>

    <p>If the resource is <a href="/breakup/specs/core-algorithms/#cors-same-origin" id="the-img-element:cors-same-origin-2">CORS-same-origin</a>, each <a href="/breakup/specs/browser-dom/#concept-task" id="the-img-element:concept-task-3">task</a>
    that is <a href="/breakup/specs/browser-dom/#queue-a-task" id="the-img-element:queue-a-task-7">queued</a> by the <a href="/breakup/specs/browser-dom/#networking-task-source" id="the-img-element:networking-task-source-2">networking task source</a>
    while the image is being <a href="/breakup/specs/core-algorithms/#fetch" id="the-img-element:fetch-4">fetched</a>,
    if <var>image request</var> is the <a href="/breakup/specs/html-images/#current-request" id="the-img-element:current-request-19">current request</a>,
    must <a href="/breakup/specs/core-algorithms/#fire-a-progress-event" id="the-img-element:fire-a-progress-event-2">fire a progress event</a> named <code id="the-img-element:event-progress"><a href="/breakup/specs/html/#event-progress">progress</a></code> at the <code id="the-img-element:the-img-element-29"><a href="/breakup/specs/html-images/#the-img-element">img</a></code> element.</p>

   </li><li><p>End the <a href="/breakup/specs/browser-dom/#synchronous-section" id="the-img-element:synchronous-section-4">synchronous section</a>, continuing the remaining steps <a href="/breakup/specs/core-algorithms/#in-parallel" id="the-img-element:in-parallel-2">in parallel</a>,
   but without missing any data from the <a href="/breakup/specs/core-algorithms/#fetch" id="the-img-element:fetch-5">fetch</a> algorithm.</p></li><li>

    <p>As soon as possible, jump to the first applicable entry from the following list:</p>

    <dl class="switch"><dt>If the resource type is <code id="the-img-element:multipart/x-mixed-replace"><a href="#multipart/x-mixed-replace">multipart/x-mixed-replace</a></code></dt><dd>

      <p>The next <a href="/breakup/specs/browser-dom/#concept-task" id="the-img-element:concept-task-4">task</a> that is <a href="/breakup/specs/browser-dom/#queue-a-task" id="the-img-element:queue-a-task-8">queued</a> by the <a href="/breakup/specs/browser-dom/#networking-task-source" id="the-img-element:networking-task-source-3">networking task source</a> while the image is being <a href="/breakup/specs/core-algorithms/#fetch" id="the-img-element:fetch-6">fetched</a> must run the following steps:</p>

      <ol><li>

        <p>If <var>image request</var> is the <a href="/breakup/specs/html-images/#pending-request" id="the-img-element:pending-request-16">pending request</a>
        and at least one body part has been completely decoded,
        <a href="/breakup/specs/html-images/#abort-the-image-request" id="the-img-element:abort-the-image-request-7">abort the image request</a> for the <a href="/breakup/specs/html-images/#current-request" id="the-img-element:current-request-20">current request</a>,
        <a href="/breakup/specs/html-images/#upgrade-the-pending-request-to-the-current-request" id="the-img-element:upgrade-the-pending-request-to-the-current-request">upgrade the pending request to the current request</a>.</p>

       </li><li>

        <p>Otherwise, if <var>image request</var> is the <a href="/breakup/specs/html-images/#pending-request" id="the-img-element:pending-request-17">pending request</a>
        and the user agent is able to determine that <var>image request</var>'s image
        is corrupted in some fatal way such that the image dimensions cannot be obtained,
        <a href="/breakup/specs/html-images/#abort-the-image-request" id="the-img-element:abort-the-image-request-8">abort the image request</a> for the <a href="/breakup/specs/html-images/#current-request" id="the-img-element:current-request-21">current request</a>,
        <a href="/breakup/specs/html-images/#upgrade-the-pending-request-to-the-current-request" id="the-img-element:upgrade-the-pending-request-to-the-current-request-2">upgrade the pending request to the current request</a>
        and set the <a href="/breakup/specs/html-images/#current-request" id="the-img-element:current-request-22">current request</a>'s state to <a href="/breakup/specs/html-images/#img-error" id="the-img-element:img-error-4">broken</a>.</p>

       </li><li>

        <p>Otherwise, if <var>image request</var> is the <a href="/breakup/specs/html-images/#current-request" id="the-img-element:current-request-23">current request</a>,
        it is in the <a href="/breakup/specs/html-images/#img-none" id="the-img-element:img-none-6">unavailable</a> state,
        and the user agent is able to determine <var>image request</var>'s image's width and height,
        set the <a href="/breakup/specs/html-images/#current-request" id="the-img-element:current-request-24">current request</a>'s state to <a href="/breakup/specs/html-images/#img-inc" id="the-img-element:img-inc-3">partially available</a>.</p>

       </li><li>

        <p>Otherwise, if <var>image request</var> is the <a href="/breakup/specs/html-images/#current-request" id="the-img-element:current-request-25">current request</a>,
        it is in the <a href="/breakup/specs/html-images/#img-none" id="the-img-element:img-none-7">unavailable</a> state,
        and the user agent is able to determine that <var>image request</var>'s image
        is corrupted in some fatal way such that the image dimensions cannot be obtained,
        set the <a href="/breakup/specs/html-images/#current-request" id="the-img-element:current-request-26">current request</a>'s state to <a href="/breakup/specs/html-images/#img-error" id="the-img-element:img-error-5">broken</a>.
        </p>

       </li></ol>

      <p>Each <a href="/breakup/specs/browser-dom/#concept-task" id="the-img-element:concept-task-5">task</a> that is <a href="/breakup/specs/browser-dom/#queue-a-task" id="the-img-element:queue-a-task-9">queued</a> by the <a href="/breakup/specs/browser-dom/#networking-task-source" id="the-img-element:networking-task-source-4">networking task source</a> while the image is being <a href="/breakup/specs/core-algorithms/#fetch" id="the-img-element:fetch-7">fetched</a> must update the presentation of the image, but as each new body
      part comes in, it must replace the previous image. Once one body part has been completely
      decoded, the user agent must set the <code id="the-img-element:the-img-element-30"><a href="/breakup/specs/html-images/#the-img-element">img</a></code> element to the <a href="/breakup/specs/html-images/#img-all" id="the-img-element:img-all-3">completely available</a> state and <a href="/breakup/specs/browser-dom/#queue-a-task" id="the-img-element:queue-a-task-10">queue a task</a> to <a href="/breakup/specs/browser-dom/#fire-a-simple-event" id="the-img-element:fire-a-simple-event-5">fire
      a simple event</a> named <code id="the-img-element:event-load-2"><a href="/breakup/specs/html/#event-load">load</a></code> at the <code id="the-img-element:the-img-element-31"><a href="/breakup/specs/html-images/#the-img-element">img</a></code>
      element. </p>

      <p class="note">The <code id="the-img-element:event-progress-2"><a href="/breakup/specs/html/#event-progress">progress</a></code> and <code id="the-img-element:event-loadend-2"><a href="/breakup/specs/html/#event-loadend">loadend</a></code> events are not fired for
      <code id="the-img-element:multipart/x-mixed-replace-2"><a href="#multipart/x-mixed-replace">multipart/x-mixed-replace</a></code> image streams.</p>

     </dd><dt>If the resource type and data corresponds to a supported image format, <a href="/breakup/specs/html-images/#img-determine-type">as described below</a></dt><dd>

      <p>The next <a href="/breakup/specs/browser-dom/#concept-task" id="the-img-element:concept-task-6">task</a> that is <a href="/breakup/specs/browser-dom/#queue-a-task" id="the-img-element:queue-a-task-11">queued</a> by the <a href="/breakup/specs/browser-dom/#networking-task-source" id="the-img-element:networking-task-source-5">networking task source</a> while the image is being <a href="/breakup/specs/core-algorithms/#fetch" id="the-img-element:fetch-8">fetched</a> must run the following steps:</p>

      <ol><li>

        <p>If the user agent is able to determine <var>image request</var>'s image's width and height,
        and <var>image request</var> is <a href="/breakup/specs/html-images/#pending-request" id="the-img-element:pending-request-18">pending request</a>,
        set <var>image request</var>'s state to <a href="/breakup/specs/html-images/#img-inc" id="the-img-element:img-inc-4">partially available</a>.</p>

       </li><li>

        <p>Otherwise, if the user agent is able to determine <var>image request</var>'s image's width and height,
        and <var>image request</var> is <a href="/breakup/specs/html-images/#current-request" id="the-img-element:current-request-27">current request</a>,
        update the <code id="the-img-element:the-img-element-32"><a href="/breakup/specs/html-images/#the-img-element">img</a></code> element's presentation appropriately
        and set <var>image request</var>'s state to <a href="/breakup/specs/html-images/#img-inc" id="the-img-element:img-inc-5">partially available</a>.</p>

       </li><li>

        <p>Otherwise, if the user agent is able to determine that <var>image request</var>'s image
        is corrupted in some fatal way such that the image dimensions cannot be obtained,
        and <var>image request</var> is <a href="/breakup/specs/html-images/#pending-request" id="the-img-element:pending-request-19">pending request</a>,
        <a href="/breakup/specs/html-images/#abort-the-image-request" id="the-img-element:abort-the-image-request-9">abort the image request</a> for the <a href="/breakup/specs/html-images/#current-request" id="the-img-element:current-request-28">current request</a> and the <a href="/breakup/specs/html-images/#pending-request" id="the-img-element:pending-request-20">pending request</a>,
        <a href="/breakup/specs/html-images/#upgrade-the-pending-request-to-the-current-request" id="the-img-element:upgrade-the-pending-request-to-the-current-request-3">upgrade the pending request to the current request</a>,
        set <a href="/breakup/specs/html-images/#current-request" id="the-img-element:current-request-29">current request</a> to the <a href="/breakup/specs/html-images/#img-error" id="the-img-element:img-error-6">broken</a> state,
        <a href="/breakup/specs/browser-dom/#fire-a-simple-event" id="the-img-element:fire-a-simple-event-6">fire a simple event</a> named <code id="the-img-element:event-error-3"><a href="/breakup/specs/html/#event-error">error</a></code> at the <code id="the-img-element:the-img-element-33"><a href="/breakup/specs/html-images/#the-img-element">img</a></code> element,
        <a href="/breakup/specs/browser-dom/#fire-a-simple-event" id="the-img-element:fire-a-simple-event-7">fire a simple event</a> named <code id="the-img-element:event-loadend-3"><a href="/breakup/specs/html/#event-loadend">loadend</a></code> at the <code id="the-img-element:the-img-element-34"><a href="/breakup/specs/html-images/#the-img-element">img</a></code> element,
        and abort these steps.</p>

       </li><li>

        <p>Otherwise, if the user agent is able to determine that <var>image request</var>'s image
        is corrupted in some fatal way such that the image dimensions cannot be obtained,
        and <var>image request</var> is <a href="/breakup/specs/html-images/#current-request" id="the-img-element:current-request-30">current request</a>,
        <a href="/breakup/specs/html-images/#abort-the-image-request" id="the-img-element:abort-the-image-request-10">abort the image request</a> for <var>image request</var>,
        <a href="/breakup/specs/browser-dom/#fire-a-simple-event" id="the-img-element:fire-a-simple-event-8">fire a simple event</a> named <code id="the-img-element:event-error-4"><a href="/breakup/specs/html/#event-error">error</a></code> at the <code id="the-img-element:the-img-element-35"><a href="/breakup/specs/html-images/#the-img-element">img</a></code> element,
        <a href="/breakup/specs/browser-dom/#fire-a-simple-event" id="the-img-element:fire-a-simple-event-9">fire a simple event</a> named <code id="the-img-element:event-loadend-4"><a href="/breakup/specs/html/#event-loadend">loadend</a></code> at the <code id="the-img-element:the-img-element-36"><a href="/breakup/specs/html-images/#the-img-element">img</a></code> element,
        and abort these steps.</p>

       </li></ol>

      <p id="img-load">That <a href="/breakup/specs/browser-dom/#concept-task" id="the-img-element:concept-task-7">task</a>, and each subsequent <a href="/breakup/specs/browser-dom/#concept-task" id="the-img-element:concept-task-8">task</a>, that is <a href="/breakup/specs/browser-dom/#queue-a-task" id="the-img-element:queue-a-task-12">queued</a> by the
      <a href="/breakup/specs/browser-dom/#networking-task-source" id="the-img-element:networking-task-source-6">networking task source</a> while the image is being <a href="/breakup/specs/core-algorithms/#fetch" id="the-img-element:fetch-9">fetched</a>,
      if <var>image request</var> is the <a href="/breakup/specs/html-images/#current-request" id="the-img-element:current-request-31">current request</a>,
      must update the presentation of the image appropriately (e.g. if
      the image is a progressive JPEG, each packet can improve the resolution of the image).</p>

      <p>Furthermore, the last <a href="/breakup/specs/browser-dom/#concept-task" id="the-img-element:concept-task-9">task</a> that is <a href="/breakup/specs/browser-dom/#queue-a-task" id="the-img-element:queue-a-task-13">queued</a> by the <a href="/breakup/specs/browser-dom/#networking-task-source" id="the-img-element:networking-task-source-7">networking task source</a> once the resource has been
      <a href="/breakup/specs/core-algorithms/#fetch" id="the-img-element:fetch-10">fetched</a> must additionally run these steps:</p>

      <ol><li><p>If <var>image request</var> is the <a href="/breakup/specs/html-images/#pending-request" id="the-img-element:pending-request-21">pending request</a>,
       <a href="/breakup/specs/html-images/#abort-the-image-request" id="the-img-element:abort-the-image-request-11">abort the image request</a> for the <a href="/breakup/specs/html-images/#current-request" id="the-img-element:current-request-32">current request</a>,
       <a href="/breakup/specs/html-images/#upgrade-the-pending-request-to-the-current-request" id="the-img-element:upgrade-the-pending-request-to-the-current-request-4">upgrade the pending request to the current request</a> and
       update the <code id="the-img-element:the-img-element-37"><a href="/breakup/specs/html-images/#the-img-element">img</a></code> element's presentation appropriately.</p></li><li><p>Set <var>image request</var> to the <a href="/breakup/specs/html-images/#img-all" id="the-img-element:img-all-4">completely
       available</a> state.</p></li><li><p>Add the image to the <a href="/breakup/specs/html-images/#list-of-available-images" id="the-img-element:list-of-available-images-7">list of available images</a> using the key <var>key</var>, with the <a href="/breakup/specs/html-images/#ignore-higher-layer-caching" id="the-img-element:ignore-higher-layer-caching-4">ignore higher-layer caching</a> flag set.</p></li><li><p><a href="/breakup/specs/html-images/#fire-a-progress-event-or-simple-event" id="the-img-element:fire-a-progress-event-or-simple-event">Fire a progress event or simple event</a> named <code id="the-img-element:event-load-3"><a href="/breakup/specs/html/#event-load">load</a></code>
       at the <code id="the-img-element:the-img-element-38"><a href="/breakup/specs/html-images/#the-img-element">img</a></code> element, depending on the resource in <var>image request</var>.</p></li><li><p><a href="/breakup/specs/html-images/#fire-a-progress-event-or-simple-event" id="the-img-element:fire-a-progress-event-or-simple-event-2">Fire a progress event or simple event</a> named <code id="the-img-element:event-loadend-5"><a href="/breakup/specs/html/#event-loadend">loadend</a></code>
       at the <code id="the-img-element:the-img-element-39"><a href="/breakup/specs/html-images/#the-img-element">img</a></code> element, depending on the resource in <var>image request</var>.</p></li></ol>

     </dd><dt>Otherwise</dt><dd>

      <p>The image data is not in a supported file format; the user agent must set
      <var>image request</var> to the <a href="/breakup/specs/html-images/#img-error" id="the-img-element:img-error-7">broken</a> state,
      <a href="/breakup/specs/html-images/#abort-the-image-request" id="the-img-element:abort-the-image-request-12">abort the image request</a> for the <a href="/breakup/specs/html-images/#current-request" id="the-img-element:current-request-33">current request</a> and the <a href="/breakup/specs/html-images/#pending-request" id="the-img-element:pending-request-22">pending request</a>,
      <a href="/breakup/specs/html-images/#upgrade-the-pending-request-to-the-current-request" id="the-img-element:upgrade-the-pending-request-to-the-current-request-5">upgrade the pending request to the current request</a> if <var>image request</var> is the <a href="/breakup/specs/html-images/#pending-request" id="the-img-element:pending-request-23">pending request</a>,
      and then <a href="/breakup/specs/browser-dom/#queue-a-task" id="the-img-element:queue-a-task-14">queue a task</a> to first <a href="/breakup/specs/browser-dom/#fire-a-simple-event" id="the-img-element:fire-a-simple-event-10">fire a simple event</a> named <code id="the-img-element:event-error-5"><a href="/breakup/specs/html/#event-error">error</a></code> at the <code id="the-img-element:the-img-element-40"><a href="/breakup/specs/html-images/#the-img-element">img</a></code> element and then <a href="/breakup/specs/browser-dom/#fire-a-simple-event" id="the-img-element:fire-a-simple-event-11">fire a simple
      event</a> named <code id="the-img-element:event-loadend-6"><a href="/breakup/specs/html/#event-loadend">loadend</a></code> at the <code id="the-img-element:the-img-element-41"><a href="/breakup/specs/html-images/#the-img-element">img</a></code>
      element.</p>

     </dd></dl>

   </li></ol>

  <p>To <dfn id="abort-the-image-request">abort the image request</dfn> for an <a href="/breakup/specs/html-images/#image-request" id="the-img-element:image-request-10">image request</a> <var>image request</var> means to run the following steps:</p>

  <ol><li><p>Forget <var>image request</var>'s <a href="/breakup/specs/html-images/#img-req-data" id="the-img-element:img-req-data-4">image data</a>, if any.</p></li><li><p>Abort any instance of the <a href="/breakup/specs/core-algorithms/#fetch" id="the-img-element:fetch-11">fetching</a> algorithm for <var>image request</var>,
   discarding any pending tasks generated by that algorithm.</p></li></ol>

  <p>To <dfn id="upgrade-the-pending-request-to-the-current-request">upgrade the pending request to the current request</dfn> for an <code id="the-img-element:the-img-element-42"><a href="/breakup/specs/html-images/#the-img-element">img</a></code> element means to run the following steps:</p>

  <ol><li><p>Let the <code id="the-img-element:the-img-element-43"><a href="/breakup/specs/html-images/#the-img-element">img</a></code> element's <a href="/breakup/specs/html-images/#current-request" id="the-img-element:current-request-34">current request</a> be the <a href="/breakup/specs/html-images/#pending-request" id="the-img-element:pending-request-24">pending request</a>.</p></li><li><p>Let the <code id="the-img-element:the-img-element-44"><a href="/breakup/specs/html-images/#the-img-element">img</a></code> element's <a href="/breakup/specs/html-images/#pending-request" id="the-img-element:pending-request-25">pending request</a> be null.</p></li></ol>

  <p>To <dfn id="fire-a-progress-event-or-simple-event">fire a progress event or simple event</dfn> named <var>type</var> at an element <var>e</var>,
  depending on resource <var>r</var>, means to
  <a href="/breakup/specs/core-algorithms/#fire-a-progress-event" id="the-img-element:fire-a-progress-event-3">fire a progress event</a> named <var>type</var> at <var>e</var> if <var>r</var> is <a href="/breakup/specs/core-algorithms/#cors-same-origin" id="the-img-element:cors-same-origin-3">CORS-same-origin</a>,
  and otherwise <a href="/breakup/specs/browser-dom/#fire-a-simple-event" id="the-img-element:fire-a-simple-event-12">fire a simple event</a> named <var>type</var> at <var>e</var>.</p>

  <p>While a user agent is running the above algorithm for an element <var>x</var>, there
  must be a strong reference from the element's <a id="the-img-element:node-document-6" href="https://dom.spec.whatwg.org/#concept-node-document" data-x-internal="node-document">node document</a> to the element <var>x</var>,
  even if that element is not <a href="/breakup/specs/core-algorithms/#in-a-document" id="the-img-element:in-a-document">in its <code>Document</code></a>.</p>

  <p>When an <code id="the-img-element:the-img-element-45"><a href="/breakup/specs/html-images/#the-img-element">img</a></code> element is in the <a href="/breakup/specs/html-images/#img-all" id="the-img-element:img-all-5">completely available</a>
  state <em>and</em> the user agent can decode the media data without errors, then the
  <code id="the-img-element:the-img-element-46"><a href="/breakup/specs/html-images/#the-img-element">img</a></code> element is said to be <dfn id="img-good">fully decodable</dfn>.</p>

  <p>Whether the image is fetched successfully or not (e.g. whether the response code was a 2xx code
  <a href="/breakup/specs/core-algorithms/#concept-http-equivalent-codes" id="the-img-element:concept-http-equivalent-codes">or equivalent</a>) must be ignored when determining
  the image's type and whether it is a valid image.</p>

  <p class="note">This allows servers to return images with error responses, and have them
  displayed.</p>

  <p id="img-determine-type">The user agent should apply the <a href="https://mimesniff.spec.whatwg.org/#rules-for-sniffing-images-specifically" id="the-img-element:content-type-sniffing:-image" data-x-internal="content-type-sniffing:-image">image sniffing rules</a> to determine the type of the image, with the image's <a href="/breakup/specs/core-algorithms/#content-type" id="the-img-element:content-type">associated Content-Type headers</a> giving the <var>official
  type</var>. If these rules are not applied, then the type of the image must be the type given by
  the image's <a href="/breakup/specs/core-algorithms/#content-type" id="the-img-element:content-type-2">associated Content-Type headers</a>.</p>

  <p>User agents must not support non-image resources with the <code id="the-img-element:the-img-element-47"><a href="/breakup/specs/html-images/#the-img-element">img</a></code> element (e.g. XML
  files whose root element is an HTML element). User agents must not run executable code (e.g.
  scripts) embedded in the image resource. User agents must only display the first page of a
  multipage resource (e.g. a PDF file). User agents must not allow the resource to act in an
  interactive fashion, but should honour any animation in the resource.</p>

  <p>This specification does not specify which image types are to be supported.</p>

  <hr>

  <p>An <code id="the-img-element:the-img-element-48"><a href="/breakup/specs/html-images/#the-img-element">img</a></code> element is associated with a <a href="/breakup/specs/html-images/#source-set" id="the-img-element:source-set">source set</a>.</p>

  <p>A <dfn id="source-set">source set</dfn> is an ordered set of zero or more <a href="/breakup/specs/html-images/#image-source" id="the-img-element:image-source">image sources</a>
  and a <a href="/breakup/specs/html-images/#source-size-2" id="the-img-element:source-size-2">source size</a>.</p>

  <p>An <dfn id="image-source">image source</dfn> is a <a href="/breakup/specs/core-algorithms/#url" id="the-img-element:url">URL</a>,
  and optionally either a density descriptor, or a width descriptor.</p>

  <p>A <dfn id="source-size-2">source size</dfn> is a <a href="/breakup/specs/html-images/#source-size-value" id="the-img-element:source-size-value-5">&lt;source-size-value&gt;</a>.
  When a <a href="/breakup/specs/html-images/#source-size-2" id="the-img-element:source-size-2-2">source size</a> has a unit relative to the viewport,
  it must be interpreted relative to the <code id="the-img-element:the-img-element-49"><a href="/breakup/specs/html-images/#the-img-element">img</a></code> element's <a id="the-img-element:node-document-7" href="https://dom.spec.whatwg.org/#concept-node-document" data-x-internal="node-document">node document</a>'s viewport.
  Other units must be interpreted the same as in Media Queries. [[!MQ]]</p>

  <p>A <a href="/breakup/specs/html-images/#source-size-2" id="the-img-element:source-size-2-3">source size</a> must not use CSS functions other than the <code>calc()</code> function.</p>

  <p>When asked to <dfn id="select-an-image-source">select an image source</dfn> for a given <code id="the-img-element:the-img-element-50"><a href="/breakup/specs/html-images/#the-img-element">img</a></code> element <var>el</var>,
  user agents must do the following:</p>

  <ol><li><p><a href="/breakup/specs/html-images/#update-the-source-set" id="the-img-element:update-the-source-set">Update the source set</a> for <var>el</var>.</p></li><li><p>If <var>el</var>'s <a href="/breakup/specs/html-images/#source-set" id="the-img-element:source-set-2">source set</a> is empty,
   return null as the URL and undefined as the pixel density and abort these steps.</p></li><li><p>Otherwise, take <var>el</var>'s <a href="/breakup/specs/html-images/#source-set" id="the-img-element:source-set-3">source set</a>
   and let it be <var>source set</var>.</p></li><li><p>If an entry <var>b</var> in <var>source set</var> has the same associated density descriptor
   as an earlier entry <var>a</var> in <var>source set</var>, then remove entry <var>b</var>.
   Repeat this step until none of the entries in <var>source set</var> have the same associated density descriptor as an earlier entry.</p></li><li><p>In a user agent-specific manner,
   choose one <a href="/breakup/specs/html-images/#image-source" id="the-img-element:image-source-2">image source</a> from <var>source set</var>.
   Let this be <var>selected source</var>.</p></li><li><p>Return <var>selected source</var> and its associated pixel density.</p></li></ol>

  <p>When asked to <dfn id="update-the-source-set">update the source set</dfn> for a given <code id="the-img-element:the-img-element-51"><a href="/breakup/specs/html-images/#the-img-element">img</a></code> element <var>el</var>,
  user agents must do the following:</p>

  <ol><li><p>Set <var>el</var>'s <a href="/breakup/specs/html-images/#source-set" id="the-img-element:source-set-4">source set</a> to an empty <a href="/breakup/specs/html-images/#source-set" id="the-img-element:source-set-5">source set</a>.</p></li><li><p>If <var>el</var> has a parent node and that is a <code id="the-img-element:the-picture-element-9"><a href="/breakup/specs/html-images/#the-picture-element">picture</a></code> element,
   let <var>elements</var> be an array containing <var>el</var>'s parent node's child elements, retaining relative order.
   Otherwise, let <var>elements</var> be array containing only <var>el</var>.</p></li><li>

    <p>Iterate through <var>elements</var>,
    doing the following for each item <var>child</var>:</p>

    <ol><li>

      <p>If <var>child</var> is <var>el</var>:</p>

      <ol><li><p>If <var>child</var> has a <code id="the-img-element:attr-img-srcset-9"><a href="/breakup/specs/html-images/#attr-img-srcset">srcset</a></code> attribute,
       <a href="/breakup/specs/html-images/#parse-a-srcset-attribute" id="the-img-element:parse-a-srcset-attribute">parse <var>child</var>'s srcset attribute</a>
       and let the returned <a href="/breakup/specs/html-images/#source-set" id="the-img-element:source-set-6">source set</a> be <var>source set</var>.
       Otherwise, let <var>source set</var> be an empty <a href="/breakup/specs/html-images/#source-set" id="the-img-element:source-set-7">source set</a>.</p></li><li><p><a href="/breakup/specs/html-images/#parse-a-sizes-attribute" id="the-img-element:parse-a-sizes-attribute">Parse <var>child</var>'s sizes attribute</a> and
       let <var>source set</var>'s <a href="/breakup/specs/html-images/#source-size-2" id="the-img-element:source-size-2-4">source size</a> be the returned value.</p></li><li><p>If <var>child</var> has a <code id="the-img-element:attr-img-src-10"><a href="/breakup/specs/html-images/#attr-img-src">src</a></code> attribute
       whose value is not the empty string
       and <var>source set</var> does not contain an
       <a href="/breakup/specs/html-images/#image-source" id="the-img-element:image-source-3">image source</a> with a density descriptor value of 1,
       and no <a href="/breakup/specs/html-images/#image-source" id="the-img-element:image-source-4">image source</a> with a width descriptor,
       append <var>child</var>'s <code id="the-img-element:attr-img-src-11"><a href="/breakup/specs/html-images/#attr-img-src">src</a></code> attribute value to <var>source set</var>.</p></li><li><p><a href="/breakup/specs/html-images/#normalise-the-source-densities" id="the-img-element:normalise-the-source-densities">Normalise the source densities</a> of <var>source set</var>.</p></li><li><p>Let <var>el</var>'s <a href="/breakup/specs/html-images/#source-set" id="the-img-element:source-set-8">source set</a> be <var>source set</var>.</p></li><li><p>Abort this algorithm.</p></li></ol>

     </li><li><p>If <var>child</var> is not a <code id="the-img-element:the-source-element-when-used-with-the-picture-element-7"><a href="/breakup/specs/html-images/#the-source-element-when-used-with-the-picture-element">source</a></code> element,
     continue to the next child.
     Otherwise, <var>child</var> is a <code id="the-img-element:the-source-element-when-used-with-the-picture-element-8"><a href="/breakup/specs/html-images/#the-source-element-when-used-with-the-picture-element">source</a></code> element.</p></li><li><p>If <var>child</var> does not have a <code id="the-img-element:attr-picture-source-srcset-3"><a href="/breakup/specs/html-images/#attr-picture-source-srcset">srcset</a></code> attribute,
     continue to the next child.</p></li><li><p><a href="/breakup/specs/html-images/#parse-a-srcset-attribute" id="the-img-element:parse-a-srcset-attribute-2">Parse <var>child</var>'s srcset attribute</a> and
     let the returned <a href="/breakup/specs/html-images/#source-set" id="the-img-element:source-set-9">source set</a> be <var>source set</var>.</p></li><li><p>If <var>source set</var> has zero <a href="/breakup/specs/html-images/#image-source" id="the-img-element:image-source-5">image sources</a>,
     continue to the next child.</p></li><li><p>If <var>child</var> has a <code id="the-img-element:attr-picture-source-media-2"><a href="/breakup/specs/html-images/#attr-picture-source-media">media</a></code> attribute,
     and its value does not <a href="/breakup/specs/core-algorithms/#matches-the-environment" id="the-img-element:matches-the-environment">match the environment</a>,
     continue to the next child.</p></li><li><p><a href="/breakup/specs/html-images/#parse-a-sizes-attribute" id="the-img-element:parse-a-sizes-attribute-2">Parse <var>child</var>'s sizes attribute</a>
     and let <var>source set</var>'s <a href="/breakup/specs/html-images/#source-size-2" id="the-img-element:source-size-2-5">source size</a> be the returned value.</p></li><li><p>If <var>child</var> has a <code id="the-img-element:attr-picture-source-type-2"><a href="/breakup/specs/html-images/#attr-picture-source-type">type</a></code> attribute,
     and its value is an unknown or unsupported <a href="/breakup/specs/core-algorithms/#mime-type" id="the-img-element:mime-type">MIME type</a>,
     continue to the next child.</p></li><li><p><a href="/breakup/specs/html-images/#normalise-the-source-densities" id="the-img-element:normalise-the-source-densities-2">Normalise the source densities</a> of <var>source set</var>.</p></li><li><p>Let <var>el</var>'s <a href="/breakup/specs/html-images/#source-set" id="the-img-element:source-set-10">source set</a> be <var>source set</var>.</p></li><li><p>Abort this algorithm.</p></li></ol>

   </li></ol>

  <p class="note">Each <code id="the-img-element:the-img-element-52"><a href="/breakup/specs/html-images/#the-img-element">img</a></code> element independently considers
  its previous sibling <code id="the-img-element:the-source-element-when-used-with-the-picture-element-9"><a href="/breakup/specs/html-images/#the-source-element-when-used-with-the-picture-element">source</a></code> elements
  plus the <code id="the-img-element:the-img-element-53"><a href="/breakup/specs/html-images/#the-img-element">img</a></code> element itself
  for selecting an <a href="/breakup/specs/html-images/#image-source" id="the-img-element:image-source-6">image source</a>, ignoring any other (invalid) elements,
  including other <code id="the-img-element:the-img-element-54"><a href="/breakup/specs/html-images/#the-img-element">img</a></code> elements in the same <code id="the-img-element:the-picture-element-10"><a href="/breakup/specs/html-images/#the-picture-element">picture</a></code> element,
  or <code id="the-img-element:the-source-element-when-used-with-the-picture-element-10"><a href="/breakup/specs/html-images/#the-source-element-when-used-with-the-picture-element">source</a></code> elements that are following siblings
  of the relevant <code id="the-img-element:the-img-element-55"><a href="/breakup/specs/html-images/#the-img-element">img</a></code> element.</p>

  <p>When asked to <dfn id="parse-a-srcset-attribute">parse a srcset attribute</dfn> from an element,
  parse the value of the element's <code>srcset</code> attribute as follows:</p>

  <ol><li><p>Let <var>input</var> be the value passed to this algorithm.</p></li><li><p>Let <var>position</var> be a pointer into <var>input</var>,
   initially pointing at the start of the string.</p></li><li><p>Let <var>candidates</var> be an initially empty <a href="/breakup/specs/html-images/#source-set" id="the-img-element:source-set-11">source set</a>.</p></li><li><p><i>Splitting loop</i>: <a href="/breakup/specs/core-algorithms/#collect-a-sequence-of-characters" id="the-img-element:collect-a-sequence-of-characters">Collect a sequence of characters</a>
   that are <a href="/breakup/specs/core-algorithms/#space-character" id="the-img-element:space-character-8">space characters</a> or U+002C COMMA characters.
   If any U+002C COMMA characters were collected, that is a <a href="/breakup/specs/html-images/#concept-microsyntax-parse-error" id="the-img-element:concept-microsyntax-parse-error">parse error</a>.</p></li><li><p>If <var>position</var> is past the end of <var>input</var>,
   return <var>candidates</var> and abort these steps.</p></li><li><p><a href="/breakup/specs/core-algorithms/#collect-a-sequence-of-characters" id="the-img-element:collect-a-sequence-of-characters-2">Collect a sequence of characters</a> that are not
   <a href="/breakup/specs/core-algorithms/#space-character" id="the-img-element:space-character-9">space characters</a>, and let that be <var>url</var>.</p></li><li><p>Let <var>descriptors</var> be a new empty list.</p></li><li>

    <p>If <var>url</var> ends with a U+002C COMMA character (,),
    follow these substeps:</p>

    <ol><li><p>Remove all trailing U+002C COMMA characters from <var>url</var>.
     If this removed more than one character,
     that is a <a href="/breakup/specs/html-images/#concept-microsyntax-parse-error" id="the-img-element:concept-microsyntax-parse-error-2">parse error</a>.</p></li></ol>

    <p>Otherwise, follow these substeps:</p>

    <ol><li><p><i>Descriptor tokeniser</i>: <a href="/breakup/specs/core-algorithms/#skip-whitespace" id="the-img-element:skip-whitespace">Skip whitespace</a></p></li><li><p>Let <var>current descriptor</var> be the empty string.</p></li><li><p>Let <var>state</var> be <i>in descriptor</i>.</p></li><li>

      <p>Let <var>c</var> be the character at <var>position</var>.
      Do the following depending on the value of <var>state</var>.
      For the purpose of this step, "EOF" is a special character representing
      that <var>position</var> is past the end of <var>input</var>.</p>

      <dl class="switch"><dt><i title="">In descriptor</i></dt><dd>

        <p>Do the following, depending on the value of <var>c</var>:</p>

        <dl class="switch"><dt><a href="/breakup/specs/core-algorithms/#space-character" id="the-img-element:space-character-10">Space character</a></dt><dd><p>If <var>current descriptor</var> is not empty,
         append <var>current descriptor</var> to <var>descriptors</var>
         and let <var>current descriptor</var> be the empty string.
         Set <var>state</var> to <i>after descriptor</i>.</p></dd><dt>U+002C COMMA (,)</dt><dd><p>Advance <var>position</var> to the next character in <var>input</var>.
         If <var>current descriptor</var> is not empty,
         append <var>current descriptor</var> to <var>descriptors</var>.
         Jump to the step labeled <i>descriptor parser</i>.</p></dd><dt>U+0028 LEFT PARENTHESIS (()</dt><dd><p>Append <var>c</var> to <var>current descriptor</var>.
         Set <var>state</var> to <i>in parens</i>.</p></dd><dt>EOF</dt><dd><p>If <var>current descriptor</var> is not empty,
         append <var>current descriptor</var> to <var>descriptors</var>.
         Jump to the step labeled <i>descriptor parser</i>.</p></dd><dt>Anything else</dt><dd><p>Append <var>c</var> to <var>current descriptor</var>.</p></dd></dl>

       </dd><dt><i title="">In parens</i></dt><dd>

        <p>Do the following, depending on the value of <var>c</var>:</p>

        <dl class="switch"><dt>U+0029 RIGHT PARENTHESIS ())</dt><dd><p>Append <var>c</var> to <var>current descriptor</var>.
         Set <var>state</var> to <i>in descriptor</i>.</p></dd><dt>EOF</dt><dd><p>Append <var>current descriptor</var> to <var>descriptors</var>.
         Jump to the step labeled <i>descriptor parser</i>.</p></dd><dt>Anything else</dt><dd><p>Append <var>c</var> to <var>current descriptor</var>.</p></dd></dl>

       </dd><dt><i title="">After descriptor</i></dt><dd>

        <p>Do the following, depending on the value of <var>c</var>:</p>

        <dl class="switch"><dt><a href="/breakup/specs/core-algorithms/#space-character" id="the-img-element:space-character-11">Space character</a></dt><dd><p>Stay in this state.</p></dd><dt>EOF</dt><dd><p>Jump to the step labeled <i>descriptor parser</i>.</p></dd><dt>Anything else</dt><dd><p>Set <var>state</var> to <i>in descriptor</i>.
         Set <var>position</var> to the <em>previous</em> character in <var>input</var>.</p></dd></dl>

       </dd></dl>

      <p>Advance <var>position</var> to the next character in <var>input</var>.
      Repeat this substep.</p>

      <p class="note">In order to be compatible with future additions,
      this algorithm supports multiple descriptors and descriptors with parens.</p>

     </li></ol>

   </li><li><p><i>Descriptor parser</i>: Let <var>error</var> be <i>no</i>.</p></li><li><p>Let <var>width</var> be <i>absent</i>.</p></li><li><p>Let <var>density</var> be <i>absent</i>.</p></li><li><p>Let <var>future-compat-h</var> be <i>absent</i>.</p></li><li>

    <p>For each descriptor in <var>descriptors</var>,
    run the appropriate set of steps from the following list:</p>

    <dl class="switch"><dt>If the descriptor consists of a <a href="/breakup/specs/core-algorithms/#valid-non-negative-integer" id="the-img-element:valid-non-negative-integer-2">valid non-negative integer</a>
     followed by a U+0077 LATIN SMALL LETTER W character</dt><dd>

      <ol><li>

        <p>If the user agent does not support the <code id="the-img-element:attr-img-sizes-4"><a href="/breakup/specs/html-images/#attr-img-sizes">sizes</a></code> attribute,
        let <var>error</var> be <i>yes</i>.</p>

        <p class="note">A conforming user agent will support the <code id="the-img-element:attr-img-sizes-5"><a href="/breakup/specs/html-images/#attr-img-sizes">sizes</a></code> attribute.
        However, user agents typically implement and ship features in an incremental manner in practice.</p>

       </li><li><p>If <var>width</var> and <var>density</var>
       are not both <i>absent</i>,
       then let <var>error</var> be <i>yes</i>.</p></li><li><p>Apply the <a href="/breakup/specs/core-algorithms/#rules-for-parsing-non-negative-integers" id="the-img-element:rules-for-parsing-non-negative-integers">rules for parsing non-negative integers</a> to the descriptor.
       If the result is zero, let <var>error</var> be <i>yes</i>.
       Otherwise, let <var>width</var> be the result.</p></li></ol>

     </dd><dt>If the descriptor consists of a <a href="/breakup/specs/core-algorithms/#valid-floating-point-number" id="the-img-element:valid-floating-point-number-2">valid floating-point number</a>
     followed by a U+0078 LATIN SMALL LETTER X character</dt><dd>

      <ol><li><p>If <var>width</var>, <var>density</var> and <var>future-compat-h</var>
       are not all <i>absent</i>,
       then let <var>error</var> be <i>yes</i>.</p></li><li>

        <p>Apply the <a href="/breakup/specs/core-algorithms/#rules-for-parsing-floating-point-number-values" id="the-img-element:rules-for-parsing-floating-point-number-values">rules for parsing floating-point number values</a> to the descriptor.
        If the result is less than zero, let <var>error</var> be <i>yes</i>.
        Otherwise, let <var>density</var> be the result.</p>

        <p class="note">If <var>density</var> is zero,
        the intrinsic dimensions will be infinite.
        User agents are expected to have limits in how big images can be rendered,
        which is allowed by the <a href="/breakup/specs/core-algorithms/#hardwareLimitations">hardware limitations</a> clause.</p>

       </li></ol>

     </dd><dt>If the descriptor consists of a <a href="/breakup/specs/core-algorithms/#valid-non-negative-integer" id="the-img-element:valid-non-negative-integer-3">valid non-negative integer</a>
     followed by a U+0068 LATIN SMALL LETTER H character</dt><dd>

      <p>This is a <a href="/breakup/specs/html-images/#concept-microsyntax-parse-error" id="the-img-element:concept-microsyntax-parse-error-3">parse error</a>.</p>

      <ol><li><p>If <var>future-compat-h</var> and <var>density</var>
       are not both <i>absent</i>,
       then let <var>error</var> be <i>yes</i>.</p></li><li><p>Apply the <a href="/breakup/specs/core-algorithms/#rules-for-parsing-non-negative-integers" id="the-img-element:rules-for-parsing-non-negative-integers-2">rules for parsing non-negative integers</a> to the descriptor.
       If the result is zero, let <var>error</var> be <i>yes</i>.
       Otherwise, let <var>future-compat-h</var> be the result.</p></li></ol>

     </dd><dt>Anything else</dt><dd><p>Let <var>error</var> be <i>yes</i>.</p></dd></dl>

   </li><li><p>If <var>future-compat-h</var> is not <i>absent</i> and <var>width</var> is <i>absent</i>,
   let <var>error</var> be <i>yes</i>.</p></li><li><p>If <var>error</var> is still <i>no</i>,
   then append a new <a href="/breakup/specs/html-images/#image-source" id="the-img-element:image-source-7">image source</a> to <var>candidates</var>
   whose URL is <var>url</var>,
   associated with a width <var>width</var> if not <i>absent</i>
   and a pixel density <var>density</var> if not <i>absent</i>.
   Otherwise, there is a <a href="/breakup/specs/html-images/#concept-microsyntax-parse-error" id="the-img-element:concept-microsyntax-parse-error-4">parse error</a>.</p></li><li><p>Return to the step labeled <i>splitting loop</i>.</p></li></ol>

  <p>When asked to <dfn id="parse-a-sizes-attribute">parse a sizes attribute</dfn> from an element,
  <a href="/breakup/specs/html-images/#parse-a-comma-separated-list-of-component-values" id="the-img-element:parse-a-comma-separated-list-of-component-values">parse a comma-separated list of component values</a>
  from the value of the element's <code>sizes</code> attribute
  (or the empty string, if the attribute is absent),
  and let <var>unparsed sizes list</var> be the result. [[!CSSSYNTAX]]</p>

  <p>For each <var>unparsed size</var> in <var>unparsed sizes list</var>:</p>

  <ol><li><p>Remove all consecutive <a href="/breakup/specs/html-images/#whitespace-token" id="the-img-element:whitespace-token">&lt;whitespace-token&gt;</a>s
   from the end of <var>unparsed size</var>.
   If <var>unparsed size</var> is now empty,
   that is a <a href="/breakup/specs/html-images/#concept-microsyntax-parse-error" id="the-img-element:concept-microsyntax-parse-error-5">parse error</a>;
   continue to the next iteration of this algorithm.</p></li><li><p>If the last <a href="/breakup/specs/html-images/#component-value" id="the-img-element:component-value">component value</a> in <var>unparsed size</var>
   is a valid non-negative <a href="/breakup/specs/html-images/#source-size-value" id="the-img-element:source-size-value-6">&lt;source-size-value&gt;</a>,
   let <var>size</var> be its value
   and remove the <a href="/breakup/specs/html-images/#component-value" id="the-img-element:component-value-2">component value</a> from <var>unparsed size</var>.
   Any CSS function other than the <code>calc()</code> function is invalid.
   Otherwise, there is a <a href="/breakup/specs/html-images/#concept-microsyntax-parse-error" id="the-img-element:concept-microsyntax-parse-error-6">parse error</a>;
   continue to the next iteration of this algorithm.</p></li><li><p>Remove all consecutive <a href="/breakup/specs/html-images/#whitespace-token" id="the-img-element:whitespace-token-2">&lt;whitespace-token&gt;</a>s
   from the end of <var>unparsed size</var>.
   If <var>unparsed size</var> is now empty,
   return <var>size</var> and exit this algorithm.
   If this was not the last item in <var>unparsed sizes list</var>,
   that is a <a href="/breakup/specs/html-images/#concept-microsyntax-parse-error" id="the-img-element:concept-microsyntax-parse-error-7">parse error</a>.</p></li><li><p>Parse the remaining <a href="/breakup/specs/html-images/#component-value" id="the-img-element:component-value-3">component values</a> in <var>unparsed size</var>
   as a <a href="/breakup/specs/html-images/#media-condition" id="the-img-element:media-condition-2">&lt;media-condition&gt;</a>.
   If it does not parse correctly,
   or it does parse correctly but the <a href="/breakup/specs/html-images/#media-condition" id="the-img-element:media-condition-3">&lt;media-condition&gt;</a> evaluates to false,
   continue to the next iteration of this algorithm. [[!MQ]]</p></li><li><p>Return <var>size</var> and exit this algorithm.</p></li></ol>

  <p>If the above algorithm exhausts <var>unparsed sizes list</var> without returning a <var>size</var> value,
  return <code>100vw</code>.</p>

  <p>A <dfn id="concept-microsyntax-parse-error">parse error</dfn> for the algorithms above
  indicates a non-fatal mismatch between input and requirements.
  User agents are encouraged to expose <a href="/breakup/specs/html-images/#concept-microsyntax-parse-error" id="the-img-element:concept-microsyntax-parse-error-8">parse error</a>s somehow.</p>

  <p class="note">While a <a href="/breakup/specs/html-images/#valid-source-size-list" id="the-img-element:valid-source-size-list-2">valid source size list</a> only contains a bare <a href="/breakup/specs/html-images/#source-size-value" id="the-img-element:source-size-value-7">&lt;source-size-value&gt;</a>
  (without an accompanying <a href="/breakup/specs/html-images/#media-condition" id="the-img-element:media-condition-4">&lt;media-condition&gt;</a>)
  as the last entry in the <a href="/breakup/specs/html-images/#source-size-list" id="the-img-element:source-size-list">&lt;source-size-list&gt;</a>,
  the parsing algorithm technically allows such at any point in the list,
  and will accept it immediately as the size
  if the preceding entries in the list weren't used.
  This is to enable future extensions,
  and protect against simple author errors such as a final trailing comma.</p>

  <p>An <a href="/breakup/specs/html-images/#image-source" id="the-img-element:image-source-8">image source</a> can have a density descriptor,
  a width descriptor,
  or no descriptor at all accompanying its URL.
  Normalising a <a href="/breakup/specs/html-images/#source-set" id="the-img-element:source-set-12">source set</a> gives every <a href="/breakup/specs/html-images/#image-source" id="the-img-element:image-source-9">image source</a> a density descriptor.</p>

  <p>When asked to <dfn id="normalise-the-source-densities">normalise the source densities</dfn> of a <a href="/breakup/specs/html-images/#source-set" id="the-img-element:source-set-13">source set</a> <var>source set</var>,
  the user agent must do the following:</p>

  <ol><li><p>Let <var>source size</var> be <var>source set</var>'s <a href="/breakup/specs/html-images/#source-size-2" id="the-img-element:source-size-2-6">source size</a>.</p></li><li>

    <p>For each <a href="/breakup/specs/html-images/#image-source" id="the-img-element:image-source-10">image source</a> in <var>source set</var>:</p>

    <ol><li><p>If the <a href="/breakup/specs/html-images/#image-source" id="the-img-element:image-source-11">image source</a> has a density descriptor,
     continue to the next <a href="/breakup/specs/html-images/#image-source" id="the-img-element:image-source-12">image source</a>.</p></li><li>

      <p>Otherwise, if the <a href="/breakup/specs/html-images/#image-source" id="the-img-element:image-source-13">image source</a> has a width descriptor,
      replace the width descriptor with a density descriptor
      with a value of the width descriptor divided by the <a href="/breakup/specs/html-images/#source-size-2" id="the-img-element:source-size-2-7">source size</a>
      and a unit of <code>x</code>.</p>

      <p class="note">If the <a href="/breakup/specs/html-images/#source-size-2" id="the-img-element:source-size-2-8">source size</a> is zero,
      the density would be infinity,
      which results in the intrinsic dimensions being zero by zero.</p>

     </li><li><p>Otherwise, give the <a href="/breakup/specs/html-images/#image-source" id="the-img-element:image-source-14">image source</a> a density descriptor of <code>1x</code>.</p></li></ol>

   </li></ol>

  <p id="img-environment-changes">The user agent may at any time run the following algorithm to update an <code id="the-img-element:the-img-element-56"><a href="/breakup/specs/html-images/#the-img-element">img</a></code>
  element's image in order to react to changes in the environment. (User agents are <em>not
  required</em> to ever run this algorithm; for example, if the user is not looking at the page any
  more, the user agent might want to wait until the user has returned to the page before determining
  which image to use, in case the environment changes again in the meantime.)</p>

  <p class="note">User agents are encouraged to run this algorithm in particular when the user changes the viewport's size
  (e.g. by resizing the window or changing the page zoom),
  and when an <code id="the-img-element:the-img-element-57"><a href="/breakup/specs/html-images/#the-img-element">img</a></code> element is <span>inserted into a document</span>,
  so that the <a href="/breakup/specs/html-images/#density-corrected-intrinsic-width-and-height" id="the-img-element:density-corrected-intrinsic-width-and-height-3">density-corrected intrinsic width and height</a> match the new viewport,
  and so that the correct image is chosen when <a href="/breakup/specs/html-images/#art-direction" id="the-img-element:art-direction">art direction</a> is involved.</p>

  <ol><li><p><a href="/breakup/specs/browser-dom/#await-a-stable-state" id="the-img-element:await-a-stable-state-2">Await a stable state</a>. The <a href="/breakup/specs/browser-dom/#synchronous-section" id="the-img-element:synchronous-section-5">synchronous section</a>
   consists of all the remaining steps of this algorithm until the algorithm says the
   <a href="/breakup/specs/browser-dom/#synchronous-section" id="the-img-element:synchronous-section-6">synchronous section</a> has ended. (Steps in <a href="/breakup/specs/browser-dom/#synchronous-section" id="the-img-element:synchronous-section-7">synchronous sections</a> are marked with ⌛.)</p></li><li><p>⌛ If the <code id="the-img-element:the-img-element-58"><a href="/breakup/specs/html-images/#the-img-element">img</a></code> element does not have a
   <code id="the-img-element:attr-img-srcset-10"><a href="/breakup/specs/html-images/#attr-img-srcset">srcset</a></code> attribute specified and
   it either has no parent or it is not a <code id="the-img-element:the-picture-element-11"><a href="/breakup/specs/html-images/#the-picture-element">picture</a></code> element,
   it is not <a href="/breakup/specs/core-algorithms/#in-a-document" id="the-img-element:in-a-document-2">in a <code>Document</code></a>,
   has image data whose resource type is <code id="the-img-element:multipart/x-mixed-replace-3"><a href="#multipart/x-mixed-replace">multipart/x-mixed-replace</a></code>,
   or the <a href="/breakup/specs/html-images/#pending-request" id="the-img-element:pending-request-26">pending request</a> is not null,
   then abort this algorithm.</p></li><li><p>⌛ Let <var>selected source</var> and <var>selected pixel
   density</var> be the URL and pixel density that results from <a href="/breakup/specs/html-images/#select-an-image-source" id="the-img-element:select-an-image-source-2">selecting an image source</a>, respectively.</p></li><li><p>⌛ If <var>selected source</var> is null, then abort these steps.</p></li><li><p>⌛ If <var>selected source</var> and <var>selected pixel
   density</var> are the same as the element's <a href="/breakup/specs/html-images/#last-selected-source" id="the-img-element:last-selected-source-2">last selected source</a> and <a href="/breakup/specs/html-images/#current-pixel-density" id="the-img-element:current-pixel-density-6">current
   pixel density</a>, then abort these steps.</p></li><li><p>⌛ <a href="/breakup/specs/core-algorithms/#resolve-a-url" id="the-img-element:resolve-a-url-3">Resolve</a> <var>selected source</var>,
   relative to the element, and let the result be <var>absolute URL</var>.
   If that is not successful, abort these steps.</p></li><li><p>⌛ Let <var>CORS mode</var> be the state of the element's <code id="the-img-element:attr-img-crossorigin-6"><a href="/breakup/specs/html-images/#attr-img-crossorigin">crossorigin</a></code> content attribute.</p></li><li><p>⌛ Let <var>origin</var> be the <a href="/breakup/specs/browser-dom/#origin-2" id="the-img-element:origin-2-6">origin</a> of the <code id="the-img-element:the-img-element-59"><a href="/breakup/specs/html-images/#the-img-element">img</a></code> element's <a id="the-img-element:node-document-8" href="https://dom.spec.whatwg.org/#concept-node-document" data-x-internal="node-document">node document</a>.</p></li><li><p>⌛ Let <var>key</var> be a tuple consisting of <var>absolute URL</var>,
   <var>CORS mode</var>,
   and, if <var>CORS mode</var> is not <a href="/breakup/specs/core-algorithms/#attr-crossorigin-none" id="the-img-element:attr-crossorigin-none-3">No CORS</a>, <var>origin</var>.</p></li><li><p>⌛ Let <var>image request</var> be a new <a href="/breakup/specs/html-images/#image-request" id="the-img-element:image-request-11">image request</a>
   whose <a href="/breakup/specs/html-images/#img-req-url" id="the-img-element:img-req-url-8">current URL</a> is <var>absolute URL</var></p></li><li><p>⌛ Let the element's <a href="/breakup/specs/html-images/#pending-request" id="the-img-element:pending-request-27">pending request</a> be <var>image request</var>.</p></li><li><p>End the <a href="/breakup/specs/browser-dom/#synchronous-section" id="the-img-element:synchronous-section-8">synchronous section</a>, continuing the remaining steps
   <a href="/breakup/specs/core-algorithms/#in-parallel" id="the-img-element:in-parallel-3">in parallel</a>.</p></li><li>

    <p>If the <a href="/breakup/specs/html-images/#list-of-available-images" id="the-img-element:list-of-available-images-8">list of available images</a> contains an entry for <var>key</var>,
    then set <var>image request</var>'s <a href="/breakup/specs/html-images/#img-req-data" id="the-img-element:img-req-data-5">image data</a> to that of the entry.
    Continue to the next step.</p>

    <p>Otherwise, do a <a href="/breakup/specs/core-algorithms/#potentially-cors-enabled-fetch" id="the-img-element:potentially-cors-enabled-fetch-2">potentially CORS-enabled fetch</a> of <var>absolute URL</var>,
    with the <i>mode</i> being <var>CORS mode</var>,
    the <i>origin</i> being <var>origin</var>,
    and the <i>default origin behaviour</i> set to <i>taint</i>.</p>

    <p>If this download fails in any way (other than the response code not being a 2xx code, as
    mentioned earlier), or if the image format is unsupported (as determined by applying the <a href="https://mimesniff.spec.whatwg.org/#rules-for-sniffing-images-specifically" id="the-img-element:content-type-sniffing:-image-2" data-x-internal="content-type-sniffing:-image">image sniffing rules</a>, again as mentioned earlier),
    or if the user agent is able to determine that <var>image request</var>'s image is corrupted in some fatal way such that the image dimensions cannot be obtained,
    or if the resource type is <code id="the-img-element:multipart/x-mixed-replace-4"><a href="#multipart/x-mixed-replace">multipart/x-mixed-replace</a></code>, then
    let <a href="/breakup/specs/html-images/#pending-request" id="the-img-element:pending-request-28">pending request</a> be null and abort these steps.</p>

    <p>Otherwise, wait for the <a href="/breakup/specs/core-algorithms/#fetch" id="the-img-element:fetch-12">fetch</a> algorithm to queue its last task, and then
    continue with these steps.
    The resource obtained in this fashion, if any, is <var>image request</var>'s <a href="/breakup/specs/html-images/#img-req-data" id="the-img-element:img-req-data-6">image data</a>.
    It can be either <a href="/breakup/specs/core-algorithms/#cors-same-origin" id="the-img-element:cors-same-origin-4">CORS-same-origin</a> or <a href="/breakup/specs/core-algorithms/#cors-cross-origin" id="the-img-element:cors-cross-origin-2">CORS-cross-origin</a>;
    this affects the <a href="/breakup/specs/browser-dom/#origin-2" id="the-img-element:origin-2-7">origin</a> of the image itself (e.g. when used on a <code id="the-img-element:the-canvas-element-3"><a href="/breakup/specs/html-canvas/#the-canvas-element">canvas</a></code>).</p>

   </li><li>

    <p><a href="/breakup/specs/browser-dom/#queue-a-task" id="the-img-element:queue-a-task-15">Queue a task</a> to run the following substeps:</p>

    <ol><li><p>If the <code id="the-img-element:the-img-element-60"><a href="/breakup/specs/html-images/#the-img-element">img</a></code> element has experienced <a href="/breakup/specs/html-images/#relevant-mutations" id="the-img-element:relevant-mutations-3">relevant mutations</a>
     since this algorithm started, then let <a href="/breakup/specs/html-images/#pending-request" id="the-img-element:pending-request-29">pending request</a> be null and abort these steps.</p>

     </li><li><p>Let the <code id="the-img-element:the-img-element-61"><a href="/breakup/specs/html-images/#the-img-element">img</a></code> element's <a href="/breakup/specs/html-images/#last-selected-source" id="the-img-element:last-selected-source-3">last selected source</a> be <var>selected source</var>
     and the <code id="the-img-element:the-img-element-62"><a href="/breakup/specs/html-images/#the-img-element">img</a></code> element's <a href="/breakup/specs/html-images/#current-pixel-density" id="the-img-element:current-pixel-density-7">current pixel density</a> be <var>selected pixel density</var>.</p></li><li><p>Set <var>image request</var> to the <a href="/breakup/specs/html-images/#img-all" id="the-img-element:img-all-6">completely available</a> state.</p></li><li><p>Add the image to the <a href="/breakup/specs/html-images/#list-of-available-images" id="the-img-element:list-of-available-images-9">list of available images</a> using the key <var>key</var>,
     with the <a href="/breakup/specs/html-images/#ignore-higher-layer-caching" id="the-img-element:ignore-higher-layer-caching-5">ignore higher-layer caching</a> flag set.</p></li><li><p><a href="/breakup/specs/html-images/#upgrade-the-pending-request-to-the-current-request" id="the-img-element:upgrade-the-pending-request-to-the-current-request-6">Upgrade the pending request to the current request</a>.</p></li><li><p>Update the <code id="the-img-element:the-img-element-63"><a href="/breakup/specs/html-images/#the-img-element">img</a></code> element's presentation appropriately.</p></li><li><p><a href="/breakup/specs/browser-dom/#fire-a-simple-event" id="the-img-element:fire-a-simple-event-13">Fire a simple event</a> named <code id="the-img-element:event-load-4"><a href="/breakup/specs/html/#event-load">load</a></code> at the
     <code id="the-img-element:the-img-element-64"><a href="/breakup/specs/html-images/#the-img-element">img</a></code> element.</p></li></ol>

   </li></ol>

  <hr>

  <p>The <a href="/breakup/specs/browser-dom/#task-source" id="the-img-element:task-source">task source</a> for the <a href="/breakup/specs/browser-dom/#concept-task" id="the-img-element:concept-task-10">tasks</a> <a href="/breakup/specs/browser-dom/#queue-a-task" id="the-img-element:queue-a-task-16">queued</a> by algorithms in this section is the <a href="/breakup/specs/browser-dom/#dom-manipulation-task-source" id="the-img-element:dom-manipulation-task-source">DOM manipulation task
  source</a>.</p>

  <hr>

  <p>What an <code id="the-img-element:the-img-element-65"><a href="/breakup/specs/html-images/#the-img-element">img</a></code> element represents depends on the <code id="the-img-element:attr-img-src-12"><a href="/breakup/specs/html-images/#attr-img-src">src</a></code> attribute and the <code id="the-img-element:attr-img-alt-3"><a href="/breakup/specs/html-images/#attr-img-alt">alt</a></code>
  attribute.</p>

  <dl class="switch"><dt>If the <code id="the-img-element:attr-img-src-13"><a href="/breakup/specs/html-images/#attr-img-src">src</a></code> attribute is set and the <code id="the-img-element:attr-img-alt-4"><a href="/breakup/specs/html-images/#attr-img-alt">alt</a></code> attribute is set to the empty string</dt><dd>

    <p>The image is either decorative or supplemental to the rest of the content, redundant with
    some other information in the document.</p>

    <p>If the image is <a href="/breakup/specs/html-images/#img-available" id="the-img-element:img-available-2">available</a> and the user agent is configured
    to display that image, then the element <a href="#represents" id="the-img-element:represents">represents</a> the element's image data.</p>

    <p>Otherwise, the element <a href="#represents" id="the-img-element:represents-2">represents</a> nothing, and may be omitted completely from
    the rendering. User agents may provide the user with a notification that an image is present but
    has been omitted from the rendering.</p>

   </dd><dt>If the <code id="the-img-element:attr-img-src-14"><a href="/breakup/specs/html-images/#attr-img-src">src</a></code> attribute is set and the <code id="the-img-element:attr-img-alt-5"><a href="/breakup/specs/html-images/#attr-img-alt">alt</a></code> attribute is set to a value that isn't empty</dt><dd>

    <p>The image is a key part of the content; the <code id="the-img-element:attr-img-alt-6"><a href="/breakup/specs/html-images/#attr-img-alt">alt</a></code> attribute
    gives a textual equivalent or replacement for the image.</p>

    <p>If the image is <a href="/breakup/specs/html-images/#img-available" id="the-img-element:img-available-3">available</a> and the user agent is configured
    to display that image, then the element <a href="#represents" id="the-img-element:represents-3">represents</a> the element's image data.</p>

    <p>Otherwise, the element <a href="#represents" id="the-img-element:represents-4">represents</a> the text given by the <code id="the-img-element:attr-img-alt-7"><a href="/breakup/specs/html-images/#attr-img-alt">alt</a></code> attribute. User agents may provide the user with a notification
    that an image is present but has been omitted from the rendering.</p>

   </dd><dt>If the <code id="the-img-element:attr-img-src-15"><a href="/breakup/specs/html-images/#attr-img-src">src</a></code> attribute is set and the <code id="the-img-element:attr-img-alt-8"><a href="/breakup/specs/html-images/#attr-img-alt">alt</a></code> attribute is not</dt><dd>

    <p>The image might be a key part of the content, and there is no textual equivalent of the image
    available.</p>

    <p class="note">In a conforming document, the absence of the <code id="the-img-element:attr-img-alt-9"><a href="/breakup/specs/html-images/#attr-img-alt">alt</a></code> attribute indicates that the image is a key part of the content
    but that a textual replacement for the image was not available when the image was generated.</p>

    <p>If the image is <a href="/breakup/specs/html-images/#img-available" id="the-img-element:img-available-4">available</a> and the user agent is configured
    to display that image, then the element <a href="#represents" id="the-img-element:represents-5">represents</a> the element's image data.</p>

    <p>Otherwise, the user agent should display some sort of indicator that there is an image that
    is not being rendered, and may, if requested by the user, or if so configured, or when required
    to provide contextual information in response to navigation, provide caption information for the
    image, derived as follows:</p>

    <ol><li><p>If the image has a <code id="the-img-element:attr-title"><a href="/breakup/specs/html-attributes/#attr-title">title</a></code> attribute whose value is not
     the empty string, then the value of that attribute is the caption information; abort these
     steps.</p></li><li><p>If the image is a descendant of a <code id="the-img-element:the-figure-element"><a href="/breakup/specs/html-figures/#the-figure-element">figure</a></code> element that has a child
     <code id="the-img-element:the-figcaption-element"><a href="/breakup/specs/html-figures/#the-figcaption-element">figcaption</a></code> element, and, ignoring the <code id="the-img-element:the-figcaption-element-2"><a href="/breakup/specs/html-figures/#the-figcaption-element">figcaption</a></code> element and its
     descendants, the <code id="the-img-element:the-figure-element-2"><a href="/breakup/specs/html-figures/#the-figure-element">figure</a></code> element has no <a href="#flow-content-2" id="the-img-element:flow-content-2-2">flow content</a> descendants other
     than <a href="#inter-element-whitespace" id="the-img-element:inter-element-whitespace">inter-element whitespace</a> and the <code id="the-img-element:the-img-element-66"><a href="/breakup/specs/html-images/#the-img-element">img</a></code> element, then the contents of the first such
     <code id="the-img-element:the-figcaption-element-3"><a href="/breakup/specs/html-figures/#the-figcaption-element">figcaption</a></code> element are the caption information; abort these steps.</p></li><li><p>There is no caption information.</p></li></ol>

   </dd><dt>If the <code id="the-img-element:attr-img-src-16"><a href="/breakup/specs/html-images/#attr-img-src">src</a></code> attribute is not set and either the <code id="the-img-element:attr-img-alt-10"><a href="/breakup/specs/html-images/#attr-img-alt">alt</a></code> attribute is set to the empty string or the <code id="the-img-element:attr-img-alt-11"><a href="/breakup/specs/html-images/#attr-img-alt">alt</a></code> attribute is not set at all</dt><dd>

    <p>The element <a href="#represents" id="the-img-element:represents-6">represents</a> nothing.</p>

   </dd><dt>Otherwise</dt><dd>

    <p>The element <a href="#represents" id="the-img-element:represents-7">represents</a> the text given by the <code id="the-img-element:attr-img-alt-12"><a href="/breakup/specs/html-images/#attr-img-alt">alt</a></code> attribute.</p>

   </dd></dl>

  <p>The <code id="the-img-element:attr-img-alt-13"><a href="/breakup/specs/html-images/#attr-img-alt">alt</a></code> attribute does not represent advisory information.
  User agents must not present the contents of the <code id="the-img-element:attr-img-alt-14"><a href="/breakup/specs/html-images/#attr-img-alt">alt</a></code> attribute
  in the same way as content of the <code id="the-img-element:attr-title-2"><a href="/breakup/specs/html-attributes/#attr-title">title</a></code> attribute.</p>

  <p>User agents may always provide the user with the option to display any image, or to prevent any
  image from being displayed. User agents may also apply heuristics to help the user make use of the
  image when the user is unable to see it, e.g. due to a visual disability or because they are using
  a text terminal with no graphics capabilities. Such heuristics could include, for instance,
  optical character recognition (OCR) of text found within the image.</p>

  <p class="warning">While user agents are encouraged to repair cases of missing <code id="the-img-element:attr-img-alt-15"><a href="/breakup/specs/html-images/#attr-img-alt">alt</a></code> attributes, authors must not rely on such behaviour. <a href="/breakup/specs/html-images/#alt">Requirements for providing text to act as an alternative for images</a> are described
  in detail below.</p>

  <p>The <em>contents</em> of <code id="the-img-element:the-img-element-67"><a href="/breakup/specs/html-images/#the-img-element">img</a></code> elements, if any, are ignored for the purposes of
  rendering.</p>

  

  <hr>

  <p>The <code id="the-img-element:attr-hyperlink-usemap-3"><a href="/breakup/specs/html-linking/#attr-hyperlink-usemap">usemap</a></code> attribute,
  if present, can indicate that the image has an associated
  <a href="/breakup/specs/html-linking/#image-map" id="the-img-element:image-map-2">image map</a>.</p>

  <p>The <dfn id="attr-img-ismap"><code>ismap</code></dfn>
  attribute, when used on an element that is a descendant of an
  <code id="the-img-element:the-a-element"><a href="/breakup/specs/html-linking/#the-a-element">a</a></code> element with an <code id="the-img-element:attr-hyperlink-href"><a href="/breakup/specs/html-linking/#attr-hyperlink-href">href</a></code> attribute, indicates by its
  presence that the element provides access to a server-side image
  map. This affects how events are handled on the corresponding
  <code id="the-img-element:the-a-element-2"><a href="/breakup/specs/html-linking/#the-a-element">a</a></code> element.</p>

  <p>The <code id="the-img-element:attr-img-ismap-2"><a href="/breakup/specs/html-images/#attr-img-ismap">ismap</a></code> attribute is a
  <a href="/breakup/specs/core-algorithms/#boolean-attribute" id="the-img-element:boolean-attribute">boolean attribute</a>. The attribute must not be specified
  on an element that does not have an ancestor <code id="the-img-element:the-a-element-3"><a href="/breakup/specs/html-linking/#the-a-element">a</a></code> element
  with an <code id="the-img-element:attr-hyperlink-href-2"><a href="/breakup/specs/html-linking/#attr-hyperlink-href">href</a></code> attribute.</p>

  <p class="note">The <code id="the-img-element:attr-hyperlink-usemap-4"><a href="/breakup/specs/html-linking/#attr-hyperlink-usemap">usemap</a></code> and
  <code id="the-img-element:attr-img-ismap-3"><a href="/breakup/specs/html-images/#attr-img-ismap">ismap</a></code> attributes
  can result in confusing behaviour when used together with
  <code id="the-img-element:the-source-element-when-used-with-the-picture-element-11"><a href="/breakup/specs/html-images/#the-source-element-when-used-with-the-picture-element">source</a></code> elements with the
  <code id="the-img-element:attr-picture-source-media-3"><a href="/breakup/specs/html-images/#attr-picture-source-media">media</a></code> attribute specified
  in a <code id="the-img-element:the-picture-element-12"><a href="/breakup/specs/html-images/#the-picture-element">picture</a></code> element.</p>

  <p>The <code id="the-img-element:the-img-element-68"><a href="/breakup/specs/html-images/#the-img-element">img</a></code> element supports <a href="#dimension-attributes" id="the-img-element:dimension-attributes">dimension
  attributes</a>.</p>

  

  <p>The <dfn id="dom-img-alt"><code>alt</code></dfn>, <dfn id="dom-img-src"><code>src</code></dfn>, <dfn id="dom-img-srcset"><code>srcset</code></dfn> and <dfn id="dom-img-sizes"><code>sizes</code></dfn> IDL attributes must <a href="/breakup/specs/core-algorithms/#reflect" id="the-img-element:reflect">reflect</a> the
  respective content attributes of the same name.</p>

  <p>The <dfn id="dom-img-crossorigin"><code>crossOrigin</code></dfn> IDL attribute must
  <a href="/breakup/specs/core-algorithms/#reflect" id="the-img-element:reflect-2">reflect</a> the <code id="the-img-element:attr-img-crossorigin-7"><a href="/breakup/specs/html-images/#attr-img-crossorigin">crossorigin</a></code> content attribute.</p>

  <p>The <dfn id="dom-img-usemap"><code>useMap</code></dfn> IDL attribute must
  <a href="/breakup/specs/core-algorithms/#reflect" id="the-img-element:reflect-3">reflect</a> the <code id="the-img-element:attr-hyperlink-usemap-5"><a href="/breakup/specs/html-linking/#attr-hyperlink-usemap">usemap</a></code> content attribute.</p>

  <p>The <dfn id="dom-img-ismap"><code>isMap</code></dfn> IDL attribute must <a href="/breakup/specs/core-algorithms/#reflect" id="the-img-element:reflect-4">reflect</a>
  the <code id="the-img-element:attr-img-ismap-4"><a href="/breakup/specs/html-images/#attr-img-ismap">ismap</a></code> content attribute.</p>

  


  <dl class="domintro"><dt><var>image</var> . <code id="the-img-element:dom-img-width-2"><a href="/breakup/specs/html-images/#dom-img-width">width</a></code> [ = <var>value</var> ]</dt><dt><var>image</var> . <code id="the-img-element:dom-img-height-2"><a href="/breakup/specs/html-images/#dom-img-height">height</a></code> [ = <var>value</var> ]</dt><dd>


    <p>These attributes return the actual rendered dimensions of the
    image, or zero if the dimensions are not known.</p>

    <p>They can be set, to change the corresponding content
    attributes.</p>

   </dd><dt><var>image</var> . <code id="the-img-element:dom-img-naturalwidth-2"><a href="/breakup/specs/html-images/#dom-img-naturalwidth">naturalWidth</a></code></dt><dt><var>image</var> . <code id="the-img-element:dom-img-naturalheight-2"><a href="/breakup/specs/html-images/#dom-img-naturalheight">naturalHeight</a></code></dt><dd>


    <p>These attributes return the intrinsic dimensions of the image,
    or zero if the dimensions are not known.</p>

   </dd><dt><var>image</var> . <code id="the-img-element:dom-img-complete-2"><a href="/breakup/specs/html-images/#dom-img-complete">complete</a></code></dt><dd>


    <p>Returns true if the image has been completely downloaded or if
    no image is specified; otherwise, returns false.</p>

   </dd><dt><var>image</var> . <code id="the-img-element:dom-img-currentsrc-2"><a href="/breakup/specs/html-images/#dom-img-currentsrc">currentSrc</a></code></dt><dd>

    <p>Returns the image's <a href="/breakup/specs/core-algorithms/#absolute-url" id="the-img-element:absolute-url-3">absolute URL</a>.</p>

   </dd><dt><var>image</var> = new <code id="the-img-element:dom-image-2"><a href="/breakup/specs/html-images/#dom-image">Image</a></code>( [ <var>width</var> [, <var>height</var> ] ] )</dt><dd>


    <p>Returns a new <code id="the-img-element:the-img-element-69"><a href="/breakup/specs/html-images/#the-img-element">img</a></code> element, with the <code id="the-img-element:attr-dim-width-2"><a href="#attr-dim-width">width</a></code> and <code id="the-img-element:attr-dim-height-2"><a href="#attr-dim-height">height</a></code> attributes set to the values
    passed in the relevant arguments, if applicable.</p>

   </dd></dl>

  

  <p>The IDL attributes <dfn id="dom-img-width"><code>width</code></dfn> and <dfn id="dom-img-height"><code>height</code></dfn> must return the rendered width and height of the
  image, in CSS pixels, if the image is <a href="/breakup/specs/rendering-html/#being-rendered" id="the-img-element:being-rendered">being rendered</a>, and is being rendered to a
  visual medium; or else the <a href="/breakup/specs/html-images/#density-corrected-intrinsic-width-and-height" id="the-img-element:density-corrected-intrinsic-width-and-height-4">density-corrected intrinsic width and height</a> of the image, in CSS pixels, if the image has intrinsic dimensions and is
  <i id="the-img-element:img-available-5"><a href="/breakup/specs/html-images/#img-available">available</a></i> but not being rendered to a visual medium; or else 0, if
  the image is not <i id="the-img-element:img-available-6"><a href="/breakup/specs/html-images/#img-available">available</a></i> or does not have intrinsic dimensions. [[!CSS]]</p>

  <p>On setting, they must act as if they <a href="/breakup/specs/core-algorithms/#reflect" id="the-img-element:reflect-5">reflected</a> the respective
  content attributes of the same name.</p>

  <p>The IDL attributes <dfn id="dom-img-naturalwidth"><code>naturalWidth</code></dfn> and
  <dfn id="dom-img-naturalheight"><code>naturalHeight</code></dfn> must return
  the <a href="/breakup/specs/html-images/#density-corrected-intrinsic-width-and-height" id="the-img-element:density-corrected-intrinsic-width-and-height-5">densty-corrected intrinsic width and height</a>
  of the image, in CSS pixels, if the image has intrinsic dimensions and is <i id="the-img-element:img-available-7"><a href="/breakup/specs/html-images/#img-available">available</a></i>,
  or else 0. [[!CSS]]</p>

  <p>The IDL attribute <dfn id="dom-img-complete"><code>complete</code></dfn> must return true if
  any of the following conditions is true:</p>

  <ul class="brief"><li>Both the <code id="the-img-element:attr-img-src-17"><a href="/breakup/specs/html-images/#attr-img-src">src</a></code> attribute and the <code id="the-img-element:attr-img-srcset-11"><a href="/breakup/specs/html-images/#attr-img-srcset">srcset</a></code> attribute are omitted.

   </li><li>The <code id="the-img-element:attr-img-srcset-12"><a href="/breakup/specs/html-images/#attr-img-srcset">srcset</a></code> attribute is omitted and the <code id="the-img-element:attr-img-src-18"><a href="/breakup/specs/html-images/#attr-img-src">src</a></code> attribute's value is the empty string. 

   </li><li>The final <a href="/breakup/specs/browser-dom/#concept-task" id="the-img-element:concept-task-11">task</a> that is <a href="/breakup/specs/browser-dom/#queue-a-task" id="the-img-element:queue-a-task-17">queued</a> by the <a href="/breakup/specs/browser-dom/#networking-task-source" id="the-img-element:networking-task-source-8">networking task source</a> once the resource has been <a href="/breakup/specs/core-algorithms/#fetch" id="the-img-element:fetch-13">fetched</a> has been <a href="/breakup/specs/browser-dom/#queue-a-task" id="the-img-element:queue-a-task-18">queued</a>.

   </li><li>The <code id="the-img-element:the-img-element-70"><a href="/breakup/specs/html-images/#the-img-element">img</a></code> element is <a href="/breakup/specs/html-images/#img-all" id="the-img-element:img-all-7">completely available</a>.

   </li><li>The <code id="the-img-element:the-img-element-71"><a href="/breakup/specs/html-images/#the-img-element">img</a></code> element is <a href="/breakup/specs/html-images/#img-error" id="the-img-element:img-error-8">broken</a>.

  </li></ul>

  <p>Otherwise, the attribute must return false.</p>

  <p class="note">The value of <code id="the-img-element:dom-img-complete-3"><a href="/breakup/specs/html-images/#dom-img-complete">complete</a></code> can thus change while
  a <a href="/breakup/specs/browser-dom/#concept-script" id="the-img-element:concept-script">script</a> is executing.</p>

  <p>The <dfn id="dom-img-currentsrc"><code>currentSrc</code></dfn> IDL attribute
  must return the <code id="the-img-element:the-img-element-72"><a href="/breakup/specs/html-images/#the-img-element">img</a></code> element's <a href="/breakup/specs/html-images/#current-request" id="the-img-element:current-request-35">current request</a>'s <a href="/breakup/specs/html-images/#img-req-url" id="the-img-element:img-req-url-9">current URL</a>.</p>

  <p>A constructor is provided for creating <code id="the-img-element:htmlimageelement"><a href="/breakup/specs/html-images/#htmlimageelement">HTMLImageElement</a></code> objects (in addition to
  the factory methods from DOM such as <code>createElement()</code>): <dfn id="dom-image"><code>Image(<var>width</var>, <var>height</var>)</code></dfn>.
  When invoked as a constructor, this must return a new <code id="the-img-element:htmlimageelement-2"><a href="/breakup/specs/html-images/#htmlimageelement">HTMLImageElement</a></code> object (a new
  <code id="the-img-element:the-img-element-73"><a href="/breakup/specs/html-images/#the-img-element">img</a></code> element). If the <var>width</var> argument is present, the new object's
  <code id="the-img-element:attr-dim-width-3"><a href="#attr-dim-width">width</a></code> content attribute must be set to <var>width</var>. If the <var>height</var> argument is also present, the new object's
  <code id="the-img-element:attr-dim-height-3"><a href="#attr-dim-height">height</a></code> content attribute must be set to <var>height</var>.
  The element's <a id="the-img-element:node-document-9" href="https://dom.spec.whatwg.org/#concept-node-document" data-x-internal="node-document">node document</a> must be the <a href="/breakup/specs/browser-dom/#active-document" id="the-img-element:active-document-3">active document</a> of the
  <a href="/breakup/specs/browser-dom/#browsing-context" id="the-img-element:browsing-context-3">browsing context</a> of the <code id="the-img-element:window"><a href="/breakup/specs/browser-dom/#window">Window</a></code> object on which the interface object of
  the invoked constructor is found.</p>

  


  <div class="example">

   <p>A single image can have different appropriate alternative text depending on the context.</p>

   <p>In each of the following cases, the same image is used, yet the <code id="the-img-element:attr-img-alt-16"><a href="/breakup/specs/html-images/#attr-img-alt">alt</a></code> text is different each time. The image is the coat of arms of the
   Carouge municipality in the canton Geneva in Switzerland.</p>

   <p>Here it is used as a supplementary icon:</p>
   <pre>&lt;p&gt;I lived in &lt;img src="carouge.svg" alt=""&gt; Carouge.&lt;/p&gt;</pre>

   <p>Here it is used as an icon representing the town:</p>
   <pre>&lt;p&gt;Home town: &lt;img src="carouge.svg" alt="Carouge"&gt;&lt;/p&gt;</pre>

   <p>Here it is used as part of a text on the town:</p>

   <pre>&lt;p&gt;Carouge has a coat of arms.&lt;/p&gt;
&lt;p&gt;&lt;img src="carouge.svg" alt="The coat of arms depicts a lion, sitting in front of a tree."&gt;&lt;/p&gt;
&lt;p&gt;It is used as decoration all over the town.&lt;/p&gt;</pre>

   <p>Here it is used as a way to support a similar text where the description is given as well as,
   instead of as an alternative to, the image:</p>

   <pre>&lt;p&gt;Carouge has a coat of arms.&lt;/p&gt;
&lt;p&gt;&lt;img src="carouge.svg" alt=""&gt;&lt;/p&gt;
&lt;p&gt;The coat of arms depicts a lion, sitting in front of a tree.
It is used as decoration all over the town.&lt;/p&gt;</pre>

   <p>Here it is used as part of a story:</p>

   <pre>&lt;p&gt;He picked up the folder and a piece of paper fell out.&lt;/p&gt;
&lt;p&gt;&lt;img src="carouge.svg" alt="Shaped like a shield, the paper had a
red background, a green tree, and a yellow lion with its tongue
hanging out and whose tail was shaped like an S."&gt;&lt;/p&gt;
&lt;p&gt;He stared at the folder. S! The answer he had been looking for all
this time was simply the letter S! How had he not seen that before? It all
came together now. The phone call where Hector had referred to a lion's tail,
the time Marco had stuck his tongue out...&lt;/p&gt;</pre>

   <p>Here it is not known at the time of publication what the image will be, only that it will be a
   coat of arms of some kind, and thus no replacement text can be provided, and instead only a brief
   caption for the image is provided, in the <code id="the-img-element:attr-title-3"><a href="/breakup/specs/html-attributes/#attr-title">title</a></code> attribute:</p>

   <pre>&lt;p&gt;The last user to have uploaded a coat of arms uploaded this one:&lt;/p&gt;
&lt;p&gt;&lt;img src="last-uploaded-coat-of-arms.cgi" title="User-uploaded coat of arms."&gt;&lt;/p&gt;</pre>

   <p>Ideally, the author would find a way to provide real replacement text even in this case, e.g.
   by asking the previous user. Not providing replacement text makes the document more difficult to
   use for people who are unable to view images, e.g. blind users, or users or very low-bandwidth
   connections or who pay by the byte, or users who are forced to use a text-only Web browser.</p>

  </div>

  <div class="example">

   <p>Here are some more examples showing the same picture used in different contexts, with
   different appropriate alternate texts each time.</p>

   <pre>&lt;article&gt;
 &lt;h1&gt;My cats&lt;/h1&gt;
 &lt;h2&gt;Fluffy&lt;/h2&gt;
 &lt;p&gt;Fluffy is my favourite.&lt;/p&gt;
 &lt;img src="fluffy.jpg" alt="She likes playing with a ball of yarn."&gt;
 &lt;p&gt;She's just too cute.&lt;/p&gt;
 &lt;h2&gt;Miles&lt;/h2&gt;
 &lt;p&gt;My other cat, Miles just eats and sleeps.&lt;/p&gt;
&lt;/article&gt;</pre>

   <pre>&lt;article&gt;
 &lt;h1&gt;Photography&lt;/h1&gt;
 &lt;h2&gt;Shooting moving targets indoors&lt;/h2&gt;
 &lt;p&gt;The trick here is to know how to anticipate; to know at what speed and
 what distance the subject will pass by.&lt;/p&gt;
 &lt;img src="fluffy.jpg" alt="A cat flying by, chasing a ball of yarn, can be
 photographed quite nicely using this technique."&gt;
 &lt;h2&gt;Nature by night&lt;/h2&gt;
 &lt;p&gt;To achieve this, you'll need either an extremely sensitive film, or
 immense flash lights.&lt;/p&gt;
&lt;/article&gt;</pre>

   <pre>&lt;article&gt;
 &lt;h1&gt;About me&lt;/h1&gt;
 &lt;h2&gt;My pets&lt;/h2&gt;
 &lt;p&gt;I've got a cat named Fluffy and a dog named Miles.&lt;/p&gt;
 &lt;img src="fluffy.jpg" alt="Fluffy, my cat, tends to keep itself busy."&gt;
 &lt;p&gt;My dog Miles and I like go on long walks together.&lt;/p&gt;
 &lt;h2&gt;music&lt;/h2&gt;
 &lt;p&gt;After our walks, having emptied my mind, I like listening to Bach.&lt;/p&gt;
&lt;/article&gt;</pre>

   <pre>&lt;article&gt;
 &lt;h1&gt;Fluffy and the Yarn&lt;/h1&gt;
 &lt;p&gt;Fluffy was a cat who liked to play with yarn. He also liked to jump.&lt;/p&gt;
 &lt;aside&gt;&lt;img src="fluffy.jpg" alt="" title="Fluffy"&gt;&lt;/aside&gt;
 &lt;p&gt;He would play in the morning, he would play in the evening.&lt;/p&gt;
&lt;/article&gt;</pre>

  </div>

  


  <section>
  <h2>Requirements for providing text to act as an alternative for images</h2>

  <p><a href="http://www.w3.org/TR/WCAG20/#text-altdef">Text alternatives</a>, [[WCAG]]
  are a primary way of making visual information accessible, because they can be rendered through any
  sensory modality (for example, visual, auditory or tactile) to match the needs of the user. Providing text alternatives allows
  the information to be rendered in a variety of ways by a variety of user agents. For example, a person who cannot see a picture
  can have the text alternative read aloud using synthesized speech.</p>
 
  <p class="note">The <code>alt</code> attribute on images is a very important accessibility attribute.
  Authoring useful <code>alt</code> attribute content requires the author to carefully consider the context in 
  which the image appears and the function that image may have in that context. The guidance included 
  here addresses the most common ways authors use images. Additional guidance and techniques are available in <a href="http://w3.org/WAI/alt/">Resources on Alternative Text for Images</a>.</p>
<section>
  <h2>Examples of scenarios where users benefit from text alternatives for images</h2>

  <ul>
      <li>They have a very slow connection and are browsing with images disabled.</li>
      <li>They have a vision impairment and use text to speech software.</li>
      <li>They have a cognitive impairment and use text to speech software.</li>
      <li>They are using a text-only browser.</li>
      <li>They are listening to the page being read out by a voice Web browser.</li>
      <li>They have images disabled to save on download costs.</li>
      <li>They have problems loading images or the source of an image is wrong.</li>
    </ul>
</section>
<section>
  <h2>General guidelines</h2>

  <p>Except where otherwise specified, the <code>alt</code> attribute must be specified and its value must not be empty; 
  the value must be an appropriate functional replacement for the image. The specific requirements for the <code>alt</code> attribute content
  depend on the image's function in the page, as described in the following sections.</p>
  
  <p>To determine an appropriate text alternative it is important to think about why an image is being included in a page. 
  What is its purpose? Thinking like this will help you to understand what is important about the image for the 
  intended audience. Every image has a reason for being on a page, because it provides useful information, performs a 
  function, labels an interactive element, enhances aesthetics or is purely decorative. Therefore, knowing what the image 
  is for, makes writing an appropriate text alternative easier.</p>
</section>  
<section>
  <h2>A link or button containing nothing but an image</h2>

  <p>When an <code><a href="/breakup/specs/html-linking/#the-a-element">a</a></code> element that is a <a href="/breakup/specs/html-linking/#hyperlink">hyperlink</a>, or a <code><a href="/breakup/specs/html-forms/#the-button-element">button</a></code> element, has no text content
 but contains one or more images, include text in the <code>alt</code> attribute(s) that together convey the purpose of the link or button.</p>
  
	<div class="example">

  <p>In this example, a portion of an editor interface is displayed. Each button has an icon representing an action a user can take on content they are editing. For users who cannot view the images, the action names are included within the <code>alt</code> attributes of the images:</p>
  <p><img alt="5 buttons: bold, italic, strike through, bulleted list and numbered list." src="images/buttons1.png"></p>
        
  <pre>  &lt;ul&gt;
  &lt;li&gt;&lt;button&gt;&lt;img src="b.png" <strong>alt="Bold"</strong>&gt;&lt;/button&gt;&lt;/li&gt;
  &lt;li&gt;&lt;button&gt;&lt;img src="i.png" <strong>alt="Italics"</strong>&gt;&lt;/button&gt;&lt;/li&gt;
  &lt;li&gt;&lt;button&gt;&lt;img src="strike.png" <strong>alt="Strike through"</strong>&gt;&lt;/button&gt;&lt;/li&gt;
  &lt;li&gt;&lt;button&gt;&lt;img src="blist.png" <strong>alt="Bulleted list"</strong>&gt;&lt;/button&gt;&lt;/li&gt;
  &lt;li&gt;&lt;button&gt;&lt;img src="nlist.png" <strong>alt="Numbered list"</strong>&gt;&lt;/button&gt;&lt;/li&gt;
  &lt;/ul&gt;
  </pre>
	</div>

  <div class="example">

  <p>In this example, a link contains a logo. The link points to the W3C web site <strong>from an external site</strong>. The text alternative is
  a brief description of the link target.</p>
  <p><abbr title="World Wide Web Consortium"><img alt="W3C logo used as link content." height="48" src="images/w3c_home.png" width="72"></abbr></p>

  <pre>  &lt;a href="http://w3.org"&gt;
  &lt;img src="images/w3c_home.png" width="72" height="48" <strong>alt="W3C web site"</strong>&gt;
  &lt;/a&gt;
  </pre>
  </div>
	  
	<div class="example">
  <p>This example is the same as the previous example, except that the <strong>link is on the W3C web site</strong>. The text alternative is
  a brief description of the link target.</p>
  <p><abbr title="World Wide Web Consortium"><img alt="W3C logo used as link content." height="48" src="images/w3c_home.png" width="72"></abbr></p>

  <pre>  &lt;a href="http://w3.org"&gt;
  &lt;img src="images/w3c_home.png" width="72" height="48" <strong>alt="W3C home"</strong>&gt;
  &lt;/a&gt;
  </pre>
  <p class="note">Depending on the context in which an image of a logo is used it could be appropriate to provide an indication, as part of the text alternative, that the image is a <em>logo</em>. Refer to section <a href="/breakup/specs/html-images/#logos,-insignia,-flags,-or-emblems">4.7.1.1.19 Logos, insignia, flags, or emblems</a>.</p>
  </div>
  
  <div class="example">
  <p>In this example, a link contains a print preview icon. The link points to a version of the page with a
  print stylesheet applied. The text alternative is a brief description of the link target.</p>
  <p><img alt="Print preview icon used as link content." height="30" src="images/preview.png" width="32"></p>

  <pre>  &lt;a href="preview.html"&gt;
  &lt;img src="images/preview.png" width="32" height="30" <strong>alt="Print preview."</strong>&gt;
  &lt;/a&gt;
  </pre>
  </div>

  <div class="example">
  <p>In this example, a button contains a search icon. The button submits a search form. The text alternative is a
  brief description of what the button does.</p>
  <p><img alt="Search icon used as button content." height="29" src="images/search.png" width="74"></p>

  <pre>  &lt;button&gt;
  &lt;img src="images/search.png" width="74" height="29" <strong>alt="Search"</strong>&gt;
  &lt;/button&gt;
  </pre>
  </div>

  <div class="example">
  <p>In this example, a company logo for the <i>PIP Corporation</i> has been split into the following two images,
  the first containing the word <i>PIP</i> and the second with the abbreviated word <i>CO</i>. The images are the
  sole content of a link to the <i>PIPCO</i> home page. In this case a brief description of the link target is provided.
  As the images are presented to the user as a single entity the text alternative <i>PIP CO home</i> is in the
  <code>alt</code> attribute of the first image.</p>

  <p><img alt="Image containing the text 'PIP'." height="64" src="images/pip.gif" width="99"><img alt="Image containing the text 'CO'." height="64" src="images/co.gif" width="103"></p>

  <pre>  &lt;a href="pipco-home.html"&gt;
  &lt;img src="pip.gif" <strong>alt="PIP CO home"</strong>&gt;&lt;img src="co.gif" <strong>alt=""</strong>&gt;
  &lt;/a&gt;
  </pre>
  </div>
</section> 
<section>
  <h2>Graphical Representations: Charts, diagrams, graphs, maps, illustrations</h2>

  <p>Users can benefit when content is presented in graphical form, for example as a 
  flowchart, a diagram, a graph, or a map showing directions. Users also benefit when 
  content presented in a graphical form is also provided in a textual format, these users include 
  those who are unable to view the image (e.g. because they have a very slow connection, 
  or because they are using a text-only browser, or because they are listening to the page 
  being read out by a hands-free automobile voice Web browser, or because they have a 
  visual impairment and use an assistive technology to render the text to speech).</p>

  <div class="example">
  <p>In the following example we have an image of a pie chart, with text in the <code>alt</code> attribute 
  representing the data shown in the pie chart:</p>
  <p><img alt="Browser Share: Internet Explorer 25%, Firefox 40%, Chrome 25%, Safari 6% and Opera 4%." height="299" src="images/browserShare.png" width="380"></p>

  <pre>  &lt;img src="piechart.gif" <strong>alt="Pie chart: Browser Share - Internet Explorer 25%, Firefox 40%, Chrome 25%, Safari 6% and Opera 4%."</strong>&gt;
  </pre>
  </div>

  <div class="example">
  <p>In the case where an image repeats the previous paragraph in graphical form. The <code>alt</code> attribute content labels the image.</p>

  <pre> &lt;p&gt;According to a recent study Firefox has a 40% browser share, Internet Explorer has 25%, Chrome has 25%, Safari has 6% and Opera has 4%.&lt;/p&gt;
 &lt;p&gt;&lt;img src="piechart.gif" <strong>alt="Pie chart representing the data in the previous paragraph."</strong>&gt;&lt;/p&gt;</pre>
  <p>It can be seen that when the image is not available, for example because the <code>src</code> attribute value is incorrect, the text alternative provides the user with a brief description of the image content:</p>
  <p><img alt="Representation of the code snippet above." src="images/brokenimg.png"></p>
  </div>
  
  <p class="note">In cases where the text alternative is lengthy, more than a sentence or two, or would benefit from 
 the use of structured markup, provide a brief description or label using the <code>alt</code> 
 attribute, and an associated text alternative.</p>
  
  <div class="example">
  <p>Here's an example of a flowchart image, with a short text alternative 
  included in the <code>alt</code> attribute, in this case the text alternative is a description of the link target 
  as the image is the sole content of a link. The link points to a description, within the same document, of the 
  process represented in the flowchart.</p>
  
  <p><img alt="Flowchart: Dealing with a broken lamp." height="320" src="images/flowchart.png" width="221"></p>

  <pre>  <strong>
  &lt;a href="#desc"&gt;</strong>&lt;img src="flowchart.gif" <strong>alt="Flowchart: Dealing with a broken lamp."</strong>&gt;<strong>&lt;/a&gt;</strong>

  ...

  ...

  &lt;div <strong>id="desc"</strong>&gt;
  &lt;h2&gt;Dealing with a broken lamp&lt;/h2&gt;
  <strong>&lt;ol&gt;</strong>
  <strong>&lt;li&gt;</strong>Check if it's plugged in, if not, plug it in.<strong>&lt;/li&gt;</strong>
  <strong>&lt;li&gt;</strong>If it still doesn't work; check if the bulb is burned out. If it is, replace the bulb.<strong>&lt;/li&gt;</strong>
  <strong>&lt;li&gt;</strong>If it still doesn't work; buy a new lamp.<strong>&lt;/li&gt;</strong>
  <strong>&lt;/ol&gt;</strong>
  &lt;/div&gt;</pre>
  </div>  

  <div class="example">
  <p>In this example, there is an image of a chart. It would be inappropriate to provide the information depicted in
  the chart as a plain text alternative in an <code>alt</code> attribute as the information is a data set. Instead a 
  structured text alternative is provided below the image in the form of a data table using the data that is represented 
  in the chart image.</p>

  <p><img alt="Bar Chart showing average rainfall in millimetres by Country and Season." height="341" src="images/table.gif" width="407"></p>
  <p class="note">Indications of the highest and lowest rainfall for each season have been included in the 
  table, so trends easily identified in the chart are also available in the data table.</p>
  
  <table style="border: 1px solid gray; width: 28em">
  <caption>Average rainfall in millimetres  by country and season.</caption>
  <tbody><tr><td></td><th scope="col">United Kingdom</th><th scope="col">Japan</th><th scope="col">Australia</th></tr>
  <tr><th scope="row">Spring</th><td>5.3 (highest)</td><td>2.4</td><td>2 (lowest)</td></tr>
  <tr><th scope="row">Summer</th><td>4.5 (highest)</td><td>3.4</td><td>2 (lowest)</td></tr>
  <tr><th scope="row">Autumn</th><td>3.5 (highest)</td><td>1.8</td><td>1.5 (lowest)</td></tr>
  <tr><th scope="row">Winter</th><td>1.5 (highest)</td><td>1.2</td><td>1 (lowest)</td></tr>
  </tbody></table>

  <pre>  &lt;figure&gt;
  &lt;figcaption&gt;Rainfall Data&lt;/figcaption&gt;
  &lt;img src="rainchart.gif" <strong>alt="Bar chart: Average rainfall in millimetres by Country and Season."</strong>&gt;
  &lt;table&gt;
  &lt;caption&gt;Rainfall in millimetres by Country and Season.&lt;/caption&gt;
  &lt;tr&gt;&lt;td&gt;&lt;th scope="col"&gt;UK &lt;th scope="col"&gt;Japan&lt;th scope="col"&gt;Australia&lt;/tr&gt;
  &lt;tr&gt;&lt;th scope="row"&gt;Spring &lt;td&gt;5.5 (highest)&lt;td&gt;2.4 &lt;td&gt;2 (lowest)&lt;/tr&gt;
  &lt;tr&gt;&lt;th scope="row"&gt;Summer &lt;td&gt;4.5 (highest)&lt;td&gt;3.4&lt;td&gt;2 (lowest)&lt;/tr&gt;
  &lt;tr&gt;&lt;th scope="row"&gt;Autumn &lt;td&gt;3.5 (highest) &lt;td&gt;1.8 &lt;td&gt;1.5 (lowest)&lt;/tr&gt;
  &lt;tr&gt;&lt;th scope="row"&gt;Winter &lt;td&gt;1.5 (highest) &lt;td&gt;1.2 &lt;td&gt;1 lowest&lt;/tr&gt;
  &lt;/table&gt;
  &lt;/figure&gt;
  </pre>
  <p class="note">The <code><a href="/breakup/specs/html-figures/#the-figure-element">figure</a></code> element is used to group the Bar Chart image and data table. 
  The <code><a href="/breakup/specs/html-figures/#the-figcaption-element">figcaption</a></code> element provides a caption for the grouped content.</p>
  
  </div>
  <p class="note">For any of the examples in this section the <code><a href="/breakup/specs/html-ui/#the-details-element">details</a></code> and <code><a href="/breakup/specs/html-ui/#the-summary-element">summary</a></code> 
  elements could be used so that the text descriptions for the images are only displayed on demand:</p>
  
  <div class="example">
  <p><img alt="Details element in the closed state." src="images/altdetails-collapsed.png"></p>
  <p><img alt="Details element in the open state with list content displayed." src="images/altdetails-expanded.png"></p>
  <pre>  &lt;figure&gt;
  &lt;img src="flowchart.gif" alt="Flowchart: Dealing with a broken lamp."&gt;
  <strong title="">&lt;details&gt;</strong>
  <strong>&lt;summary&gt;Dealing with a broken lamp&lt;/summary&gt;</strong>
  &lt;ol&gt;
  lt;li&gt;Check if it's plugged in, if not, plug it in.&lt;/li&gt;
  &lt;li&gt;If it still doesn't work; check if the bulb is burned out. If it is, replace the bulb.&lt;/li&gt;
  &lt;li&gt;If it still doesn't work; buy a new lamp.&lt;/li&gt;
  &lt;/ol&gt;
  <strong>&lt;/details&gt;</strong>
  &lt;/figure&gt;
  </pre>
  <p class="note">The <code><a href="/breakup/specs/html-ui/#the-details-element">details</a></code> and <code><a href="/breakup/specs/html-ui/#the-summary-element">summary</a></code> elements are not currently well supported by browsers, until such times they are supported, if used, you will need to use scripting to provide the functionality. There are a number of scripted Polyfills and scripted custom controls available, in popular JavaScript UI widget libraries, which provide similar functionality.</p>
  </div>
</section>
<section>
  <h2>Images of text</h2>

  <p>Sometimes, an image only contains  text, and the purpose of the image 
  is to display text  using visual effects and /or fonts.  It is <em>strongly</em> 
  recommended that text styled using CSS be used, but if this is not possible, provide 
  the same text in the <code><a href="/breakup/specs/html-images/#attr-img-alt">alt</a></code> attribute as is in the image.</p>

  <div class="example">
  <p>This example shows an image of the text "Get Happy!" written in a fancy multi colored freehand style.
   The image makes up the content of a heading. In this case the text alternative for the image is "Get Happy!".</p>

   <p><img alt="Get Happy!" height="77" src="images/text.png" width="275"></p>

  <pre>&lt;h1&gt;&lt;img src="gethappy.gif" <strong>alt="Get Happy!"</strong>&gt;&lt;/h1&gt;</pre>
  </div>

  <div class="example">
  <p>In this example we have an advertising image consisting of text, the phrase "The BIG sale" is
   repeated 3 times, each time the text gets smaller and fainter, the last line reads "...ends Friday"
   In the context of use, as an advertisement, it is recommended that the image's text alternative only include the text "The BIG sale"
   once as the repetition is for visual effect and the repetition of the text for users who cannot view
   the image is unnecessary and could be confusing.</p>

  <p><img alt="The big sale ...ends Friday." height="190" src="images/sale.png" width="400"></p>
  <pre>  &lt;p&gt;&lt;img src="sale.gif" <strong>alt="The BIG sale ...ends Friday."</strong>&gt;&lt;/p&gt;
  </pre>
  <p class="note">In situations where there is also a photo or other graphic along with the image of text,
    ensure that the words in the image text are included in the text alternative, along with any other description
    of the image that conveys meaning to users who can view the image, so the information is also
    available to users who cannot view the image.</p>
  </div>
 <p>When an image is used to represent a character that cannot otherwise be represented in Unicode,
  for example gaiji, itaiji, or new characters such as novel currency symbols, the text alternative
  should be a more conventional way of writing the same thing, e.g. using the phonetic hiragana or
  katakana to give the character's pronunciation.</p>

  <div class="example">

   <p>In this example from 1997, a new-fangled currency symbol that looks like a curly E with two
   bars in the middle instead of one is represented using an image. The alternative text gives the
   character's pronunication.</p>

<p>Only <img alt="euro " height="18" src="images/euro.png" width="21">5.99!</p>

   <pre>&lt;p&gt;Only &lt;img src="euro.png" alt="euro "&gt;5.99!</pre>

  </div>

  <p>An image should not be used if Unicode characters would serve an identical purpose. Only when
  the text cannot be directly represented using Unicode, e.g. because of decorations or because the
  character is not in the Unicode character set (as in the case of gaiji), would an image be
  appropriate.</p>

  <p class="note">If an author is tempted to use an image because their default system font does not
  support a given character, then Web Fonts are a better solution than images.</p>
  <!-- Fork - move example to correct section and add image example SF-->
  <div class="example">

   <p>An illuminated manuscript might use graphics for some of its letters. The text alternative in
   such a situation is just the character that the image represents.</p>
   <p><img alt="O" height="32" src="images/fancyO.png" width="24">nce upon a time and a long long time ago...</p>
   <pre>&lt;p&gt;&lt;img src="initials/fancyO.png" <mark>alt="O"</mark>&gt;nce upon a time and a long long time ago...</pre> 
  </div>
</section>  
<section>
  <h2>Images that include text</h2>

  <p>Sometimes, an image consists of a graphics such as a chart and associated text. 
  In this case it is recommended that the text in the image is included in the text alternative.</p>

  <div class="example">
  <p>Consider an image containing  a pie chart and associated text. It is recommended wherever 
  possible to provide any associated text as text, not an image of text. 
  If this is not possible include the text in the text alternative along with the pertinent information
  conveyed in the image.</p>

  <p><img alt="Figure 1. Distribution of Articles by Journal 
  Category. Pie chart: Language=68%, Education=14% and Science=18%." height="279" id="piechart" src="images/figure1.png" width="351"></p>
  <pre>  &lt;p&gt;&lt;img src="figure1.gif" <strong>alt="Figure 1. Distribution of Articles by Journal Category. 
  Pie chart: Language=68%, Education=14% and Science=18%."</strong>&gt;&lt;/p&gt;
  </pre>
  </div>

  <div class="example">
  <p>Here's another example of the same <a href="/breakup/specs/html-images/#piechart">pie chart</a> image, 
  showing a short text alternative included in the <code>alt</code> attribute 
  and a longer text alternative in text. The <code><a href="/breakup/specs/html-figures/#the-figure-element">figure</a></code> and <code><a href="/breakup/specs/html-figures/#the-figcaption-element">figcaption</a></code> 
  elements are used to associate the longer text alternative with the image. The <code>alt</code> attribute is used
  to label the image.</p>

  <pre>  &lt;figure&gt;
  &lt;img src="figure1.gif" <strong>alt="Figure 1"</strong>&gt;
  &lt;figcaption&gt;&lt;strong&gt;Figure 1.&lt;/strong&gt; Distribution of Articles by Journal Category. 
  Pie chart: Language=68%, Education=14% and Science=18%.&lt;/figcaption&gt;
  &lt;/figure&gt;
  </pre>
  <p class="note">The advantage of this method over the previous example is that the text alternative 
  is available to all users at all times. It also allows structured mark up to be used in the text 
  alternative, where as a text alternative provided using the <code>alt</code> attribute does not.</p>
  </div>
</section>
<section>
  <h2>Images that enhance the themes or subject matter of the page content</h2>

  <p>An image that isn't discussed directly by the surrounding text but still has 
  some relevance can be included in a page using the <code><a href="/breakup/specs/html-images/#the-img-element">img</a></code> element. Such images 
  are more than mere decoration, they may augment the themes or subject matter of the page 
  content and so still form part of the content. In these cases, it is recommeneded that a 
  text alternative be provided. </p>

  <div class="example">
  <p>Here is an example of an image closely related to the subject matter of the page content 
  but not directly discussed. An image of a painting inspired by a poem, on a page reciting that poem. 
  The following snippet shows an example. The image is a painting titled the "Lady of Shallot", it is 
  inspired by the poem and its subject matter is derived from the poem. Therefore it is strongly 
  recommended that a text alternative is provided. There is a short description of the content of 
  the image in the <code><a href="/breakup/specs/html-images/#attr-img-alt">alt</a></code> attribute and
  a link below the image to a longer description located at the bottom of the document. At the end 
  of the longer description there is also a link to further information about the painting.</p>
  <p><img alt="A painting inspired by Alfred Tennyson's poem The Lady of Shalott" height="234" src="images/shalott.jpg" width="338"></p>
  <pre>  &lt;header&gt;
  &lt;h1&gt;The Lady of Shalott&lt;/h1&gt;
  &lt;p&gt;A poem by Alfred Lord Tennyson&lt;/p&gt;
  &lt;/header&gt;

  &lt;img src="shalott.jpeg" <strong>alt="Painting of a  young woman with long hair, sitting in a wooden boat. "</strong>&gt;
  &lt;p&gt;&lt;a href="#des"&gt;Description of the painting&lt;/a&gt;.&lt;/p&gt;


  &lt;!-- Full Recitation of Alfred, Lord Tennyson's Poem.  --&gt;

  ...
  ...
  ...
  &lt;p id="des"&gt;<strong>The woman in the painting is wearing a flowing white dress. A large piece of intricately 
  patterned fabric is draped over the side. In her right hand she holds the chain mooring the boat. Her expression 
  is mournful. She stares at a crucifix lying in front of her. Beside it are three candles. Two have blown out.</strong> 
  <strong>&lt;a href="http://bit.ly/5HJvVZ"&gt;Further information about the painting&lt;/a&gt;.</strong>&lt;/p&gt;
  </pre>
  </div>
  <div class="example">
  <p>This example illustrates the provision of a text alternative identifying an image as a photo of the main subject of a page.</p>
  <img alt="Portrait photo(black and white) of Robin, accompanied by a heading 'Robin Berjon' and a question
  'what more needs to be said?'" height="138" src="images/robin.png" width="354">
<pre>  &lt;img src="orateur_robin_berjon.png" <strong>alt="Portrait photo(black and white) of Robin."</strong>&gt;
  &lt;h1&gt;Robin Berjon&lt;/h1&gt;
  &lt;p&gt;What more needs to be said?&lt;/p&gt;
  </pre>
</div>
</section>
<section>
  <h2>A graphical representation of some of the surrounding text</h2>

  <p>In many cases, the image is actually just supplementary, and its presence merely reinforces the
  surrounding text. In these cases, the <code><a href="/breakup/specs/html-images/#attr-img-alt">alt</a></code> attribute must be
  present but its value must be the empty string.</p>

  <p>In general, an image falls into this category if removing the image doesn't make the page any
  less useful, but including the image makes it a lot easier for users of visual browsers to
  understand the concept.</p>


  <div class="example">
  <p>It is not always easy to write a useful text alternative for an image, another option is to provide a link to a 
  description or further information about the image when one is available. </p>
  <p>In this example of  the same image, there is a short text alternative included in the <code>alt</code> attribute, and 
  there is a link after the image. The link points to a page containing <a href="http://www.tate.org.uk/servlet/ViewWork?cgroupid=-1&amp;workid=15984">information about the painting</a>. </p>

  <p><strong>The Lady of Shalott</strong><br><small>A poem by Alfred Lord Tennyson.</small></p>
  <p><img alt="Painting of a woman in a white flowing dress, sitting in a small boat." height="171" src="images/shalott.jpg" width="271"></p>
  <p><a href="http://bit.ly/5HJvVZ">About this painting.</a></p>
  <p><em>Full recitation of Alfred, Lord Tennyson's poem.</em></p>
  <pre>  &lt;header&gt;&lt;h1&gt;The Lady of Shalott&lt;/h1&gt;
  &lt;p&gt;A poem by Alfred Lord Tennyson&lt;/p&gt;&lt;/header&gt;
  &lt;figure&gt;
  &lt;img src="shalott.jpeg" <strong>alt="Painting of a woman in a white flowing dress, sitting in a small boat."</strong>&gt;
  &lt;p&gt;&lt;a href="http://bit.ly/5HJvVZ"&gt;<strong>About this painting.</strong>&lt;/a&gt;&lt;/p&gt;
  &lt;/figure&gt;
  &lt;!-- Full Recitation of Alfred, Lord Tennyson's Poem.  --&gt;
  </pre>
  </div>
</section>
<section>
  <h2>A purely decorative image that doesn't add any information</h2>

  <p>Purely decorative images are visual enhancements, decorations or embellishments that provide no 
  function or information beyond aesthetics to users who can view the images.</p>

  <p>Mark up purely decorative images so they can be ignored by assistive technology by using an empty <code>alt</code> 
  attribute (<code>alt=""</code>). While it is not unacceptable to include decorative images inline, 
  it is recommended if they are purely decorative to include the image using CSS.</p>

  <div class="example">
  <p>Here's an example of an image being used as a decorative banner for a person's blog, the image offers no information 
  and so an empty <code>alt</code> attribute is used.</p>
  
  <div>
  <p><img alt="" height="30" src="images/border.png" width="400"></p>
  <p><strong>Clara's Blog</strong></p>
  <p>Welcome to my blog...</p>
  </div>
  <pre>  &lt;header&gt;
  &lt;div&gt;&lt;img src="border.gif" <strong>alt=""</strong> width="400" height="30"&gt;&lt;/div&gt;
  &lt;h1&gt;Clara's Blog&lt;/h1&gt;
  &lt;/header&gt;
  &lt;p&gt;Welcome to my blog...&lt;/p&gt;
  </pre>
  </div>
</section>
<section>
  <h2>Inline images</h2>

  <p>When images are used inline as part of the flow of text in a sentence, provide a word or phrase as a text 
  alternative which makes sense in the context of the sentence it is apart of.</p>

  <div class="example">
  <p>I <img alt="love" height="24" src="images/heart.png" width="27"> you.</p>

  <pre>I &lt;img src="heart.png" <strong>alt="love"</strong>&gt; you.</pre>

  <p>My <img alt="heart" height="24" src="images/heart.png" width="27"> breaks.</p>

  <pre>My &lt;img src="heart.png" <strong>alt="heart"</strong>&gt; breaks.</pre>
  </div>    
</section>
<section>
  <h2>A group of images that form a single larger picture with no links</h2>

  <p>When a picture has been sliced into smaller image files that are then displayed
  together to form the complete picture again, include a text alternative for one
  of the images using the <code>alt</code> attribute as per the relevant relevant
  guidance for the picture as a whole, and then include an empty <code>alt</code>
  attribute on the other images.</p>

  <div class="example">
  <p>In this example, a picture representing a company logo for the <i>PIP Corporation</i>
  has been split into two pieces, the first containing the letters "PIP" and the second with the word "CO".
  The text alternatve <i>PIP CO</i> is in the <code>alt</code> attribute of the first image.</p>

  <p><img alt="Image containing the text 'PIP'." height="64" src="images/pip.gif" width="99"><img alt="Image containing the text 'CO'." height="64" src="images/co.gif" width="103"></p>

  <pre>  &lt;img src="pip.gif" <strong>alt="PIP CO"</strong>&gt;&lt;img src="co.gif" <strong>alt=""</strong>&gt;
  </pre>
  </div>

  <div class="example">
  <p>In the following example, a rating is shown as three filled
  stars and two empty stars. While the text alternative could have
  been "★★★☆☆", the author has
  instead decided to more helpfully give the rating in the form "3
  out of 5". That is the text alternative of the first image, and the
  rest have empty <code>alt</code> attributes.</p>
  <p><img alt="3 out of 5." height="30" src="images/rating.png" width="149"></p>

  <pre>  &lt;p&gt;Rating: &lt;meter max=5 value=3&gt;
  &lt;img src="1" <strong>alt="3 out of 5"</strong>&gt;
  &lt;img src="1" <strong>alt=""</strong>&gt;&lt;img src="1" <strong>alt=""</strong>&gt;
  &lt;img src="0" <strong>alt=""</strong>&gt;&lt;img src="0" <strong>alt=""</strong>&gt;
  &lt;/meter&gt;&lt;/p&gt;
  </pre>

  </div>
</section> 
<section>
  <h2>Image maps</h2>
  If an <code><a href="/breakup/specs/html-images/#the-img-element">img</a></code> element has a <code>usemap</code> attribute which references a <code><a href="/breakup/specs/html-linking/#the-map-element">map</a></code> element containing 
  <code><a href="/breakup/specs/html-linking/#the-area-element">area</a></code> elements that have <code>href</code> attributes, the <code><a href="/breakup/specs/html-images/#the-img-element">img</a></code> is considered to be interactive content.
  In such cases, always provide a text alternative for the image using the <code>alt</code> attribute.<p></p>
<div class="example">

   <p>Consider the following image which is a map of <a href="http://en.wikipedia.org/wiki/Katoomba,_New_South_Wales">Katoomba</a>, 
   it has 2 interactive regions corresponding to the areas of North and South Katoomba:</p>
   
   <p><img alt="Map of Katoomba." height="249" src="images/imagemap.png" usemap="#Map" width="209"></p>
<map name="Map"> 
<area alt="North Katoomba" coords="78,124,124,10,189,29,173,93,168,132,136,151,110,130" href="#" shape="poly">
<area alt="South Katoomba" coords="66,63,80,135,106,138,137,154,167,137,175,133,144,240,49,223,17,137,17,61" href="#" shape="poly">
</map> 
   <p>The text alternative is a brief description of the image. The <code>alt</code> attribute on each
   of the <code><a href="/breakup/specs/html-linking/#the-area-element">area</a></code> elements provides text describing the content of the target page of each linked region:</p>

 <pre>&lt;p&gt;View houses for sale in North Katoomba or South Katoomba:&lt;/p&gt;
 &lt;p&gt;&lt;img src="imagemap.png" width="209" <mark>alt="Map of Katoomba"</mark> height="249" usemap="#Map"&gt;

 &lt;map name="Map"&gt; 
 &lt;area shape="poly" coords="78,124,124,10,189,29,173,93,168,132,136,151,110,130" 
 href="north.html" <mark>alt="Houses in North Katoomba"</mark>&gt;
 &lt;area shape="poly" coords="66,63,80,135,106,138,137,154,167,137,175,133,144,240,49,223,17,137,17,61" 
 <mark>alt="Houses in South Katoomba"</mark> href="south.html"&gt;
 &lt;/map&gt; </pre>

  </div>
</section>
<section>
  <h2>A group of images that form a single larger picture with links</h2>

  <p class="note">Generally, <a href="/breakup/specs/html-linking/#image-map">image maps</a> should be
  used instead of slicing an image for links.</p>

  <p>Sometimes, when you create a composite picture from multiple images, you may wish to 
  link one or more of the images. Provide an <code><a href="/breakup/specs/html-images/#attr-img-alt">alt</a></code> attribute 
  for each linked image to describe the purpose of the link.
  </p>

  <div class="example">
  <p>In the following example, a composite picture is used to represent a "crocoduck"; a fictional creature which
  defies evolutionary principles by being part crocodile and part duck. You are asked to interact with the
  crocoduck, but you need to exercise caution...</p>

  <p><img alt="crocodile's angry, chomping head" src="images/crocoduck1.png"><img alt="duck's soft, feathery body" src="images/crocoduck2.png"></p>
  <pre>  &lt;h1&gt;The crocoduck&lt;/h1&gt;
  &lt;p&gt;You encounter a strange creature called a "crocoduck". 
  The creature seems angry! Perhaps some friendly stroking will help to calm 
  it, but be careful not to stroke any crocodile parts. This would just enrage 
  the beast further.&lt;/p&gt;
  &lt;a href="?stroke=head"&gt;&lt;img src="crocoduck1.png" <strong>alt="Stroke crocodile's angry, chomping head"</strong>&gt;&lt;/a&gt; 
  &lt;a href="?stroke=body"&gt;&lt;img src="crocoduck2.png" <strong>alt="Stroke duck's soft, feathery body"</strong>&gt;&lt;/a&gt;  
  </pre>

  </div>
  
</section>
<section>
  <h2>Images of Pictures</h2>

  <p>Images of pictures or graphics include visual representations of objects, people, scenes, abstractions, etc.  
  This <a href="http://www.w3.org/TR/WCAG20/#non-text-contentdef">non-text content</a>, [[WCAG]] can convey a significant amount of 
  information visually or provide a <a href="http://www.w3.org/TR/WCAG20/#sensoryexpdef">specific sensory experience</a>, [[WCAG]] to 
  a sighted person. Examples include photographs, paintings, drawings and artwork.</p>
  
  <p>An appropriate text alternative for a picture is a brief description, or <a href="http://www.w3.org/TR/WCAG20/#namedef">name</a> [[WCAG]]. As in all text alternative authoring decisions, writing suitable text alternatives for pictures requires 
  human judgment. The text value is subjective to the context where the image is used and the page author's writing style. Therefore, 
  there is no single 'right' or 'correct' piece of <code>alt</code> text for any particular image. In  addition to providing a short text 
  alternative that gives a brief description of the non-text content, also providing supplemental content through another means when 
  appropriate may be useful.</p>
  
  <div class="example">
  <p>This first example shows an image uploaded to a photo-sharing site. The photo is of a cat, sitting in the bath. The image has a 
  text alternative provided using the <code><a href="/breakup/specs/html-images/#the-img-element">img</a></code> element's <code>alt</code> attribute. It also has a caption provided by including 
  the <code><a href="/breakup/specs/html-images/#the-img-element">img</a></code> element in a <code><a href="/breakup/specs/html-figures/#the-figure-element">figure</a></code> element and using a <code><a href="/breakup/specs/html-figures/#the-figcaption-element">figcaption</a></code> element to identify the caption text.</p>
  
  <p><img alt="Lola the cat sitting under an umbrella in the bath tub." height="242" src="images/lola.png" width="300"></p>
  <p>Lola prefers a bath to a shower.</p>
   
  <pre>  &lt;figure&gt;
  &lt;img src="664aef.jpg" <strong>alt="Lola the cat sitting under an umbrella in the bath tub."</strong>&gt;
  &lt;figcaption&gt;Lola prefers a bath to a shower.&lt;/figcaption&gt;
  &lt;/figure&gt;
  </pre>
  </div>
   
  <div class="example">
  <p>This example is of an image that defies a complete description, as the subject of the image is open to interpretation.
  The image has a text alternative in the <code>alt</code> attribute which gives users who cannot view the image a sense 
  of what the image is. It also has a caption provided by including the <code><a href="/breakup/specs/html-images/#the-img-element">img</a></code> element in a <code><a href="/breakup/specs/html-figures/#the-figure-element">figure</a></code> 
  element and using a <code><a href="/breakup/specs/html-figures/#the-figcaption-element">figcaption</a></code> element to identify the caption text.</p>
  
  <p><img alt="An abstract, freeform, vertically symmetrical, black inkblot on a light background." height="197" src="images/inkblot1.png" width="300"></p>
  <p>The first of the ten cards in the Rorschach test.</p>
   
  <pre>&lt;figure&gt;
  &lt;img src="Rorschach1.jpg" <strong>alt="An abstract, freeform, vertically symmetrical, black inkblot on a light background."</strong>&gt;
  &lt;figcaption&gt;The first of the ten cards in the Rorschach test.&lt;/figcaption&gt;
  &lt;/figure&gt; </pre>
  </div>
</section>   
<section>
  <h2>Webcam images</h2>

  <p>Webcam images are static images that are automatically updated periodically. Typically the images are
  from a fixed viewpoint, the images may update on the page automatically as each new image is uploaded from
  the camera or the user may be required to refresh the page to view an updated image. Examples include traffic
  and weather cameras.</p>

  <div class="example">
  <p>This example is fairly typical; the title and a time stamp are included in the image, automatically generated
  by the webcam software. It would be better if the text information was not included in the image, but as it is part
  of the image, include it as part of the text alternative. A caption is also provided using the <code><a href="/breakup/specs/html-figures/#the-figure-element">figure</a></code>
  and <code><a href="/breakup/specs/html-figures/#the-figcaption-element">figcaption</a></code> elements.  As the image is provided to give a visual indication of the current weather near a building,
  a link to a local weather forecast is provided, as with automatically generated and uploaded webcam images it may be impractical to
  provide such information as a text alternative.</p>

  <p>The text of the <code>alt</code> attribute includes a prose version of the timestamp, designed to make the text more
  understandable when announced by text to speech software.  The text alternative also includes a description of some aspects
  of what can be seen in the image which are unchanging, although weather conditions and time of day change.</p>

  <p><img alt="Sopwith house weather cam. Taken on the 21/04/10 at 11:51 and 34 seconds. In the foreground are the safety
  rails on the flat part of the roof. Nearby ther are low rise industrial buildings, beyond those are block of flats. In the distance there's a
  church steeple." height="225" src="images/webcam1.png" width="296"></p>

  <p>View from the top of Sopwith house, looking towards North Kingston. This image is updated every hour.</p>

  <p>View the <a href="http://news.bbc.co.uk/weather/forecast/4296?area=Kingston">latest weather details</a> for Kingston upon Thames.</p>
   
  <pre>&lt;figure&gt;
  &lt;img src="webcam1.jpg" <strong>alt="Sopwith house weather cam. Taken on the 21/04/10 at 11:51 and 34 seconds.
  In the foreground are the safety rails on the flat part of the roof. Nearby there are low rise industrial buildings,
  beyond are blocks of flats. In the distance there's a church steeple."</strong>&gt;
  &lt;figcaption&gt;View from Sopwith house, looking towards north Kingston. This image is updated every hour.&lt;/figcaption&gt;
  &lt;/figure&gt;
  &lt;p&gt;View the &lt;a href="http://news.bbc.co.uk/weather/forecast/4296?area=Kingston"&gt;latest weather details&lt;/a&gt; for Kingston upon Thames.&lt;/p&gt;
  </pre>
  </div>
</section>
<section>
  <h2>When a text alternative is not available at the time of publication</h2>

  <p>In some cases an image is included in a published document, but the author is unable to provide an appropriate text alternative. 
  In such cases the minimum requirement is to provide a caption for the image using the <code><a href="/breakup/specs/html-figures/#the-figure-element">figure</a></code> and <code><a href="/breakup/specs/html-figures/#the-figcaption-element">figcaption</a></code> 
  elements under the following conditions:</p>

  <ul id="figcaption-as-alt-condition">
  <li>The <code><a href="/breakup/specs/html-images/#the-img-element">img</a></code> element is in a <code><a href="/breakup/specs/html-figures/#the-figure-element">figure</a></code> element
  </li><li>The <code><a href="/breakup/specs/html-figures/#the-figure-element">figure</a></code> element contains a <code><a href="/breakup/specs/html-figures/#the-figcaption-element">figcaption</a></code> element
  </li><li>The <code><a href="/breakup/specs/html-figures/#the-figcaption-element">figcaption</a></code> element contains content other than inter-element whitespace
  </li><li>Ignoring the <code><a href="/breakup/specs/html-figures/#the-figcaption-element">figcaption</a></code> element and its descendants, the <code><a href="/breakup/specs/html-figures/#the-figure-element">figure</a></code>
  element has no <code><a href="http://www.w3.org/html/wg/drafts/2dcontext/master/#text-0">Text</a></code> node descendants other than inter-element whitespace, and no 
  embedded content descendant other than the <code><a href="/breakup/specs/html-images/#the-img-element">img</a></code> element.
  </li></ul>

  <p class="note">In other words, the only content of the <code><a href="/breakup/specs/html-figures/#the-figure-element">figure</a></code> is an <code><a href="/breakup/specs/html-images/#the-img-element">img</a></code> element and a <code><a href="/breakup/specs/html-figures/#the-figcaption-element">figcaption</a></code>
  element, and the <code><a href="/breakup/specs/html-figures/#the-figcaption-element">figcaption</a></code> element must include (caption) content.</p>
  <p class="note">Such cases are to be kept to an absolute
    minimum. If there is even the slightest possibility of the author
    having the ability to provide real alternative text, then it would
    not be acceptable to omit the <code><a href="/breakup/specs/html-images/#attr-img-alt">alt</a></code>
    attribute.</p>
  
  <div class="example">
  <p>In this example, a person uploads a photo, as part of a bulk upoad of many images, to a photo sharing site. The user has not
  provided a text alternative or a caption for the image. The site's authoring tool inserts a caption automatically using whatever useful
  information it has for the image. In this case it's the file name and date the photo was taken.</p> 
  <p class="warning">The caption text in the example below is not a suitable text alternative and is not conforming to the Web Accessibility Guidelines 2.0. [[WCAG]]</p>
  <p><img alt="no text alternative provided" height="258" src="images/clara.png" width="300"></p>
  <p><strong>clara.jpg, taken on 12/11/2010.</strong></p>

  <pre>  &lt;figure&gt;
  &lt;img src="clara.jpg"&gt;
  &lt;figcaption&gt;<strong>clara.jpg, taken on 12/11/2010.</strong>&lt;/figcaption&gt;
  &lt;/figure&gt;
  </pre>
  <p>Notice that even in this example, as much useful information
    as possible is still included in the <code><a href="/breakup/specs/html-figures/#the-figcaption-element">figcaption</a></code> element.</p>
  </div>

  <div class="example">
  <p>In this second example, a person uploads a photo to a photo sharing site. She has provided
  a caption for the image but not a text alternative. This may be because the site does not provide users with the ability
  to add a text alternative in the <code>alt</code> attribute.</p> 
  
  <p><img alt="no text alternative provided" height="250" src="images/elo.png" width="205"></p>
  <p><strong>Eloisa with Princess Belle</strong></p>

  <pre>  &lt;figure&gt;
  &lt;img src="elo.jpg"&gt;
  &lt;figcaption&gt;<strong>Eloisa with Princess Belle</strong>&lt;/figcaption&gt;
  &lt;/figure&gt;
  </pre>

  </div>

  <div class="example">
  <p>Sometimes the entire point of the image is that a textual
  description is not available, and the user is to provide the
  description. For example, software that displays images and
  asks for alternative text precisely for the purpose of then
  writing a page with correct alternative text. Such a page could
  have a table of images, like this:</p>

  <pre>&lt;table&gt;
  &lt;tr&gt;&lt;tr&gt; &lt;th&gt; Image &lt;th&gt; Description&lt;tr&gt;
  &lt;td&gt;
  &lt;figure&gt;
  &lt;img src="2421.png"&gt;
  &lt;figcaption&gt;Image 640 by 100, filename 'banner.gif'&lt;/figcaption&gt;
  &lt;/figure&gt;
  &lt;td&gt; &lt;input name="alt2421"&gt;
  &lt;tr&gt;
  &lt;td&gt; &lt;figure&gt;
  &lt;img src="2422.png"&gt;
  &lt;figcaption&gt;Image 200 by 480, filename 'ad3.gif'&lt;/figcaption&gt;
  &lt;/figure&gt;
  &lt;td&gt; &lt;input name="alt2422"&gt;
  &lt;/table&gt;</pre>

  </div>

  <p class="note">Since some users cannot use images at all (e.g. because they are blind) the 
  <code><a href="/breakup/specs/html-images/#attr-img-alt">alt</a></code> attribute is only allowed to be omitted when no text 
  alternative is available and none can be made available, as in the above examples.</p>
</section>  
<section>
  <h2>An image not intended for the user</h2>

  <p class="auth">Generally authors should avoid using <code><a href="/breakup/specs/html-images/#the-img-element">img</a></code> elements
  for purposes other than showing images.</p>

  <p>If an <code><a href="/breakup/specs/html-images/#the-img-element">img</a></code> element is being used for purposes other
  than showing an image, e.g. as part of a service to count page
  views, use an empty <code><a href="/breakup/specs/html-images/#attr-img-alt">alt</a></code> attribute.</p>

  <div class="example">
  <p>An example of an <code><a href="/breakup/specs/html-images/#the-img-element">img</a></code> element used to collect web page statistics.
  The <code>alt</code> attribute is empty as the image has no meaning.</p>
 
  <pre>  &lt;img src="http://server3.stats.com/count.pl?NeonMeatDream.com" width="0" height="0" <strong>alt=""</strong>&gt;
  </pre>
  </div>
  
  <p class="note">It is recommended for the example use above the <code><a href="#attr-dim-width">width</a></code> and
  <code><a href="#attr-dim-height">height</a></code> attributes  be set to zero.</p>
  
  <div class="example">
  <p>Another example use is when an image such as a <i>spacer.gif</i> is used to aid positioning of content. 
  The <code>alt</code> attribute is empty as the image has no meaning.</p>
   
  <pre>  &lt;img src="spacer.gif" width="10" height="10" <strong>alt=""</strong>&gt;
  </pre>
  </div>

  <p class="note">It is recommended that that CSS be used to position content instead of <code><a href="/breakup/specs/html-images/#the-img-element">img</a></code> elements.</p>
  
</section>
<section>
  <h2>Icon Images</h2>

  <p>An icon is usually a simple picture representing a program, action, data file or a concept. 
  Icons are intended to help users of visual browsers to recognize features at a glance.</p>

  <p>Use an empty <code>alt</code> attribute when an icon is supplemental to
  text conveying the same meaning.</p>

 <div class="example">
 <p>In this example, we have a link pointing to a site's home page, the link contains a 
 house icon image and the text "home". The image has an empty <code>alt</code> text. 
 Where images are used in this way, it would also be appropriate to add the image using CSS</p>
        
  <p><img alt="A house icon next to the word 'home'." height="38" src="images/home.png" width="100"></p>
       
  <pre>  &lt;a href="home.html"&gt;&lt;img src="home.gif" width="15" height="15" <strong>alt=""</strong>&gt;Home&lt;/a&gt;
  </pre>

  <pre>  #home:before
  { 
  content: url(home.png);
  }

  &lt;a href="home.html" id="home"&gt;Home&lt;/a&gt;
  </pre>
 </div>

 <div class="example">
 <p>In this example, there is a warning message, with a warning icon. The word "Warning!" is in emphasized 
 text next to the icon. As the information conveyed by the icon is redundant the <code><a href="/breakup/specs/html-images/#the-img-element">img</a></code> element is given an an empty <code>alt</code> attribute.</p>

 <p><img alt="Warning!" height="34" src="images/warning.png" width="38"> <strong>Warning!</strong> Your session is about to expire.</p>

  <pre>  &lt;p&gt;&lt;img src="warning.png" width="15" height="15" <strong>alt=""</strong>&gt;
  &lt;strong&gt;Warning!&lt;/strong&gt; 
  Your session is about to expire&lt;/p&gt;
  </pre>
 </div>

 <p>When an icon conveys additional information not available in text, provide a text alternative.</p>
 
 <div class="example">
 <p>In this example, there is a warning message, with a warning icon. The icon emphasizes the 
 importance of the message and identifies it as a particular type of content.</p>
 <p><img alt="Warning!" height="34" src="images/warning.png" width="38"> <strong>Your session is about to expire.</strong></p>

  <pre>  &lt;p&gt;&lt;img src="warning.png" width="15" height="15" <strong>alt="Warning!"</strong>&gt;
  Your session is about to expire&lt;/p&gt;
  </pre>

 </div>
</section>
<section>
  <h2>Logos, insignia, flags, or emblems</h2>
  <p>Many pages include logos, insignia, flags, or emblems, which stand for a company, organization, project, 
  band, software package, country, or other entity. What can be considered as an appropriate text alternative depends upon, 
  like all images, the context in which the image is being used and what function it serves in the given context.</p>
  
  <p>If a logo is the sole content of a link, provide a brief description of the link target in the <code>alt</code> attribute.</p>
  <div class="example">
  <p>This example illustrates the use of the HTML5 logo as the sole content of a link to the HTML specification.</p>
  <p><a href="http://www.w3.org/html/wg/drafts/html/master/">
  <img alt="HTML 5.1 Nightly specification" height="128" src="images/HTML5_Logo.png" width="128"></a></p>
  <pre>  &lt;a href="http://dev.w3.org/html5/spec/spec.html"&gt;
  &lt;img src="HTML5_Logo.png" <strong>alt="HTML 5.1 specification"</strong>&gt;&lt;/a&gt;
  </pre>
  </div>
  <p>If a logo is being used to represent the entity, e.g. as a page heading, provide the name of the 
  entity being represented by the logo as the text alternative.</p>
  <div class="example">
  <p>This example illustrates the use of the WebPlatform.org logo being used to represent itself.</p>
  <p><img alt="WebPlatform.org" height="100" src="images/logo-with-text.png" width="110"> and other developer resources</p>
  
  <pre>  &lt;h2&gt;&lt;img src="images/webplatform.png" <strong>alt="WebPlatform.org"</strong>&gt; and other developer resources&lt;h2&gt;
  </pre>
  <p class="note">The text alternative in the example above could also include the word "logo" to describe the type of image content. 
  If so, it is suggested that square brackets be used to delineate this information: <code>alt="[logo] WebPlatform.org"</code>.</p> 
  </div>
  <p>If a logo is being used next to the name of the what that it represents, then the logo is supplemental. 
  Include an empty <code>alt</code> attribute as the text alternative is already provided.</p>
  
  <div class="example">
  <p>This example illustrates the use of a logo next to the name of the organization it represents.</p>
  <p><img alt="" height="68" src="images/webplatform.png" width="72"> WebPlatform.org</p>
  <pre>  &lt;img src="images/webplatform1.png" <strong>alt=""</strong>&gt; WebPlatform.org
  </pre>
  
  </div>
  <p>If the logo is used alongside text discussing the subject or entity the logo represents, then provide 
  a text alternative which describes the logo.</p>

  <div class="example">
  <p>This example illustrates the use of a logo next to text discussing the subject the logo represents.</p>
  <p style="float:left;"><img alt="HTML5 logo: Shaped like a shield with the 
  text 'HTML' above and the numeral '5' prominent on the face of the shield." height="128" src="images/HTML5_Logo.png" width="128"></p>
  <p style="width:30em;"><strong>HTML5</strong> is a language for structuring and presenting content for the World 
    Wide Web, a core technology of the Internet. It is the latest revision of the HTML standard 
   (originally created in 1990 and most recently standardized as HTML4 in 1997) and currently remains 
   under development. Its core aims have been to improve the language with support for the latest 
   multimedia while keeping it easily readable by humans and consistently understood by computers and 
   devices (web browsers, parsers etc.). </p>
  <pre style="clear:both">  &lt;p&gt;&lt;img src="HTML5_Logo.png" <strong>alt="HTML5 logo: Shaped like a shield with the 
  text 'HTML' above and the numeral '5' prominent on the face of the shield."</strong>&gt;&lt;/p&gt;
  
  <i>Information about HTML5</i></pre>
  </div>
</section>  
<section>
  <h2>CAPTCHA Images</h2>
  <p>CAPTCHA stands for "Completely Automated Public Turing test to tell Computers and Humans Apart".
  CAPTCHA images are used for security purposes to confirm that content is being accessed by a person
  rather than a computer. This authentication is done through visual verification of an image. CAPTCHA 
  typically presents an image with characters or words in it that the user is to re-type. The image is 
  usually distorted and has some noise applied to it to make the characters difficult to read.</p>
  
  <p>To improve the accessibility of CAPTCHA provide text alternatives that identify and describe the purpose of the image, and provide alternative 
  forms of the CAPTCHA using output modes for different types of sensory perception. For instance provide 
  an audio alternative along with the visual image. Place the audio option right next to the visual one. 
  This helps but is still problematic for people without sound cards, the deaf-blind, and some people with limited hearing. 
  Another method is to include a form that asks a question along with the visual image. This helps but can be 
  problematic for people with cognitive impairments.</p>
  <p class="note">It is strongly recommended that alternatives to CAPTCHA be used, as all forms of CAPTCHA introduce 
  unacceptable barriers to entry for users with disabilities. Further information is available in 
  <a href="http://www.w3.org/TR/turingtest/">Inaccessibility of CAPTCHA</a>.</p>
  <div class="example">
  <p>This example shows a CAPTCHA test which uses a distorted image of text. The text alternative in the 
  <code>alt</code> attribute provides instructions for a user in the case where she cannot access the image content. </p>
  <p><img alt="captcha containing the words 'aides' and 'sprucest'. The letters are distorted and the color of the letters and background is partially inverted," height="60" src="images/captcha.png" width="270"></p>
  <p><strong>Example code:</strong></p>
  <pre>&lt;img src="captcha.png" <strong>alt="If you cannot view this image an audio challenge is provided."</strong>&gt; 
  &lt;!-- audio CAPTCHA option that allows the user to listen and type the word --&gt;  
  &lt;!-- form that asks a question --&gt;
  </pre>
  </div>
</section>  
<section>
  <h2>An image in a <code><a href="/breakup/specs/html-images/#the-picture-element">picture</a></code> element</h2>
  <p>The <code><a href="/breakup/specs/html-images/#the-picture-element">picture</a></code> element and any <code><a href="/breakup/specs/html-media/#the-source-element">source</a></code> elements it contains have no semantics for users, 
  only the <code><a href="/breakup/specs/html-images/#the-img-element">img</a></code> element or its text alternative is displayed to users. Provide a text alternative for an 
  <code><a href="/breakup/specs/html-images/#the-img-element">img</a></code> element without regard to it being within a <code><a href="/breakup/specs/html-images/#the-picture-element">picture</a></code> element. Refer to 
  <a href="/breakup/specs/html-images/#alt">Requirements for providing text to act as an alternative for images</a> for more information on how to provide
  useful <code>alt</code> text for images.</p>
  <p class="note"><a href="/breakup/specs/html-images/#art-direction">Art directed</a> images that rely on <code><a href="/breakup/specs/html-images/#the-picture-element">picture</a></code> need to depict 
  the same content (irrespective of size, pixel density, or any other discriminating factor). Therefore the appropriate 
  text alternative for an image will always be the same irrespective of which source file ends up being chosen by the browser.</p>

   <div class="example">

<pre>&lt;h2&gt;Is it a ghost?&lt;/h2&gt;
&lt;picture&gt;
  &lt;source <strong>media="(min-width: 32em)"</strong> srcset="large.jpg"&gt;
  &lt;img src="small.jpg" alt="Reflection of a girls face in a train window."&gt;
&lt;/picture&gt;</pre>
<p>The large and small versions (both versions are displayed for demonstration purposes) of 
the image portray the same scene: Reflection of a girls face in a train window, 
while the small version (displayed on smaller screens) is cropped, this does not effect the subject matter 
or the appropriateness of the <code>alt</code> text.</p> 
<p><img alt="Reflection of a girls face in a train window." height="315" src="images/face_large.png" width="300">&nbsp;<img alt="Reflection of a girls face in a train window." height="237" src="images/face_small.png" width="228"></p>
</div>
  <!-- alt advice SF-->


</section>
<section>
  <h2>Guidance for markup generators</h2>

  <p>Markup generators (such as WYSIWYG authoring tools) should,
  wherever possible, obtain a text alternative from their
  users. However, it is recognized that in many cases, this will not
  be possible.</p>

  <p>For images that are the sole contents of links, markup generators
  should examine the link target to determine the title of the target,
  or the URL of the target, and use information obtained in this
  manner as the text alternative.</p>

  <!-- WHATWG recommend use of @title this is bad for usability and accessibility -->
  <p>For images that have captions, markup generators should use the
  <code><a href="/breakup/specs/html-figures/#the-figure-element">figure</a></code> and <code><a href="/breakup/specs/html-figures/#the-figcaption-element">figcaption</a></code> elements to provide the
  image's caption.</p>
    <p>As a last resort, implementors should either set the <code><a href="/breakup/specs/html-images/#attr-img-alt">alt</a></code> attribute to the empty string, under
  the assumption that the image is a purely decorative image that
  doesn't add any information but is still specific to the surrounding
  content, or omit the <code><a href="/breakup/specs/html-images/#attr-img-alt">alt</a></code> attribute
  altogether, under the assumption that the image is a key part of the
  content.</p>

  <p>Markup generators may specify a <dfn id="attr-img-generator-unable-to-provide-required-alt"><code>generator-unable-to-provide-required-alt</code></dfn>
  attribute on <code><a href="/breakup/specs/html-images/#the-img-element">img</a></code> elements for which they have been
  unable to obtain a text alternative and for which they have therefore
  omitted the <code><a href="/breakup/specs/html-images/#attr-img-alt">alt</a></code> attribute. The
  value of this attribute must be the empty string. Documents
  containing such attributes are not conforming, but conformance
  checkers will <a href="/breakup/specs/html-images/#guidance-for-conformance-checkers">silently
  ignore</a> this error.</p>

  <p class="note">This is intended to avoid markup generators from
  being pressured into replacing the error of omitting the <code><a href="/breakup/specs/html-images/#attr-img-alt">alt</a></code> attribute with the even more
  egregious error of providing phony text alternatives, because
  state-of-the-art automated conformance checkers cannot distinguish
  phony text alternatives from correct text alternatives.</p>

  <p>Markup generators should generally avoid using the image's own
  file name as the text alternative. Similarly, markup generators
  should avoid generating text alternatives from any content that will
  be equally available to presentation user agents (e.g. Web
  browsers).</p>

  <p class="note">This is because once a page is generated, it will
  typically not be updated, whereas the browsers that later read the
  page can be updated by the user, therefore the browser is likely to
  have more up-to-date and finely-tuned heuristics than the markup
  generator did when generating the page.</p>
</section>
<section>
  <h2>Guidance for conformance checkers</h2>

  <p>A conformance checker must report the lack of an <code><a href="/breakup/specs/html-images/#attr-img-alt">alt</a></code> attribute as an error unless one of
  the conditions listed below applies:</p>

  <ul>

   <!-- when editing this list, search for the two other occurrences
   of 'critical-no-alt' -->

   <li><p>The <code><a href="/breakup/specs/html-images/#the-img-element">img</a></code> element is in a <code><a href="/breakup/specs/html-figures/#the-figure-element">figure</a></code>
   element that satisfies <a href="/breakup/specs/html-images/#figcaption-as-alt-condition">the
   conditions described above</a>.</p></li>

<!--TITLE-->

   <!-- the following are additional entries not included in the
   aforementioned list, as they apply only to conformance checkers -->


   <li><p>The <code><a href="/breakup/specs/html-images/#the-img-element">img</a></code> element has a (non-conforming) <code><a href="/breakup/specs/html-images/#attr-img-generator-unable-to-provide-required-alt">generator-unable-to-provide-required-alt</a></code>
   attribute whose value is the empty string. A conformance checker
   that is not reporting the lack of an <code><a href="/breakup/specs/html-images/#attr-img-alt">alt</a></code> attribute as an error must also not
   report the presence of the empty <code><a href="/breakup/specs/html-images/#attr-img-generator-unable-to-provide-required-alt">generator-unable-to-provide-required-alt</a></code>
   attribute as an error. (This case does not represent a case where
   the document is conforming, only that the generator could not
   determine appropriate alternative text — validators are not
   required to show an error in this case, because such an error might
   encourage markup generators to include bogus alternative text
   purely in an attempt to silence validators. Naturally, conformance
   checkers <em>may</em> report the lack of an <code><a href="/breakup/specs/html-images/#attr-img-alt">alt</a></code> attribute as an error even in the
   presence of the <code><a href="/breakup/specs/html-images/#attr-img-generator-unable-to-provide-required-alt">generator-unable-to-provide-required-alt</a></code>
   attribute; for example, there could be a user option to report
   <em>all</em> conformance errors even those that might be the more
   or less inevitable result of using a markup generator.)</p></li>

  </ul>

</section>

</section></section></body></html>